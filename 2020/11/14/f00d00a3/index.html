<!DOCTYPE html>
<html lang=zh-CN>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta property="og:description" content="Tadow çš„åšå®¢">
    <meta property="og:type" content="website">
    <meta name="description" content="Tadow çš„åšå®¢">
    <meta name="keyword"  content="Tadow, Resolmi, imlgw, åŠå²›é“ç›’, ç®—æ³•, Java, Golang">
    <link rel="shortcut icon" href="https://fav.farm/ğŸ’­">

    <title>
        
        DPï¼šæœ€é•¿ä¸Šå‡å­åºåˆ—æ¨¡å‹ - Tadow ç¢ç¢å¿µ
        
    </title>

    <!-- Custom CSS -->
    
<link rel="stylesheet" href="/css/aircloud.css">

    
<link rel="stylesheet" href="/css/gitment.css">

    <!--<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">-->
    <link href="//at.alicdn.com/t/font_620856_28hi1hpxx24.css" rel="stylesheet" type="text/css">
    <!-- ga & ba script hoook -->
    <script></script>
<meta name="generator" content="Hexo 5.4.2"><style>mjx-container[jax="SVG"] {
  direction: ltr;
}

mjx-container[jax="SVG"] > svg {
  overflow: visible;
}

mjx-container[jax="SVG"][display="true"] {
  display: block;
  text-align: center;
  margin: 1em 0;
}

mjx-container[jax="SVG"][justify="left"] {
  text-align: left;
}

mjx-container[jax="SVG"][justify="right"] {
  text-align: right;
}

g[data-mml-node="merror"] > g {
  fill: red;
  stroke: red;
}

g[data-mml-node="merror"] > rect[data-background] {
  fill: yellow;
  stroke: none;
}

g[data-mml-node="mtable"] > line[data-line] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > rect[data-frame] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > .mjx-dashed {
  stroke-dasharray: 140;
}

g[data-mml-node="mtable"] > .mjx-dotted {
  stroke-linecap: round;
  stroke-dasharray: 0,140;
}

g[data-mml-node="mtable"] > svg {
  overflow: visible;
}

[jax="SVG"] mjx-tool {
  display: inline-block;
  position: relative;
  width: 0;
  height: 0;
}

[jax="SVG"] mjx-tool > mjx-tip {
  position: absolute;
  top: 0;
  left: 0;
}

mjx-tool > mjx-tip {
  display: inline-block;
  padding: .2em;
  border: 1px solid #888;
  font-size: 70%;
  background-color: #F8F8F8;
  color: black;
  box-shadow: 2px 2px 5px #AAAAAA;
}

g[data-mml-node="maction"][data-toggle] {
  cursor: pointer;
}

mjx-status {
  display: block;
  position: fixed;
  left: 1em;
  bottom: 1em;
  min-width: 25%;
  padding: .2em .4em;
  border: 1px solid #888;
  font-size: 90%;
  background-color: #F8F8F8;
  color: black;
}

foreignObject[data-mjx-xml] {
  font-family: initial;
  line-height: normal;
  overflow: visible;
}

.MathJax path {
  stroke-width: 3;
}

mjx-container[display="true"] {
  overflow: auto hidden;
}

mjx-container[display="true"] + br {
  display: none;
}
</style><link rel="alternate" href="/atom.xml" title="Tadow ç¢ç¢å¿µ" type="application/atom+xml">
</head>

<body>

<div class="site-nav-toggle" id="site-nav-toggle">
    <button>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
    </button>
</div>

<div class="index-about">
    <i> Keep It Simple, Stupid </i>
</div>

<div class="index-container">
    
    <div class="index-left">
        
<div class="nav" id="nav">
    <div class="avatar-name">
        <div class="avatar radius">
            <img src="https://static.imlgw.top/blog/20220821160037.png" />
        </div>
        <div class="name">
            <i>Tadow</i>
        </div>
    </div>
    <div class="contents" id="nav-content">
        <ul>
            <li >
                <a href="/">
                    <i class="iconfont icon-shouye1"></i>
                    <span>ä¸»é¡µ</span>
                </a>
            </li>
            <!-- <li >
                <a href="/tags">
                    <i class="iconfont icon-biaoqian1"></i>
                    <span>æ ‡ç­¾</span>
                </a>
            </li> -->
            <li >
                <a href="/categories">
                    <i class="iconfont icon-biaoqian1"></i>
                    <span>åˆ†ç±»</span>
                </a>
            </li>
            <li >
                <a href="/archives">
                    <i class="iconfont icon-guidang2"></i>
                    <span>å­˜æ¡£</span>
                </a>
            </li>
            
            <li >
                <a href="/selfhosted">
                    <i class="iconfont icon-guidang1"></i>
                    <span>è‡ªå»º</span>
                </a>
            </li>

            <li >
                <a href="/collect/">
                    <i class="iconfont icon-shoucang1"></i>
                    <span>æ”¶è—</span>
                </a>
            </li>

            <li >
                <a href="/about/">
                    <i class="iconfont icon-guanyu2"></i>
                    <span>å…³äº</span>
                </a>
            </li>
            
            <li>
                <a id="search">
                    <i class="iconfont icon-sousuo1"></i>
                    <span>æœç´¢</span>
                </a>
            </li>
            
        </ul>
    </div>
    
        <div id="toc" class="toc-article">
    <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9C%80%E9%95%BF%E4%B8%8A%E5%8D%87%E5%AD%90%E5%BA%8F%E5%88%97%E6%A8%A1%E5%9E%8B"><span class="toc-text">æœ€é•¿ä¸Šå‡å­åºåˆ—æ¨¡å‹</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1017-%E6%80%AA%E7%9B%97%E5%9F%BA%E5%BE%B7%E7%9A%84%E6%BB%91%E7%BF%94%E7%BF%BC"><span class="toc-text">1017. æ€ªç›—åŸºå¾·çš„æ»‘ç¿”ç¿¼</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A3%E6%B3%95%E4%B8%80"><span class="toc-text">è§£æ³•ä¸€</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1014-%E7%99%BB%E5%B1%B1"><span class="toc-text">1014. ç™»å±±</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A3%E6%B3%95%E4%B8%80-1"><span class="toc-text">è§£æ³•ä¸€</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1012-%E5%8F%8B%E5%A5%BD%E5%9F%8E%E5%B8%82"><span class="toc-text">1012. å‹å¥½åŸå¸‚</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A3%E6%B3%95%E4%B8%80-2"><span class="toc-text">è§£æ³•ä¸€</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1016-%E6%9C%80%E5%A4%A7%E4%B8%8A%E5%8D%87%E5%AD%90%E5%BA%8F%E5%88%97%E5%92%8C"><span class="toc-text">1016. æœ€å¤§ä¸Šå‡å­åºåˆ—å’Œ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A3%E6%B3%95%E4%B8%80-3"><span class="toc-text">è§£æ³•ä¸€</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1010-%E6%8B%A6%E6%88%AA%E5%AF%BC%E5%BC%B9"><span class="toc-text">1010. æ‹¦æˆªå¯¼å¼¹</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A3%E6%B3%95%E4%B8%80-4"><span class="toc-text">è§£æ³•ä¸€</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A3%E6%B3%95%E4%BA%8C"><span class="toc-text">è§£æ³•äºŒ</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#187-%E5%AF%BC%E5%BC%B9%E9%98%B2%E5%BE%A1%E7%B3%BB%E7%BB%9F"><span class="toc-text">187. å¯¼å¼¹é˜²å¾¡ç³»ç»Ÿ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A3%E6%B3%95%E4%B8%80-5"><span class="toc-text">è§£æ³•ä¸€</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A3%E6%B3%95%E4%BA%8C-1"><span class="toc-text">è§£æ³•äºŒ</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#272-%E6%9C%80%E9%95%BF%E5%85%AC%E5%85%B1%E4%B8%8A%E5%8D%87%E5%AD%90%E5%BA%8F%E5%88%97"><span class="toc-text">272. æœ€é•¿å…¬å…±ä¸Šå‡å­åºåˆ—</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A3%E6%B3%95%E4%B8%80-6"><span class="toc-text">è§£æ³•ä¸€</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A3%E6%B3%95%E4%BA%8C-2"><span class="toc-text">è§£æ³•äºŒ</span></a></li></ol></li></ol>
</div>
    
</div>


<div class="search-field" id="search-field">
    <div class="search-bg" id="search-bg"></div>
    <div class="search-container">
        <div class="search-input">
            <span id="esc-search"> <i class="icon-fanhui iconfont"></i></span>
            <input id="search-input"/>
            <span id="begin-search">æœç´¢</span>
        </div>
        <div class="search-result-container" id="search-result-container">

        </div>
    </div>
</div>

        <div class="index-about-mobile">
            <i> Keep It Simple, Stupid </i>
        </div>
    </div>
    
    <div class="index-middle">
        <!-- Main Content -->
        


<div class="post-container">
    <div class="post-title">
        DPï¼šæœ€é•¿ä¸Šå‡å­åºåˆ—æ¨¡å‹
    </div>

    <div class="post-meta">
        <span class="attr">å‘å¸ƒäºï¼š<span>2020-11-14 00:00:00</span></span>
        
        <span class="attr">æ ‡ç­¾ï¼š/
        
        <a class="tag" href="/tags/#ç®—æ³•" title="ç®—æ³•">ç®—æ³•</a>
        <span>/</span>
        
        
        </span>
        <span class="attr">è®¿é—®ï¼š<span id="busuanzi_value_page_pv"></span>
</span>
</span>
    </div>
    <div class="post-content no-indent">
        <blockquote>
<p>ç°åœ¨æ‰“ç®—å†™ä¸€äº›çŸ­ç‚¹çš„æ–‡ç« äº†ï¼ŒLeetCode ç³»åˆ—ä¸ä¼šå† append äº†ï¼Œå¦‚æœå†™ lc é¢˜ä¼šå•ç‹¬å¼€ä¸€ç¯‡æ–‡ç« ï¼Œç„¶åå†™é¢˜è§£</p>
</blockquote>
<h2 id="æœ€é•¿ä¸Šå‡å­åºåˆ—æ¨¡å‹"><a href="#æœ€é•¿ä¸Šå‡å­åºåˆ—æ¨¡å‹" class="headerlink" title="æœ€é•¿ä¸Šå‡å­åºåˆ—æ¨¡å‹"></a>æœ€é•¿ä¸Šå‡å­åºåˆ—æ¨¡å‹</h2><p><a href="http://imlgw.top/2019/09/01/leetcode-dong-tai-gui-hua/#300-%E6%9C%80%E9%95%BF%E4%B8%8A%E5%8D%87%E5%AD%90%E5%BA%8F%E5%88%97">300. æœ€é•¿ä¸Šå‡å­åºåˆ—</a></p>
<p><a href="http://imlgw.top/2019/09/01/leetcode-dong-tai-gui-hua/#673-%E6%9C%80%E9%95%BF%E9%80%92%E5%A2%9E%E5%AD%90%E5%BA%8F%E5%88%97%E7%9A%84%E4%B8%AA%E6%95%B0">673. æœ€é•¿é€’å¢å­åºåˆ—çš„ä¸ªæ•°</a></p>
<p><a href="http://imlgw.top/2019/09/01/leetcode-dong-tai-gui-hua/#1016-%E4%BD%BF%E5%BA%8F%E5%88%97%E9%80%92%E5%A2%9E%E7%9A%84%E6%9C%80%E5%B0%8F%E4%BA%A4%E6%8D%A2%E6%AC%A1%E6%95%B0%EF%BC%88LintCode%EF%BC%89">1016. ä½¿åºåˆ—é€’å¢çš„æœ€å°äº¤æ¢æ¬¡æ•°ï¼ˆLintCodeï¼‰</a></p>
<p><a href="http://imlgw.top/2019/09/01/leetcode-dong-tai-gui-hua/#354-%E4%BF%84%E7%BD%97%E6%96%AF%E5%A5%97%E5%A8%83%E4%BF%A1%E5%B0%81%E9%97%AE%E9%A2%98">354. ä¿„ç½—æ–¯å¥—å¨ƒä¿¡å°é—®é¢˜</a></p>
<p>LIS æœ‰ N^2 çš„ DP è§£æ³•ï¼Œä¹Ÿæœ‰ NlogN çš„è´ªå¿ƒçš„è§£æ³•ï¼Œå…·ä½“ç”¨é‚£ç§å–å†³äºæ•°æ®èŒƒå›´</p>
<h2 id="1017-æ€ªç›—åŸºå¾·çš„æ»‘ç¿”ç¿¼"><a href="#1017-æ€ªç›—åŸºå¾·çš„æ»‘ç¿”ç¿¼" class="headerlink" title="1017. æ€ªç›—åŸºå¾·çš„æ»‘ç¿”ç¿¼"></a><a target="_blank" rel="noopener" href="https://www.acwing.com/problem/content/1019/">1017. æ€ªç›—åŸºå¾·çš„æ»‘ç¿”ç¿¼</a></h2><p>æ€ªç›—åŸºå¾·æ˜¯ä¸€ä¸ªå……æ»¡ä¼ å¥‡è‰²å½©çš„æ€ªç›—ï¼Œä¸“é—¨ä»¥ç å®ä¸ºç›®æ ‡çš„è¶…çº§ç›—çªƒçŠ¯ã€‚</p>
<p>è€Œä»–æœ€ä¸ºçªå‡ºçš„åœ°æ–¹ï¼Œå°±æ˜¯ä»–æ¯æ¬¡éƒ½èƒ½é€ƒè„±ä¸­æ‘è­¦éƒ¨çš„é‡é‡å›´å µï¼Œè€Œè¿™ä¹Ÿå¾ˆå¤§ç¨‹åº¦ä¸Šæ˜¯å¤šäºäº†ä»–éšèº«æºå¸¦çš„ä¾¿äºæ“ä½œçš„æ»‘ç¿”ç¿¼ã€‚</p>
<p>æœ‰ä¸€å¤©ï¼Œæ€ªç›—åŸºå¾·åƒå¾€å¸¸ä¸€æ ·å·èµ°äº†ä¸€é¢—çè´µçš„é’»çŸ³ï¼Œä¸æ–™å´è¢«æŸ¯å—å°æœ‹å‹è¯†ç ´äº†ä¼ªè£…ï¼Œè€Œä»–çš„æ»‘ç¿”ç¿¼çš„åŠ¨åŠ›è£…ç½®ä¹Ÿè¢«æŸ¯å—è¸¢å‡ºçš„è¶³çƒç ´åäº†ã€‚</p>
<p>ä¸å¾—å·²ï¼Œæ€ªç›—åŸºå¾·åªèƒ½æ“ä½œå—æŸçš„æ»‘ç¿”ç¿¼é€ƒè„±ã€‚</p>
<p>å‡è®¾åŸå¸‚ä¸­ä¸€å…±æœ‰ N å¹¢å»ºç­‘æ’æˆä¸€æ¡çº¿ï¼Œæ¯å¹¢å»ºç­‘çš„é«˜åº¦å„ä¸ç›¸åŒã€‚</p>
<p>åˆå§‹æ—¶ï¼Œæ€ªç›—åŸºå¾·å¯ä»¥åœ¨ä»»ä½•ä¸€å¹¢å»ºç­‘çš„é¡¶ç«¯ã€‚</p>
<p>ä»–å¯ä»¥é€‰æ‹©ä¸€ä¸ªæ–¹å‘é€ƒè·‘ï¼Œä½†æ˜¯ä¸èƒ½ä¸­é€”æ”¹å˜æ–¹å‘ï¼ˆå› ä¸ºä¸­æ£®è­¦éƒ¨ä¼šåœ¨åé¢è¿½å‡»ï¼‰ã€‚</p>
<p>å› ä¸ºæ»‘ç¿”ç¿¼åŠ¨åŠ›è£…ç½®å—æŸï¼Œä»–åªèƒ½å¾€ä¸‹æ»‘è¡Œï¼ˆå³ï¼šåªèƒ½ä»è¾ƒé«˜çš„å»ºç­‘æ»‘ç¿”åˆ°è¾ƒä½çš„å»ºç­‘ï¼‰ã€‚</p>
<p>ä»–å¸Œæœ›å°½å¯èƒ½å¤šåœ°ç»è¿‡ä¸åŒå»ºç­‘çš„é¡¶éƒ¨ï¼Œè¿™æ ·å¯ä»¥å‡ç¼“ä¸‹é™æ—¶çš„å†²å‡»åŠ›ï¼Œå‡å°‘å—ä¼¤çš„å¯èƒ½æ€§ã€‚</p>
<p>è¯·é—®ï¼Œä»–æœ€å¤šå¯ä»¥ç»è¿‡å¤šå°‘å¹¢ä¸åŒå»ºç­‘çš„é¡¶éƒ¨ï¼ˆåŒ…å«åˆå§‹æ—¶çš„å»ºç­‘ï¼‰ï¼Ÿ</p>
<p><strong>è¾“å…¥æ ¼å¼</strong></p>
<p>è¾“å…¥æ•°æ®ç¬¬ä¸€è¡Œæ˜¯ä¸€ä¸ªæ•´æ•° Kï¼Œä»£è¡¨æœ‰ K ç»„æµ‹è¯•æ•°æ®ã€‚</p>
<p>æ¯ç»„æµ‹è¯•æ•°æ®åŒ…å«ä¸¤è¡Œï¼šç¬¬ä¸€è¡Œæ˜¯ä¸€ä¸ªæ•´æ•° Nï¼Œä»£è¡¨æœ‰ N å¹¢å»ºç­‘ã€‚ç¬¬äºŒè¡ŒåŒ…å« N ä¸ªä¸åŒçš„æ•´æ•°ï¼Œæ¯ä¸€ä¸ªå¯¹åº”ä¸€å¹¢å»ºç­‘çš„é«˜åº¦ hï¼ŒæŒ‰ç…§å»ºç­‘çš„æ’åˆ—é¡ºåºç»™å‡ºã€‚</p>
<p><strong>è¾“å‡ºæ ¼å¼</strong></p>
<p>å¯¹äºæ¯ä¸€ç»„æµ‹è¯•æ•°æ®ï¼Œè¾“å‡ºä¸€è¡Œï¼ŒåŒ…å«ä¸€ä¸ªæ•´æ•°ï¼Œä»£è¡¨æ€ªç›—åŸºå¾·æœ€å¤šå¯ä»¥ç»è¿‡çš„å»ºç­‘æ•°é‡ã€‚</p>
<p><strong>æ•°æ®èŒƒå›´</strong></p>
<p>1â‰¤Kâ‰¤100, 1â‰¤Nâ‰¤100, 0&lt;h&lt;10000</p>
<p><strong>è¾“å…¥æ ·ä¾‹ï¼š</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="number">3</span></span><br><span class="line"><span class="number">8</span></span><br><span class="line"><span class="number">300</span> <span class="number">207</span> <span class="number">155</span> <span class="number">299</span> <span class="number">298</span> <span class="number">170</span> <span class="number">158</span> <span class="number">65</span></span><br><span class="line"><span class="number">8</span></span><br><span class="line"><span class="number">65</span> <span class="number">158</span> <span class="number">170</span> <span class="number">298</span> <span class="number">299</span> <span class="number">155</span> <span class="number">207</span> <span class="number">300</span></span><br><span class="line"><span class="number">10</span></span><br><span class="line"><span class="number">2</span> <span class="number">1</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span> <span class="number">6</span> <span class="number">7</span> <span class="number">8</span> <span class="number">9</span> <span class="number">10</span></span><br></pre></td></tr></table></figure>
<p><strong>è¾“å‡ºæ ·ä¾‹ï¼š</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="number">6</span></span><br><span class="line"><span class="number">9</span></span><br></pre></td></tr></table></figure>

<h3 id="è§£æ³•ä¸€"><a href="#è§£æ³•ä¸€" class="headerlink" title="è§£æ³•ä¸€"></a>è§£æ³•ä¸€</h3><p>å¸¸è§„ N^2 åŠ¨æ€è§„åˆ’çš„æ–¹å¼ &amp; NlogN è´ªå¿ƒè§£æ³•ï¼ˆNlogN çš„è§£æ³•å›å¿†äº†ä¸€ä¼šå„¿æ‰æ¨å‡ºæ¥ï¼Œå¦‚æœæ•°æ®èŒƒå›´ä¸æ˜¯å¾ˆå¤§è¿˜æ˜¯ N^2 çš„ dp å¥½å†™ï¼‰</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="comment">//AcWing 1017. æ€ªç›—åŸºå¾·çš„æ»‘ç¿”ç¿¼ https://www.acwing.com/problem/content/1019/</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Main</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">sc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        <span class="type">int</span> <span class="variable">T</span> <span class="operator">=</span> sc.nextInt();</span><br><span class="line">        <span class="keyword">while</span> (T-- &gt; <span class="number">0</span>) {</span><br><span class="line">            <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> sc.nextInt();</span><br><span class="line">            <span class="type">int</span>[] w = <span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) {</span><br><span class="line">                w[i] = sc.nextInt(); </span><br><span class="line">            }</span><br><span class="line">            System.out.println(Math.max(solve(w, n), solve(reverse(w), n))); </span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">//DP(N^2) çš„è§£æ³•</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">solve</span><span class="params">(<span class="type">int</span>[] w, <span class="type">int</span> n)</span> {</span><br><span class="line">        <span class="type">int</span>[] dp = <span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">        Arrays.fill(dp, <span class="number">1</span>);</span><br><span class="line">        <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) {</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; i; j++) {</span><br><span class="line">                <span class="keyword">if</span> (w[j] &gt; w[i]) {</span><br><span class="line">                    dp[i] = Math.max(dp[j]+<span class="number">1</span>, dp[i]);  </span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">            res = Math.max(res, dp[i]);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> res; </span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">//tail[i]: é•¿åº¦ä¸º i çš„é€’å‡å­åºåˆ—æœ€å¤§ç»“å°¾</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">solve2</span><span class="params">(<span class="type">int</span>[] w, <span class="type">int</span> n)</span> {</span><br><span class="line">        <span class="type">int</span>[] tail = <span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">        <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) {</span><br><span class="line">            <span class="type">int</span> <span class="variable">idx</span> <span class="operator">=</span> search(tail, len, w[i]);</span><br><span class="line">            <span class="keyword">if</span> (idx == -<span class="number">1</span>) {</span><br><span class="line">                tail[len++] = w[i];</span><br><span class="line">            } <span class="keyword">else</span> {</span><br><span class="line">                tail[idx] = w[i];</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> len;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ä»å·¦åˆ°å³æ‰¾ç¬¬ä¸€ä¸ªå°äº target çš„å…ƒç´ ä¸‹æ ‡ï¼Œæ›¿æ¢å®ƒï¼Œä½¿å¾—ç»“å°¾æ›´å¤§ï¼Œé•¿åº¦æ›´é•¿</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">search</span><span class="params">(<span class="type">int</span>[] tail, <span class="type">int</span> len, <span class="type">int</span> target)</span>{</span><br><span class="line">        <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> <span class="number">0</span>, right = len-<span class="number">1</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> -<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (left &lt;= right) {</span><br><span class="line">            <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> left + (right - left)/<span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span> (tail[mid] &lt;= target) {</span><br><span class="line">                res = mid;</span><br><span class="line">                right = mid - <span class="number">1</span>;</span><br><span class="line">            } <span class="keyword">else</span> {</span><br><span class="line">                left = mid + <span class="number">1</span>;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span>[] reverse(<span class="type">int</span>[] w) {</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>, j = w.length-<span class="number">1</span>; i &lt; j; i++, j--) {</span><br><span class="line">            <span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span> w[i];</span><br><span class="line">            w[i] = w[j];</span><br><span class="line">            w[j] = temp;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> w;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<h2 id="1014-ç™»å±±"><a href="#1014-ç™»å±±" class="headerlink" title="1014. ç™»å±±"></a><a target="_blank" rel="noopener" href="https://www.acwing.com/problem/content/1016/">1014. ç™»å±±</a></h2><p>äº”ä¸€åˆ°äº†ï¼ŒACM é˜Ÿç»„ç»‡å¤§å®¶å»ç™»å±±è§‚å…‰ï¼Œé˜Ÿå‘˜ä»¬å‘ç°å±±ä¸Šä¸€ä¸ªæœ‰ N ä¸ªæ™¯ç‚¹ï¼Œå¹¶ä¸”å†³å®šæŒ‰ç…§é¡ºåºæ¥æµè§ˆè¿™äº›æ™¯ç‚¹ï¼Œå³æ¯æ¬¡æ‰€æµè§ˆæ™¯ç‚¹çš„ç¼–å·éƒ½è¦å¤§äºå‰ä¸€ä¸ªæµè§ˆæ™¯ç‚¹çš„ç¼–å·ã€‚</p>
<p>åŒæ—¶é˜Ÿå‘˜ä»¬è¿˜æœ‰å¦ä¸€ä¸ªç™»å±±ä¹ æƒ¯ï¼Œå°±æ˜¯ä¸è¿ç»­æµè§ˆæµ·æ‹”ç›¸åŒçš„ä¸¤ä¸ªæ™¯ç‚¹ï¼Œå¹¶ä¸”ä¸€æ—¦å¼€å§‹ä¸‹å±±ï¼Œå°±ä¸å†å‘ä¸Šèµ°äº†ã€‚</p>
<p>é˜Ÿå‘˜ä»¬å¸Œæœ›åœ¨æ»¡è¶³ä¸Šé¢æ¡ä»¶çš„åŒæ—¶ï¼Œå°½å¯èƒ½å¤šçš„æµè§ˆæ™¯ç‚¹ï¼Œä½ èƒ½å¸®ä»–ä»¬æ‰¾å‡ºæœ€å¤šå¯èƒ½æµè§ˆçš„æ™¯ç‚¹æ•°ä¹ˆï¼Ÿ</p>
<p><strong>è¾“å…¥æ ¼å¼</strong></p>
<p>ç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•° Nï¼Œè¡¨ç¤ºæ™¯ç‚¹æ•°é‡ã€‚</p>
<p>ç¬¬äºŒè¡ŒåŒ…å« N ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ¯ä¸ªæ™¯ç‚¹çš„æµ·æ‹”ã€‚</p>
<p><strong>è¾“å‡ºæ ¼å¼</strong></p>
<p>è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæœ€å¤šèƒ½æµè§ˆçš„æ™¯ç‚¹æ•°ã€‚</p>
<p><strong>æ•°æ®èŒƒå›´</strong><br>2â‰¤Nâ‰¤1000<br><strong>è¾“å…¥æ ·ä¾‹ï¼š</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="number">8</span></span><br><span class="line"><span class="number">186</span> <span class="number">186</span> <span class="number">150</span> <span class="number">200</span> <span class="number">160</span> <span class="number">130</span> <span class="number">197</span> <span class="number">220</span></span><br></pre></td></tr></table></figure>
<p><strong>è¾“å‡ºæ ·ä¾‹ï¼š</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="number">4</span></span><br></pre></td></tr></table></figure>

<h3 id="è§£æ³•ä¸€-1"><a href="#è§£æ³•ä¸€-1" class="headerlink" title="è§£æ³•ä¸€"></a>è§£æ³•ä¸€</h3><p>LIS è½¬æ¢äº†ä¸€ä¸‹è€Œå·²ï¼Œæ±‚æ¯ä¸ªç‚¹ä»<strong>å·¦åˆ°å³</strong> å’Œ ä»<strong>å³åˆ°å·¦</strong>çš„æœ€é•¿ä¸Šå‡å­åºåˆ—æœ€å¤§å’Œå°± ok äº†</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Main</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">sc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        <span class="type">int</span> <span class="variable">N</span> <span class="operator">=</span> sc.nextInt();</span><br><span class="line">        <span class="type">int</span>[] w = <span class="keyword">new</span> <span class="title class_">int</span>[N];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; N; i++) {</span><br><span class="line">            w[i] = sc.nextInt();</span><br><span class="line">        }</span><br><span class="line">        System.out.println(solve(w, N));</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">//186 186 150 200 160 130 197 220  := 4</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">solve</span><span class="params">(<span class="type">int</span>[] w, <span class="type">int</span> N)</span> {</span><br><span class="line">        <span class="type">int</span>[] dp1 = <span class="keyword">new</span> <span class="title class_">int</span>[N];</span><br><span class="line">        <span class="type">int</span>[] dp2 = <span class="keyword">new</span> <span class="title class_">int</span>[N];</span><br><span class="line">        Arrays.fill(dp1, <span class="number">1</span>);</span><br><span class="line">        Arrays.fill(dp2, <span class="number">1</span>);</span><br><span class="line">        <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; N; i++) {</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; i; j++) {</span><br><span class="line">                <span class="keyword">if</span> (w[j] &lt; w[i]) {</span><br><span class="line">                    dp1[i] = Math.max(dp1[j]+<span class="number">1</span>, dp1[i]);          </span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> N-<span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) {</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> N-<span class="number">1</span>; j &gt; i; j--) {</span><br><span class="line">                <span class="keyword">if</span> (w[j] &lt; w[i]) {</span><br><span class="line">                    dp2[i] = Math.max(dp2[j]+<span class="number">1</span>, dp2[i]);          </span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">            res = Math.max(res, dp1[i]+dp2[i]-<span class="number">1</span>);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://www.acwing.com/problem/content/484/">482. åˆå”±é˜Ÿå½¢</a> å’Œè¿™ä¸€é¢˜ä¸€æ ·ï¼Œä¸é‡å¤å†™äº†</p>
</blockquote>
<h2 id="1012-å‹å¥½åŸå¸‚"><a href="#1012-å‹å¥½åŸå¸‚" class="headerlink" title="1012. å‹å¥½åŸå¸‚"></a><a target="_blank" rel="noopener" href="https://www.acwing.com/problem/content/1014/">1012. å‹å¥½åŸå¸‚</a></h2><p>Palmia å›½æœ‰ä¸€æ¡æ¨ªè´¯ä¸œè¥¿çš„å¤§æ²³ï¼Œæ²³æœ‰ç¬”ç›´çš„å—åŒ—ä¸¤å²¸ï¼Œå²¸ä¸Šå„æœ‰ä½ç½®å„ä¸ç›¸åŒçš„ N ä¸ªåŸå¸‚ã€‚</p>
<p>åŒ—å²¸çš„æ¯ä¸ªåŸå¸‚æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªå‹å¥½åŸå¸‚åœ¨å—å²¸ï¼Œè€Œä¸”ä¸åŒåŸå¸‚çš„å‹å¥½åŸå¸‚ä¸ç›¸åŒã€‚</p>
<p>æ¯å¯¹å‹å¥½åŸå¸‚éƒ½å‘æ”¿åºœç”³è¯·åœ¨æ²³ä¸Šå¼€è¾Ÿä¸€æ¡ç›´çº¿èˆªé“è¿æ¥ä¸¤ä¸ªåŸå¸‚ï¼Œä½†æ˜¯ç”±äºæ²³ä¸Šé›¾å¤ªå¤§ï¼Œæ”¿åºœå†³å®šé¿å…ä»»æ„ä¸¤æ¡èˆªé“äº¤å‰ï¼Œä»¥é¿å…äº‹æ•…ã€‚</p>
<p>ç¼–ç¨‹å¸®åŠ©æ”¿åºœåšå‡ºä¸€äº›æ‰¹å‡†å’Œæ‹’ç»ç”³è¯·çš„å†³å®šï¼Œä½¿å¾—åœ¨ä¿è¯ä»»æ„ä¸¤æ¡èˆªçº¿ä¸ç›¸äº¤çš„æƒ…å†µä¸‹ï¼Œè¢«æ‰¹å‡†çš„ç”³è¯·å°½é‡å¤šã€‚</p>
<p><strong>è¾“å…¥æ ¼å¼</strong></p>
<p>ç¬¬ 1 è¡Œï¼Œä¸€ä¸ªæ•´æ•° Nï¼Œè¡¨ç¤ºåŸå¸‚æ•°ã€‚</p>
<p>ç¬¬ 2 è¡Œåˆ°ç¬¬ n+1 è¡Œï¼Œæ¯è¡Œä¸¤ä¸ªæ•´æ•°ï¼Œä¸­é—´ç”¨ 1 ä¸ªç©ºæ ¼éš”å¼€ï¼Œåˆ†åˆ«è¡¨ç¤ºå—å²¸å’ŒåŒ—å²¸çš„ä¸€å¯¹å‹å¥½åŸå¸‚çš„åæ ‡ã€‚</p>
<p><strong>è¾“å‡ºæ ¼å¼</strong></p>
<p>ä»…ä¸€è¡Œï¼Œè¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ”¿åºœæ‰€èƒ½æ‰¹å‡†çš„æœ€å¤šç”³è¯·æ•°ã€‚</p>
<p><strong>æ•°æ®èŒƒå›´</strong></p>
<p>1â‰¤Nâ‰¤5000,<br>0â‰¤xiâ‰¤10000</p>
<p><strong>è¾“å…¥æ ·ä¾‹ï¼š</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="number">7</span></span><br><span class="line"><span class="number">22</span> <span class="number">4</span></span><br><span class="line"><span class="number">2</span> <span class="number">6</span></span><br><span class="line"><span class="number">10</span> <span class="number">3</span></span><br><span class="line"><span class="number">15</span> <span class="number">12</span></span><br><span class="line"><span class="number">9</span> <span class="number">8</span></span><br><span class="line"><span class="number">17</span> <span class="number">17</span></span><br><span class="line"><span class="number">4</span> <span class="number">2</span></span><br></pre></td></tr></table></figure>
<p><strong>è¾“å‡ºæ ·ä¾‹ï¼š</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="number">4</span></span><br></pre></td></tr></table></figure>

<h3 id="è§£æ³•ä¸€-2"><a href="#è§£æ³•ä¸€-2" class="headerlink" title="è§£æ³•ä¸€"></a>è§£æ³•ä¸€</h3><p>å’Œä¹‹å‰çš„ <a href="http://imlgw.top/2019/09/01/leetcode-dong-tai-gui-hua/#354-%E4%BF%84%E7%BD%97%E6%96%AF%E5%A5%97%E5%A8%83%E4%BF%A1%E5%B0%81%E9%97%AE%E9%A2%98">354. ä¿„ç½—æ–¯å¥—å¨ƒä¿¡å°é—®é¢˜</a> ä¸€æ ·ï¼Œè¿˜ç®€å•ä¸€ç‚¹ï¼Œåæ ‡éƒ½æ˜¯å”¯ä¸€çš„ï¼Œä¸éœ€è¦è€ƒè™‘åæ ‡é‡åˆçš„é—®é¢˜ï¼Œå…·ä½“å¯ä»¥å»çœ‹çœ‹ä¿„ç½—æ–¯å¥—å¨ƒçš„è¿™ä¸ªé¢˜</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Main</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">sc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        <span class="type">int</span> <span class="variable">N</span> <span class="operator">=</span> sc.nextInt();</span><br><span class="line">        <span class="type">int</span>[][] w = <span class="keyword">new</span> <span class="title class_">int</span>[N][<span class="number">2</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; N; i++) {</span><br><span class="line">            w[i][<span class="number">0</span>] = sc.nextInt();</span><br><span class="line">            w[i][<span class="number">1</span>] = sc.nextInt();</span><br><span class="line">        }</span><br><span class="line">        System.out.println(solve2(w, N));</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">//5000 * 5000 = 2500 0000ï¼Œèƒ½è¿‡ä½†æ˜¯æœ‰ç‚¹æ…¢</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">solve</span><span class="params">(<span class="type">int</span>[][] w, <span class="type">int</span> N)</span> {</span><br><span class="line">        Arrays.sort(w, (w1, w2)-&gt;w1[<span class="number">0</span>]-w2[<span class="number">0</span>]);</span><br><span class="line">        <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">        <span class="type">int</span>[] dp = <span class="keyword">new</span> <span class="title class_">int</span>[N];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; N; i++) {</span><br><span class="line">            dp[i] = <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; i; j++) {</span><br><span class="line">                <span class="keyword">if</span> (w[j][<span class="number">0</span>] &lt; w[i][<span class="number">0</span>] &amp;&amp; w[j][<span class="number">1</span>] &lt; w[i][<span class="number">1</span>]) {</span><br><span class="line">                    dp[i] = Math.max(dp[j]+<span class="number">1</span>, dp[i]);</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">            res = Math.max(res, dp[i]);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">//NlogN è´ªå¿ƒäºŒåˆ†çš„åšæ³•</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">solve2</span><span class="params">(<span class="type">int</span>[][] w, <span class="type">int</span> N)</span> {</span><br><span class="line">        Arrays.sort(w, (w1, w2)-&gt;w1[<span class="number">0</span>]-w2[<span class="number">0</span>]);</span><br><span class="line">        <span class="type">int</span>[] tail = <span class="keyword">new</span> <span class="title class_">int</span>[N];</span><br><span class="line">        <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; N; i++) {</span><br><span class="line">            <span class="type">int</span> <span class="variable">idx</span> <span class="operator">=</span> search(tail, len, w[i][<span class="number">1</span>]);</span><br><span class="line">            <span class="keyword">if</span> (idx == -<span class="number">1</span>) {</span><br><span class="line">                tail[len++] = w[i][<span class="number">1</span>];</span><br><span class="line">            } <span class="keyword">else</span> {</span><br><span class="line">                tail[idx] = w[i][<span class="number">1</span>];</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> len;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ä»å·¦åˆ°å³æ‰¾ç¬¬ä¸€ä¸ªå¤§äº target çš„ï¼Œåé¢æ›¿æ¢å®ƒï¼Œä½¿å¾—ç»“å°¾æ›´å°</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">search</span><span class="params">(<span class="type">int</span>[] tail, <span class="type">int</span> len, <span class="type">int</span> target)</span> {</span><br><span class="line">        <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> <span class="number">0</span>, right = len-<span class="number">1</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> -<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (left &lt;= right) {</span><br><span class="line">            <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> left + (right - left)/<span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span> (tail[mid] &gt; target) {</span><br><span class="line">                res = mid;</span><br><span class="line">                right = mid - <span class="number">1</span>;</span><br><span class="line">            } <span class="keyword">else</span> {</span><br><span class="line">                left = mid + <span class="number">1</span>;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<h2 id="1016-æœ€å¤§ä¸Šå‡å­åºåˆ—å’Œ"><a href="#1016-æœ€å¤§ä¸Šå‡å­åºåˆ—å’Œ" class="headerlink" title="1016. æœ€å¤§ä¸Šå‡å­åºåˆ—å’Œ"></a><a target="_blank" rel="noopener" href="https://www.acwing.com/problem/content/1018/">1016. æœ€å¤§ä¸Šå‡å­åºåˆ—å’Œ</a></h2><p>ä¸€ä¸ªæ•°çš„åºåˆ— biï¼Œå½“ b1&lt;b2&lt;â€¦&lt;bS çš„æ—¶å€™ï¼Œæˆ‘ä»¬ç§°è¿™ä¸ªåºåˆ—æ˜¯ä¸Šå‡çš„ã€‚</p>
<p>å¯¹äºç»™å®šçš„ä¸€ä¸ªåºåˆ— (a1,a2,â€¦,aN)ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°ä¸€äº›ä¸Šå‡çš„å­åºåˆ— (ai1,ai2,â€¦,aiK)ï¼Œè¿™é‡Œ 1â‰¤i1&lt;i2&lt;â€¦&lt;iKâ‰¤Nã€‚</p>
<p>æ¯”å¦‚ï¼Œå¯¹äºåºåˆ— (1,7,3,5,9,4,8)ï¼Œæœ‰å®ƒçš„ä¸€äº›ä¸Šå‡å­åºåˆ—ï¼Œå¦‚ (1,7),(3,4,8) ç­‰ç­‰ã€‚</p>
<p>è¿™äº›å­åºåˆ—ä¸­å’Œæœ€å¤§ä¸º 18ï¼Œä¸ºå­åºåˆ— (1,3,5,9) çš„å’Œã€‚</p>
<p>ä½ çš„ä»»åŠ¡ï¼Œå°±æ˜¯å¯¹äºç»™å®šçš„åºåˆ—ï¼Œæ±‚å‡ºæœ€å¤§ä¸Šå‡å­åºåˆ—å’Œã€‚</p>
<p>æ³¨æ„ï¼Œæœ€é•¿çš„ä¸Šå‡å­åºåˆ—çš„å’Œä¸ä¸€å®šæ˜¯æœ€å¤§çš„ï¼Œæ¯”å¦‚åºåˆ— (100,1,2,3) çš„æœ€å¤§ä¸Šå‡å­åºåˆ—å’Œä¸º 100ï¼Œè€Œæœ€é•¿ä¸Šå‡å­åºåˆ—ä¸º (1,2,3)ã€‚</p>
<p><strong>è¾“å…¥æ ¼å¼</strong></p>
<p>è¾“å…¥çš„ç¬¬ä¸€è¡Œæ˜¯åºåˆ—çš„é•¿åº¦ Nã€‚</p>
<p>ç¬¬äºŒè¡Œç»™å‡ºåºåˆ—ä¸­çš„ N ä¸ªæ•´æ•°ï¼Œè¿™äº›æ•´æ•°çš„å–å€¼èŒƒå›´éƒ½åœ¨ 0 åˆ° 10000ï¼ˆå¯èƒ½é‡å¤ï¼‰ã€‚</p>
<p><strong>è¾“å‡ºæ ¼å¼</strong></p>
<p>è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæœ€å¤§ä¸Šå‡å­åºåˆ—å’Œã€‚</p>
<p><strong>æ•°æ®èŒƒå›´</strong></p>
<p>1â‰¤Nâ‰¤1000</p>
<p><strong>è¾“å…¥æ ·ä¾‹ï¼š</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="number">7</span></span><br><span class="line"><span class="number">1</span> <span class="number">7</span> <span class="number">3</span> <span class="number">5</span> <span class="number">9</span> <span class="number">4</span> <span class="number">8</span></span><br></pre></td></tr></table></figure>
<p><strong>è¾“å‡ºæ ·ä¾‹ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">18</span><br></pre></td></tr></table></figure>

<h3 id="è§£æ³•ä¸€-3"><a href="#è§£æ³•ä¸€-3" class="headerlink" title="è§£æ³•ä¸€"></a>è§£æ³•ä¸€</h3><p>æ²¡å•¥å¥½è¯´çš„ï¼Œæ¯”è¾ƒç®€å•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Main</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">sc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        <span class="type">int</span> <span class="variable">N</span> <span class="operator">=</span> sc.nextInt();</span><br><span class="line">        <span class="type">int</span>[] w = <span class="keyword">new</span> <span class="title class_">int</span>[N];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; N; i++) {</span><br><span class="line">            w[i] = sc.nextInt();</span><br><span class="line">        }</span><br><span class="line">        System.out.println(solve(w, N));</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">solve</span><span class="params">(<span class="type">int</span>[] w, <span class="type">int</span> N)</span> {</span><br><span class="line">        <span class="type">int</span>[] dp = <span class="keyword">new</span> <span class="title class_">int</span>[N];</span><br><span class="line">        <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; N; i++) {</span><br><span class="line">            dp[i] = w[i];</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; i; j++) {</span><br><span class="line">                <span class="keyword">if</span> (w[j] &lt; w[i]) {</span><br><span class="line">                    dp[i] = Math.max(dp[i], dp[j]+w[i]);</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">            res = Math.max(res, dp[i]);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<h2 id="1010-æ‹¦æˆªå¯¼å¼¹"><a href="#1010-æ‹¦æˆªå¯¼å¼¹" class="headerlink" title="1010. æ‹¦æˆªå¯¼å¼¹"></a><a target="_blank" rel="noopener" href="https://www.acwing.com/problem/content/description/1012/">1010. æ‹¦æˆªå¯¼å¼¹</a></h2><p>æŸå›½ä¸ºäº†é˜²å¾¡æ•Œå›½çš„å¯¼å¼¹è¢­å‡»ï¼Œå‘å±•å‡ºä¸€ç§å¯¼å¼¹æ‹¦æˆªç³»ç»Ÿã€‚</p>
<p>ä½†æ˜¯è¿™ç§å¯¼å¼¹æ‹¦æˆªç³»ç»Ÿæœ‰ä¸€ä¸ªç¼ºé™·ï¼šè™½ç„¶å®ƒçš„ç¬¬ä¸€å‘ç‚®å¼¹èƒ½å¤Ÿåˆ°è¾¾ä»»æ„çš„é«˜åº¦ï¼Œä½†æ˜¯ä»¥åæ¯ä¸€å‘ç‚®å¼¹éƒ½ä¸èƒ½é«˜äºå‰ä¸€å‘çš„é«˜åº¦ã€‚</p>
<p>æŸå¤©ï¼Œé›·è¾¾æ•æ‰åˆ°æ•Œå›½çš„å¯¼å¼¹æ¥è¢­ã€‚</p>
<p>ç”±äºè¯¥ç³»ç»Ÿè¿˜åœ¨è¯•ç”¨é˜¶æ®µï¼Œæ‰€ä»¥åªæœ‰ä¸€å¥—ç³»ç»Ÿï¼Œå› æ­¤æœ‰å¯èƒ½ä¸èƒ½æ‹¦æˆªæ‰€æœ‰çš„å¯¼å¼¹ã€‚</p>
<p>è¾“å…¥å¯¼å¼¹ä¾æ¬¡é£æ¥çš„é«˜åº¦ï¼ˆé›·è¾¾ç»™å‡ºçš„é«˜åº¦æ•°æ®æ˜¯ä¸å¤§äº 30000 çš„æ­£æ•´æ•°ï¼Œå¯¼å¼¹æ•°ä¸è¶…è¿‡ 1000ï¼‰ï¼Œè®¡ç®—è¿™å¥—ç³»ç»Ÿæœ€å¤šèƒ½æ‹¦æˆªå¤šå°‘å¯¼å¼¹ï¼Œå¦‚æœè¦æ‹¦æˆªæ‰€æœ‰å¯¼å¼¹æœ€å°‘è¦é…å¤‡å¤šå°‘å¥—è¿™ç§å¯¼å¼¹æ‹¦æˆªç³»ç»Ÿã€‚</p>
<p><strong>è¾“å…¥æ ¼å¼</strong>: </p>
<p>å…±ä¸€è¡Œï¼Œè¾“å…¥å¯¼å¼¹ä¾æ¬¡é£æ¥çš„é«˜åº¦ã€‚</p>
<p><strong>è¾“å‡ºæ ¼å¼</strong>: </p>
<p>ç¬¬ä¸€è¡ŒåŒ…å«ä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæœ€å¤šèƒ½æ‹¦æˆªçš„å¯¼å¼¹æ•°ã€‚</p>
<p>ç¬¬äºŒè¡ŒåŒ…å«ä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºè¦æ‹¦æˆªæ‰€æœ‰å¯¼å¼¹æœ€å°‘è¦é…å¤‡çš„ç³»ç»Ÿæ•°ã€‚</p>
<p><strong>è¾“å…¥æ ·ä¾‹ï¼š</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="number">389</span> <span class="number">207</span> <span class="number">155</span> <span class="number">300</span> <span class="number">299</span> <span class="number">170</span> <span class="number">158</span> <span class="number">65</span></span><br></pre></td></tr></table></figure>
<p><strong>è¾“å‡ºæ ·ä¾‹ï¼š</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="number">6</span></span><br><span class="line"><span class="number">2</span></span><br></pre></td></tr></table></figure>

<h3 id="è§£æ³•ä¸€-4"><a href="#è§£æ³•ä¸€-4" class="headerlink" title="è§£æ³•ä¸€"></a>è§£æ³•ä¸€</h3><p>Dilworth å®šç†ï¼ŒåŒ DP è§£æ³•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//300 250 275 252 200 138 245 := 5,2</span></span><br><span class="line"><span class="comment">//æœ€å¤šå‡»è½å¤šå°‘å°±ä¸å¤šè¯´äº†</span></span><br><span class="line"><span class="comment">//æœ€å°‘éœ€è¦çš„ç³»ç»Ÿæ•°é‡å®é™…ä¸Šå°±æ˜¯æœ€é•¿ä¸Šå‡å­åºåˆ—çš„ä¸ªæ•°ï¼Œè¿™é‡Œæ¶‰åŠåˆ° Dilworth å®šç†</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span>[] solve(<span class="type">int</span>[] w, <span class="type">int</span> N){</span><br><span class="line">    <span class="type">int</span>[] down = <span class="keyword">new</span> <span class="title class_">int</span>[N];</span><br><span class="line">    <span class="type">int</span>[] up = <span class="keyword">new</span> <span class="title class_">int</span>[N];</span><br><span class="line">    <span class="type">int</span> <span class="variable">max</span> <span class="operator">=</span> <span class="number">0</span>, count = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; N; i++) {</span><br><span class="line">        up[i] = down[i] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; i; j++) {</span><br><span class="line">            <span class="keyword">if</span> (w[j] &gt;= w[i]) {</span><br><span class="line">                down[i] = Math.max(down[j]+<span class="number">1</span>, down[i]);</span><br><span class="line">            } <span class="keyword">else</span> {</span><br><span class="line">                up[i] = Math.max(up[j]+<span class="number">1</span>, up[i]);</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        max = Math.max(max, down[i]);</span><br><span class="line">        count = Math.max(count, up[i]);</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">int</span>[]{max, count};</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>æœ€å¤šå‡»è½å¤šå°‘å°±ä¸å¤šè¯´äº†ï¼Œ<del>æœ€å°‘éœ€è¦çš„ç³»ç»Ÿæ•°å…¶å®å°±æ˜¯æœ€é•¿ä¸Šå‡å­åºåˆ—ï¼Œå› ä¸ºè¿™ä¸ªå­åºåˆ—æ˜¯<strong>å¿…ä¸å¯èƒ½åœ¨åŒä¸€å¥—ç³»ç»Ÿä¸­è¢«å‡»è½</strong>ï¼Œå½“é‡åˆ°è¿™ä¸ªå­åºåˆ—ä¸­çš„å…ƒç´ çš„æ—¶å€™ï¼Œå°±éœ€è¦å¢åŠ ä¸€å¥—ç³»ç»Ÿï¼Œæ‰€ä»¥æœ€å°‘å°±æ˜¯è¿™ä¸ªå­åºåˆ—çš„é•¿åº¦</del></p>
<p>æœ€å°‘éœ€è¦çš„ç³»ç»Ÿæ•°é‡ï¼ˆæœ€å°‘çš„è¦†ç›–æ•´ä¸ªåºåˆ—çš„ä¸ä¸Šå‡åºåˆ—ä¸ªæ•°ï¼‰å°±æ˜¯æœ€é•¿çš„ä¸Šå‡å­åºåˆ—é•¿åº¦ï¼Œæ¶‰åŠåˆ° Dilworth å®šç†ï¼ˆ<a target="_blank" rel="noopener" href="https://www.cnblogs.com/flipped/p/5009943.html">å¯¼å¼¹æ‹¦æˆªé—®é¢˜ä¸ Dilworth å®šç†</a>ï¼‰ï¼Œæ„Ÿå…´è¶£å¯ä»¥å»äº†è§£ä¸‹ï¼Œå®šç†çš„å®šä¹‰ä¸ºï¼š<em>å¯¹äºä»»æ„æœ‰é™ååºé›†ï¼Œå…¶æœ€å¤§åé“¾ä¸­å…ƒç´ çš„æ•°ç›®å¿…ç­‰äºæœ€å°é“¾åˆ’åˆ†ä¸­é“¾çš„æ•°ç›®</em> </p>
<p>æœ¬é¢˜ä¸­ï¼Œæœ€å°‘éœ€è¦çš„å¯¼å¼¹ç³»ç»Ÿæ•°é‡å°±æ˜¯<strong>æœ€å°é“¾åˆ’åˆ†ä¸­é“¾çš„æ•°é‡</strong>ï¼Œå…¶æœ€å¤§åé“¾å°±æ˜¯<strong>æœ€é•¿ä¸Šå‡å­åºåˆ—é•¿åº¦</strong>ï¼Œæ‰€ä»¥ç›´æ¥æ±‚æœ€é•¿ä¸Šå‡å­åºåˆ—çš„é•¿åº¦å°± ok äº†</p>
<h3 id="è§£æ³•äºŒ"><a href="#è§£æ³•äºŒ" class="headerlink" title="è§£æ³•äºŒ"></a>è§£æ³•äºŒ</h3><p>åŒè´ªå¿ƒè§£æ³•ã€‚</p>
<p>â‘ æ±‚ LIS çš„è´ªå¿ƒåšæ³•ï¼Œ<code>tail[j]</code>è¡¨ç¤ºé•¿åº¦ä¸º<code>j</code>çš„ä¸‹é™åºåˆ—ï¼Œæ¯ä¸ª<code>w[i]</code>ä½œä¸ºç»“å°¾çš„æ—¶å€™ä¼˜å…ˆé€‰æ‹©å¤§äº<code>w[i]</code>çš„æœ€å°çš„<code>tail[j]</code>ï¼ˆä¹Ÿå°±æ˜¯ä»å·¦åˆ°å³æœ€ç¬¬ä¸€ä¸ªå¤§äº w[i] çš„ï¼‰ï¼Œç„¶åæ¥åœ¨å®ƒåé¢ï¼Œè¿™æ ·è®©é•¿åº¦ä¸º j çš„ä¸‹é™åºåˆ—ç»“å°¾å˜å°ï¼Œåé¢å¯ä»¥æ¥ä¸Šæ›´å¤šçš„å…ƒç´ ï¼Œä½¿å¾—åºåˆ—å¯ä»¥æ›´é•¿ï¼Œå¹¶ä¸”è¿™æ ·ä¸ä¼šå½±å“ä¹‹å‰å·²æœ‰çš„åºåˆ—å…³ç³»ï¼Œæœ€ç»ˆ tail çš„é•¿åº¦å°±æ˜¯æœ€é•¿ä¸Šå‡å­åºåˆ—çš„é•¿åº¦</p>
<p>â‘¡æ±‚æœ€å°‘çš„è¦†ç›–å…¨åºåˆ—çš„ä¸‹é™å­åºåˆ—ä¸ªæ•°ï¼Œ<code>tail[j]</code>è¡¨ç¤ºç›®å‰ä¸ºæ­¢ç¬¬<code>j</code>ä¸ªç³»ç»Ÿçš„æœ€å¤§ç»“å°¾å…ƒç´ ï¼Œæ¯ä¸ª<code>w[i]</code>è¢«éå†åˆ°çš„æ—¶å€™éƒ½æ˜¯ä½œä¸ºæŸä¸€ä¸ªç³»ç»Ÿçš„ç»“å°¾ï¼Œé‚£ä¹ˆæ­¤æ—¶å°±ä¼šé¢ä¸´é€‰æ‹©ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±å¯ä»¥è´ªå¿ƒçš„å°†å…¶æ”¾ç½®åˆ°<strong>å¤§äº<code>w[i]</code>çš„æœ€å°çš„ tail åé¢</strong>ï¼Œè¿™æ ·é¿å…æµªè´¹å…¶ä»–è¾ƒå¤§çš„ç»“å°¾ï¼ˆç»“å°¾è¶Šå¤§ï¼Œåé¢å¯ä»¥æ¥çš„å¯¼å¼¹è¶Šå¤šï¼‰ï¼Œé€‰æ‹©æ¶ˆè€—ä¸€ä¸ªæœ€å°çš„ç»“å°¾ï¼Œå¯èƒ½æœ‰ç‚¹æŠ½è±¡ï¼Œä¸¾ä¸ªä¾‹å­å°±æ˜ç™½äº†<br><img src="https://i.loli.net/2020/11/23/VY6nU9oFuaB3GkO.png"></p>
<p>è¿™é‡Œ 1 å°±é¢ä¸´ä¸¤ä¸ªé€‰æ‹©ï¼Œè¦ä¹ˆæ¥åœ¨ 2 åé¢ï¼Œè¦ä¹ˆæ¥åœ¨ 4 åé¢ï¼Œå¾ˆæ˜æ˜¾è¿™é‡Œåº”è¯¥æ¥åœ¨ 2 åé¢ï¼Œå¦‚æœæ¥åœ¨ 3 åé¢é‚£ä¹ˆåé¢çš„ 3 å°±åªèƒ½æ–°å»ºä¸€ä¸ªç³»ç»Ÿï¼Œä¼šå¢åŠ ç³»ç»Ÿæ•°é‡</p>
<p>å…·ä½“çš„è¯æ˜å¯ä»¥é‡‡ç”¨å¾®è°ƒæ³•ï¼Œè¯æ˜è´ªå¿ƒè§£æ˜¯å°äºç­‰äºæœ€ä¼˜è§£çš„ï¼Œè¿™é‡Œä¸å†å±•å¼€</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//9 8 7 9 8 7 9 8 7 55 66 99 88 77 88 963 365 4561</span></span><br><span class="line"><span class="comment">//åŒè´ªå¿ƒå†™æ³•</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span>[] solve2(<span class="type">int</span>[] w, <span class="type">int</span> N){</span><br><span class="line">    <span class="type">int</span>[] res = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">2</span>];</span><br><span class="line">    <span class="comment">//é•¿åº¦ä¸º i çš„æœ€é•¿ä¸‹é™å­åºåˆ—çš„æœ€å°ç»“å°¾</span></span><br><span class="line">    <span class="type">int</span>[] tail = <span class="keyword">new</span> <span class="title class_">int</span>[N];</span><br><span class="line">    <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="comment">//æœ€é•¿ä¸‹é™å­åºåˆ—ï¼ˆä¸ä¸¥æ ¼ï¼‰</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; w.length; i++) {</span><br><span class="line">        <span class="comment">//æ‰¾ tail ä¸­ç¬¬ä¸€ä¸ªå°äº w[i] çš„æ›¿æ¢æ‰ï¼Œè¿™æ ·åé¢å¯ä»¥æ¥æ›´å¤šçš„æ•°</span></span><br><span class="line">        <span class="comment">//å¯ä»¥äºŒåˆ†ä¼˜åŒ–ä¸‹ï¼Œè¿™é‡Œå°±ä¸å†™äº†</span></span><br><span class="line">        <span class="type">int</span> idx;</span><br><span class="line">        <span class="keyword">for</span> (idx = <span class="number">0</span>; idx &lt; len; idx++) {</span><br><span class="line">            <span class="keyword">if</span> (tail[idx] &lt; w[i]) {</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        tail[idx] = w[i];</span><br><span class="line">        len += (idx == len) ? <span class="number">1</span> : <span class="number">0</span>;</span><br><span class="line">    }</span><br><span class="line">    res[<span class="number">0</span>] = len;</span><br><span class="line">    tail = <span class="keyword">new</span> <span class="title class_">int</span>[N];</span><br><span class="line">    len = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">//æœ€å°‘è¦†ç›–å…¨åºåˆ—çš„ä¸‹é™å­åºåˆ—ä¸ªæ•°</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; w.length; i++) {</span><br><span class="line">        <span class="comment">//æ‰¾ tail ä¸­ç¬¬ä¸€ä¸ªå¤§äºç­‰äº w[i] çš„æ›¿æ¢æ‰</span></span><br><span class="line">        <span class="comment">//å¯ä»¥äºŒåˆ†ä¼˜åŒ–ä¸‹ï¼Œè¿™é‡Œå°±ä¸å†™äº†</span></span><br><span class="line">        <span class="type">int</span> idx;</span><br><span class="line">        <span class="keyword">for</span> (idx = <span class="number">0</span>; idx &lt; len; idx++) {</span><br><span class="line">            <span class="keyword">if</span> (tail[idx] &gt;= w[i]) {</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        tail[idx] = w[i];</span><br><span class="line">        len += (idx == len) ? <span class="number">1</span> : <span class="number">0</span>;</span><br><span class="line">    }</span><br><span class="line">    res[<span class="number">1</span>] = len;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<h2 id="187-å¯¼å¼¹é˜²å¾¡ç³»ç»Ÿ"><a href="#187-å¯¼å¼¹é˜²å¾¡ç³»ç»Ÿ" class="headerlink" title="187. å¯¼å¼¹é˜²å¾¡ç³»ç»Ÿ"></a><a target="_blank" rel="noopener" href="https://www.acwing.com/problem/content/189/">187. å¯¼å¼¹é˜²å¾¡ç³»ç»Ÿ</a></h2><p>ä¸ºäº†å¯¹æŠ—é™„è¿‘æ¶æ„å›½å®¶çš„å¨èƒï¼ŒR å›½æ›´æ–°äº†ä»–ä»¬çš„å¯¼å¼¹é˜²å¾¡ç³»ç»Ÿã€‚</p>
<p>ä¸€å¥—é˜²å¾¡ç³»ç»Ÿçš„å¯¼å¼¹æ‹¦æˆªé«˜åº¦è¦ä¹ˆä¸€ç›´ ä¸¥æ ¼å•è°ƒ ä¸Šå‡è¦ä¹ˆä¸€ç›´ ä¸¥æ ¼å•è°ƒ ä¸‹é™ã€‚</p>
<p>ä¾‹å¦‚ï¼Œä¸€å¥—ç³»ç»Ÿå…ˆåæ‹¦æˆªäº†é«˜åº¦ä¸º 3 å’Œé«˜åº¦ä¸º 4 çš„ä¸¤å‘å¯¼å¼¹ï¼Œé‚£ä¹ˆæ¥ä¸‹æ¥è¯¥ç³»ç»Ÿå°±åªèƒ½æ‹¦æˆªé«˜åº¦å¤§äº 4 çš„å¯¼å¼¹ã€‚</p>
<p>ç»™å®šå³å°†è¢­æ¥çš„ä¸€ç³»åˆ—å¯¼å¼¹çš„é«˜åº¦ï¼Œè¯·ä½ æ±‚å‡ºè‡³å°‘éœ€è¦å¤šå°‘å¥—é˜²å¾¡ç³»ç»Ÿï¼Œå°±å¯ä»¥å°†å®ƒä»¬å…¨éƒ¨å‡»è½ã€‚</p>
<p><strong>è¾“å…¥æ ¼å¼</strong></p>
<p>è¾“å…¥åŒ…å«å¤šç»„æµ‹è¯•ç”¨ä¾‹ã€‚</p>
<p>å¯¹äºæ¯ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼Œç¬¬ä¸€è¡ŒåŒ…å«æ•´æ•° nï¼Œè¡¨ç¤ºæ¥è¢­å¯¼å¼¹æ•°é‡ã€‚</p>
<p>ç¬¬äºŒè¡ŒåŒ…å« n ä¸ªä¸åŒçš„æ•´æ•°ï¼Œè¡¨ç¤ºæ¯ä¸ªå¯¼å¼¹çš„é«˜åº¦ã€‚</p>
<p>å½“è¾“å…¥æµ‹è¯•ç”¨ä¾‹ n=0 æ—¶ï¼Œè¡¨ç¤ºè¾“å…¥ç»ˆæ­¢ï¼Œä¸”è¯¥ç”¨ä¾‹æ— éœ€å¤„ç†ã€‚</p>
<p><strong>è¾“å‡ºæ ¼å¼</strong></p>
<p>å¯¹äºæ¯ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼Œè¾“å‡ºä¸€ä¸ªå æ®ä¸€è¡Œçš„æ•´æ•°ï¼Œè¡¨ç¤ºæ‰€éœ€çš„é˜²å¾¡ç³»ç»Ÿæ•°é‡ã€‚</p>
<p><strong>æ•°æ®èŒƒå›´</strong>ï¼š 1â‰¤nâ‰¤50</p>
<p><strong>è¾“å…¥æ ·ä¾‹ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="number">5</span></span><br><span class="line"><span class="number">3</span> <span class="number">5</span> <span class="number">2</span> <span class="number">4</span> <span class="number">1</span></span><br><span class="line"><span class="number">0</span> </span><br></pre></td></tr></table></figure>
<p><strong>è¾“å‡ºæ ·ä¾‹ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="number">2</span></span><br><span class="line">æ ·ä¾‹è§£é‡Š</span><br><span class="line">å¯¹äºç»™å‡ºæ ·ä¾‹ï¼Œæœ€å°‘éœ€è¦ä¸¤å¥—é˜²å¾¡ç³»ç»Ÿã€‚</span><br><span class="line"></span><br><span class="line">ä¸€å¥—å‡»è½é«˜åº¦ä¸º <span class="number">3</span>,<span class="number">4</span> çš„å¯¼å¼¹ï¼Œå¦ä¸€å¥—å‡»è½é«˜åº¦ä¸º <span class="number">5</span>,<span class="number">2</span>,<span class="number">1</span> çš„å¯¼å¼¹ã€‚</span><br></pre></td></tr></table></figure>

<h3 id="è§£æ³•ä¸€-5"><a href="#è§£æ³•ä¸€-5" class="headerlink" title="è§£æ³•ä¸€"></a>è§£æ³•ä¸€</h3><p>æœç´¢ + è´ªå¿ƒå‰ªæï¼Œæœç´¢çš„å¤æ‚åº¦æ˜¯ O(N*2^N)ï¼Œæ¯ä¸ªä½ç½®æœ‰ä¸¤ç§é€‰æ‹©ï¼Œæ¯æ¬¡é€‰æ‹©éƒ½éœ€è¦éå† up æˆ–è€… downï¼Œè™½ç„¶æ—¶é—´å¤æ‚åº¦å¾ˆé«˜ï¼Œä½†æ˜¯æ•´ä½“çš„ç»“æœæ¯”è¾ƒå°ï¼Œæ‰€ä»¥å¾ˆå¤šæƒ…å†µéƒ½è¢«å‰ªæ‰äº†ï¼Œæ•´ä½“é€Ÿåº¦è¿˜ä¸é”™</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="comment">//1. è€ƒè™‘æ¯ä¸ªç‚¹æ˜¯åœ¨ä¸Šå‡åºåˆ—ä¸­è¿˜æ˜¯ä¸‹é™åºåˆ—ä¸­</span></span><br><span class="line"><span class="comment">//2. è€ƒè™‘æ˜¯å¦éœ€è¦æ–°å»ºä¸€ä¸ªå•ç‹¬çš„åºåˆ—</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Main</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">sc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        <span class="keyword">while</span> (sc.hasNext()) {</span><br><span class="line">            <span class="type">int</span> <span class="variable">N</span> <span class="operator">=</span> sc.nextInt();</span><br><span class="line">            <span class="keyword">if</span> (N == <span class="number">0</span>) <span class="keyword">return</span>;</span><br><span class="line">            <span class="type">int</span>[] w = <span class="keyword">new</span> <span class="title class_">int</span>[N];</span><br><span class="line">            up = <span class="keyword">new</span> <span class="title class_">int</span>[N];</span><br><span class="line">            down = <span class="keyword">new</span> <span class="title class_">int</span>[N];</span><br><span class="line">            res = Integer.MAX_VALUE;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; N; i++) {</span><br><span class="line">                w[i] = sc.nextInt();</span><br><span class="line">            }</span><br><span class="line">            dfs(w, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">            System.out.println(res);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="type">int</span>[] up = <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">static</span> <span class="type">int</span>[] down = <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">static</span> <span class="type">int</span> res;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span>[] w, <span class="type">int</span> c, <span class="type">int</span> ul, <span class="type">int</span> dl)</span> {</span><br><span class="line">        <span class="comment">//å…³é”®çš„å‰ªæ</span></span><br><span class="line">        <span class="keyword">if</span> (ul+dl &gt;= res) <span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">if</span> (c == w.length) {</span><br><span class="line">            res = Math.min(ul+dl, res);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="comment">//å°† c æ”¾åœ¨ä¸Šå‡åºåˆ—ä¸­</span></span><br><span class="line">        <span class="type">boolean</span> <span class="variable">flag</span> <span class="operator">=</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; ul; i++) {</span><br><span class="line">            <span class="keyword">if</span> (up[i] &gt; w[c]) {</span><br><span class="line">                flag = <span class="literal">true</span>;</span><br><span class="line">                <span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span> up[i];</span><br><span class="line">                up[i] = w[c];</span><br><span class="line">                dfs(w, c+<span class="number">1</span>, ul, dl);</span><br><span class="line">                up[i] = temp;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">if</span> (!flag) {</span><br><span class="line">            up[ul] = w[c];</span><br><span class="line">            dfs(w, c+<span class="number">1</span>, ul+<span class="number">1</span>, dl);</span><br><span class="line">            up[ul] = <span class="number">0</span>;</span><br><span class="line">        }</span><br><span class="line">        flag = <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; dl; i++) {</span><br><span class="line">            <span class="keyword">if</span> (down[i] &lt; w[c]) {</span><br><span class="line">                flag = <span class="literal">true</span>;</span><br><span class="line">                <span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span> down[i];</span><br><span class="line">                down[i] = w[c];</span><br><span class="line">                dfs(w, c+<span class="number">1</span>, ul, dl);</span><br><span class="line">                down[i] = temp;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">if</span> (!flag) {</span><br><span class="line">            down[dl] = w[c];</span><br><span class="line">            dfs(w, c+<span class="number">1</span>, ul, dl+<span class="number">1</span>);</span><br><span class="line">            down[dl] = <span class="number">0</span>;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<h3 id="è§£æ³•äºŒ-1"><a href="#è§£æ³•äºŒ-1" class="headerlink" title="è§£æ³•äºŒ"></a>è§£æ³•äºŒ</h3><p>è¿­ä»£åŠ æ·±æœç´¢ï¼Œä»£ç ç®€åŒ–ï¼Œåœ¨è§£æ¯”è¾ƒå°çš„æ—¶å€™å¯ä»¥ä½¿ç”¨è¿™ç§æœç´¢æ–¹å¼æ‰¾æœ€å°å€¼ï¼Œç»“åˆäº† DFS å’Œ BFS çš„ä¼˜ç‚¹</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">    <span class="type">Scanner</span> <span class="variable">sc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">    <span class="keyword">while</span> (sc.hasNext()) {</span><br><span class="line">        <span class="type">int</span> <span class="variable">N</span> <span class="operator">=</span> sc.nextInt();</span><br><span class="line">        <span class="keyword">if</span> (N == <span class="number">0</span>) <span class="keyword">return</span>;</span><br><span class="line">        <span class="type">int</span>[] w = <span class="keyword">new</span> <span class="title class_">int</span>[N];</span><br><span class="line">        up = <span class="keyword">new</span> <span class="title class_">int</span>[N];</span><br><span class="line">        down = <span class="keyword">new</span> <span class="title class_">int</span>[N];</span><br><span class="line">        res = Integer.MAX_VALUE;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; N; i++) {</span><br><span class="line">            w[i] = sc.nextInt();</span><br><span class="line">        }</span><br><span class="line">        <span class="comment">//dfs(w, 0, 0, 0);</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">depth</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (!dfs(w, depth, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>)) {</span><br><span class="line">            depth++;</span><br><span class="line">        }</span><br><span class="line">        System.out.println(depth);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">static</span> <span class="type">int</span>[] up = <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">static</span> <span class="type">int</span>[] down = <span class="literal">null</span>;</span><br><span class="line"><span class="comment">//è¿­ä»£åŠ æ·±ï¼ŒBFS ç‰ˆçš„ DFS</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span>[] w, <span class="type">int</span> depth, <span class="type">int</span> c, <span class="type">int</span> ul, <span class="type">int</span> dl)</span> {</span><br><span class="line">    <span class="keyword">if</span> (ul+dl &gt; depth) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">if</span> (c == w.length) {</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="comment">//å°† c æ”¾åœ¨ä¸Šå‡åºåˆ—ä¸­ï¼Œé‚£ä¹ˆæˆ‘ä»¬åº”è¯¥æ‰¾åˆ°å°äº w[i] çš„æœ€å¤§çš„ tail</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; ul; i++) {</span><br><span class="line">        <span class="keyword">if</span> (up[i] &lt; w[c]) <span class="keyword">break</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span> up[i];</span><br><span class="line">    up[i] = w[c];</span><br><span class="line">    <span class="keyword">if</span> (i == ul) {</span><br><span class="line">        <span class="keyword">if</span> (dfs(w, depth, c+<span class="number">1</span>, ul+<span class="number">1</span>, dl)) {</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;      </span><br><span class="line">        }</span><br><span class="line">    } <span class="keyword">else</span> <span class="keyword">if</span> (dfs(w, depth, c+<span class="number">1</span>, ul, dl)) {</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    }</span><br><span class="line">    up[i] = temp;</span><br><span class="line">    <span class="comment">//å°† c æ”¾åœ¨ä¸‹é™åºåˆ—ä¸­ï¼Œé‚£ä¹ˆæˆ‘ä»¬åº”è¯¥æ‰¾åˆ°å¤§äº w[i] çš„æœ€å°çš„ tail</span></span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; dl; i++) {</span><br><span class="line">        <span class="keyword">if</span> (down[i] &gt; w[c]) <span class="keyword">break</span>;</span><br><span class="line">    }</span><br><span class="line">    temp = down[i];</span><br><span class="line">    down[i] = w[c];</span><br><span class="line">    <span class="keyword">if</span> (i == dl) {</span><br><span class="line">        <span class="keyword">if</span> (dfs(w, depth, c+<span class="number">1</span>, ul, dl+<span class="number">1</span>)) {</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        }</span><br><span class="line">    } <span class="keyword">else</span> {</span><br><span class="line">        <span class="keyword">if</span> (dfs(w, depth, c+<span class="number">1</span>, ul, dl)) {</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    down[i] = temp;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<h2 id="272-æœ€é•¿å…¬å…±ä¸Šå‡å­åºåˆ—"><a href="#272-æœ€é•¿å…¬å…±ä¸Šå‡å­åºåˆ—" class="headerlink" title="272. æœ€é•¿å…¬å…±ä¸Šå‡å­åºåˆ—"></a><a target="_blank" rel="noopener" href="https://www.acwing.com/problem/content/description/274/">272. æœ€é•¿å…¬å…±ä¸Šå‡å­åºåˆ—</a></h2><p>ç†Šå¤§å¦ˆçš„å¥¶ç‰›åœ¨å°æ²æ²çš„ç†é™¶ä¸‹å¼€å§‹ç ”ç©¶ä¿¡æ¯é¢˜ç›®ã€‚</p>
<p>å°æ²æ²å…ˆè®©å¥¶ç‰›ç ”ç©¶äº†æœ€é•¿ä¸Šå‡å­åºåˆ—ï¼Œå†è®©ä»–ä»¬ç ”ç©¶äº†æœ€é•¿å…¬å…±å­åºåˆ—ï¼Œç°åœ¨åˆè®©ä»–ä»¬ç ”ç©¶æœ€é•¿å…¬å…±ä¸Šå‡å­åºåˆ—äº†ã€‚</p>
<p>å°æ²æ²è¯´ï¼Œå¯¹äºä¸¤ä¸ªæ•°åˆ— A å’Œ Bï¼Œå¦‚æœå®ƒä»¬éƒ½åŒ…å«ä¸€æ®µä½ç½®ä¸ä¸€å®šè¿ç»­çš„æ•°ï¼Œä¸”æ•°å€¼æ˜¯ä¸¥æ ¼é€’å¢çš„ï¼Œé‚£ä¹ˆç§°è¿™ä¸€æ®µæ•°æ˜¯ä¸¤ä¸ªæ•°åˆ—çš„å…¬å…±ä¸Šå‡å­åºåˆ—ï¼Œè€Œæ‰€æœ‰çš„å…¬å…±ä¸Šå‡å­åºåˆ—ä¸­æœ€é•¿çš„å°±æ˜¯æœ€é•¿å…¬å…±ä¸Šå‡å­åºåˆ—äº†ã€‚</p>
<p>å¥¶ç‰›åŠæ‡‚ä¸æ‡‚ï¼Œå°æ²æ²è¦ä½ æ¥å‘Šè¯‰å¥¶ç‰›ä»€ä¹ˆæ˜¯æœ€é•¿å…¬å…±ä¸Šå‡å­åºåˆ—ã€‚</p>
<p>ä¸è¿‡ï¼Œåªè¦å‘Šè¯‰å¥¶ç‰›å®ƒçš„é•¿åº¦å°±å¯ä»¥äº†ã€‚</p>
<p>æ•°åˆ— A å’Œ B çš„é•¿åº¦å‡ä¸è¶…è¿‡ 3000ã€‚</p>
<p><strong>è¾“å…¥æ ¼å¼</strong></p>
<p>ç¬¬ä¸€è¡ŒåŒ…å«ä¸€ä¸ªæ•´æ•° Nï¼Œè¡¨ç¤ºæ•°åˆ— Aï¼ŒB çš„é•¿åº¦ã€‚</p>
<p>ç¬¬äºŒè¡ŒåŒ…å« N ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ•°åˆ— Aã€‚</p>
<p>ç¬¬ä¸‰è¡ŒåŒ…å« N ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ•°åˆ— Bã€‚</p>
<p><strong>è¾“å‡ºæ ¼å¼</strong></p>
<p>è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæœ€é•¿å…¬å…±ä¸Šå‡å­åºåˆ—çš„é•¿åº¦ã€‚</p>
<p><strong>æ•°æ®èŒƒå›´</strong></p>
<p>1â‰¤Nâ‰¤3000, åºåˆ—ä¸­çš„æ•°å­—å‡ä¸è¶…è¿‡ 2^31âˆ’1</p>
<p><strong>è¾“å…¥æ ·ä¾‹ï¼š</strong></p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="number">4</span></span><br><span class="line"><span class="number">2</span> <span class="number">2</span> <span class="number">1</span> <span class="number">3</span></span><br><span class="line"><span class="number">2</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3</span></span><br></pre></td></tr></table></figure>
<p><strong>è¾“å‡ºæ ·ä¾‹ï¼š</strong></p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="number">2</span></span><br></pre></td></tr></table></figure>

<h3 id="è§£æ³•ä¸€-6"><a href="#è§£æ³•ä¸€-6" class="headerlink" title="è§£æ³•ä¸€"></a>è§£æ³•ä¸€</h3><p>æœ´ç´ çš„è§£æ³•åº”è¯¥è‡ªå·±æƒ³å‡ºæ¥çš„ï¼Œå¯æƒœï¼Œæ²¡æƒ³å‡ºæ¥ï¼Œçœ‹äº†è§£ç­”æ‰ç†è§£ï¼Œè¿™é‡Œ<code>dp[i][j]</code> æ˜¯æŒ‡** A åºåˆ—çš„å‰ i ä¸ªå­—ç¬¦å’Œ B çš„å‰ j ä¸ªå­—ç¬¦ç»„æˆçš„ï¼Œä»¥<code>B[j]</code>ç»“å°¾çš„æœ€é•¿å…¬å…±ä¸Šå‡å­åºåˆ—é•¿åº¦**ï¼Œå®é™…ä¸Šæ˜¯ lcs ä¸ª lis çš„å®Œç¾ç»“åˆï¼Œå› ä¸ºçŠ¶æ€å®šä¹‰æŒ‡å®šäº†<code>B[j]</code>æ˜¯ä¸€å®šè¦åŒ…å«çš„ï¼Œæ‰€ä»¥ç›¸æ¯” LCS çš„å››ç§æƒ…å†µï¼Œè¿™é‡Œåªæœ‰ä¸¤ç§æƒ…å†µï¼ŒåŒ…å«æˆ–è€…ä¸åŒ…å«<code>A[i]</code></p>
<ul>
<li>ä¸åŒ…å« A[i] é‚£ä¹ˆçŠ¶æ€å°±æ˜¯<code>dp[i-1][j]</code>; </li>
<li>å¦‚æœè¦åŒ…å« A[i]ï¼Œé‚£ä¹ˆ<code>A[i]</code>å¿…é¡»ç­‰äº<code>B[j]</code>ï¼Œå¦åˆ™å°±æ²¡æœ‰è€ƒè™‘çš„æ„ä¹‰ï¼Œç„¶åæˆ‘ä»¬æŒ‰ç…§ LIS çš„æ–¹æ³•å»æ‰¾ä¸€ä¸ªæœ€å¤§å€¼å°± ok äº†</li>
</ul>
<p>æ—¶é—´å¤æ‚åº¦ N^3ï¼Œè¿™é‡ŒæŒ‰é“ç†æ˜¯ä¼šè¢«å¡æ‰çš„ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰ã€‚..</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Main</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">sc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        <span class="type">int</span> <span class="variable">N</span> <span class="operator">=</span> sc.nextInt();</span><br><span class="line">        <span class="type">int</span>[] A = <span class="keyword">new</span> <span class="title class_">int</span>[N];</span><br><span class="line">        <span class="type">int</span>[] B = <span class="keyword">new</span> <span class="title class_">int</span>[N];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; N; i++) {</span><br><span class="line">            A[i] = sc.nextInt();</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; N; i++) {</span><br><span class="line">            B[i] = sc.nextInt();</span><br><span class="line">        }</span><br><span class="line">        System.out.println(solve(A, B, N));</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">solve</span><span class="params">(<span class="type">int</span>[] A, <span class="type">int</span>[] B, <span class="type">int</span> N)</span>{</span><br><span class="line">        <span class="comment">//A å‰ i ä¸ªå­—ç¬¦å’Œ B å‰ j ä¸ªå­—ç¬¦å¹¶ä¸”ä»¥ B[j] ç»“å°¾çš„æœ€é•¿ LCIS</span></span><br><span class="line">        <span class="type">int</span>[][] dp = <span class="keyword">new</span> <span class="title class_">int</span>[N+<span class="number">1</span>][N+<span class="number">1</span>];</span><br><span class="line">        <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= N; i++) {</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">1</span>; j &lt;= N; j++) {</span><br><span class="line">                dp[i][j] = dp[i-<span class="number">1</span>][j];</span><br><span class="line">                <span class="keyword">if</span> (A[i-<span class="number">1</span>] == B[j-<span class="number">1</span>]) {</span><br><span class="line">                    dp[i][j] = Math.max(dp[i][j], <span class="number">1</span>);</span><br><span class="line">                    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> <span class="number">1</span>; k &lt; j; k++) {</span><br><span class="line">                        <span class="keyword">if</span> (B[j-<span class="number">1</span>] &gt; B[k-<span class="number">1</span>]) {</span><br><span class="line">                            dp[i][j] = Math.max(dp[i][k]+<span class="number">1</span>, dp[i][j]);</span><br><span class="line">                        }</span><br><span class="line">                    }</span><br><span class="line">                }</span><br><span class="line">                res = Math.max(res, dp[i][j]);</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<h3 id="è§£æ³•äºŒ-2"><a href="#è§£æ³•äºŒ-2" class="headerlink" title="è§£æ³•äºŒ"></a>è§£æ³•äºŒ</h3><p>å¯¹ä¸Šé¢çš„è§£æ³•åšäº†ç­‰ä»·å˜å½¢ï¼Œé¦–å…ˆä¸Šé¢è§£æ³•å†…å¾ªç¯æ˜¯æ‰¾<code>[1,j-1]</code>åŒºé—´å†…<code>B[k]&lt;B[j]</code>çš„æœ€å¤§å€¼ï¼ŒåŒæ—¶æ­¤æ—¶çš„<code>B[j]==A[i]</code>ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥è¿›è¡Œä¸€æ³¢ç­‰ä»·å˜å½¢ï¼ŒåŠ¨æ€çš„è®¡ç®—è¿™ä¸ªæœ€å¤§å€¼ï¼Œä»è€Œä¼˜åŒ–æ‰ä¸€å±‚å¾ªç¯ï¼Œè¿˜æ˜¯å¾ˆå·§å¦™çš„</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//ä»£ç ç­‰ä»·å˜å½¢ï¼Œæ—¶é—´å¤æ‚åº¦ N^2</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">solveOpt</span><span class="params">(<span class="type">int</span>[] A, <span class="type">int</span>[] B, <span class="type">int</span> N)</span>{</span><br><span class="line">    <span class="comment">//A å‰ i ä¸ªå­—ç¬¦å’Œ B å‰ j ä¸ªå­—ç¬¦å¹¶ä¸”ä»¥ B[j] ç»“å°¾çš„æœ€é•¿ LCIS</span></span><br><span class="line">    <span class="type">int</span>[][] dp = <span class="keyword">new</span> <span class="title class_">int</span>[N+<span class="number">1</span>][N+<span class="number">1</span>];</span><br><span class="line">    <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= N; i++) {</span><br><span class="line">        <span class="type">int</span> <span class="variable">maxv</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">1</span>; j &lt;= N; j++) {</span><br><span class="line">            dp[i][j] = dp[i-<span class="number">1</span>][j];</span><br><span class="line">            <span class="keyword">if</span> (A[i-<span class="number">1</span>] == B[j-<span class="number">1</span>]) {</span><br><span class="line">                dp[i][j] = Math.max(dp[i][j], maxv);</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">if</span> (B[j-<span class="number">1</span>] &lt; A[i-<span class="number">1</span>]) {</span><br><span class="line">                maxv = Math.max(maxv, dp[i][j]+<span class="number">1</span>);</span><br><span class="line">            }</span><br><span class="line">            res = Math.max(res, dp[i][j]);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
        
            <div class="donate-container">
    <div class="donate-button">
        <button id="donate-button">èµèµ</button>
    </div>
    <div class="donate-img-container hide" id="donate-img-container">
        <img id="donate-img" src="" data-src="">
        <p> æ„Ÿè°¢é¼“åŠ± </p>
    </div>
</div>
        
        <br />
        <div id="comment-container">
        </div>
        <div id="disqus_thread"></div>
        <div id="lv-container"></div>
        <div class="giscus"></div>
    </div>
</div>

    </div>
</div>


<footer class="footer">
    <ul class="list-inline text-center">
        
        

        

        

        
        <li>
            <a target="_blank"  href="https://github.com/imlgw">
                            <span class="fa-stack fa-lg">
                                <i class="iconfont icon-github"></i>
                            </span>
            </a>
        </li>
        

        

    </ul>
    
    <p>
        <span>/</span>
        
        <span><a href="https://imlgw.top">Tadow</a></span>
        <span>/</span>
        
        <span><a target="_blank" rel="noopener" href="http://beian.miit.gov.cn/publish/query/indexFirst.action">é„‚ICPå¤‡18011208å·</a></span>
        <span>/</span>
        
    </p>
    
    <p>
        <span id="busuanzi_container_site_pv">
            <span id="busuanzi_value_site_pv"></span>PV
        </span>
        <span id="busuanzi_container_site_uv">
            <span id="busuanzi_value_site_uv"></span>UV
        </span>
        Created By <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>  Theme <a target="_blank" rel="noopener" href="https://github.com/aircloud/hexo-theme-aircloud">AirCloud</a></p>
</footer>




<script src="https://cdn.jsdelivr.net/npm/live2d-widget@3.x/lib/L2Dwidget.min.js"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"https://cdn.jsdelivr.net/npm/live2d-widget-model-hijiki@1.0.5/assets/hijiki.model.json"},"display":{"superSample":2,"width":160,"height":320,"position":"right","hOffset":0,"vOffset":-70},"mobile":{"show":false,"scale":0.2},"log":false});</script></body>

<script>
    // We expose some of the variables needed by the front end
    window.hexo_search_path = "search.json"
    window.hexo_root = "/"
    window.isPost = true
</script>
<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>

<script src="/js/index.js"></script>

<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>




    <script src="https://giscus.app/client.js"
  data-repo="imlgw/imlgw.github.io"
  data-repo-id="MDEwOlJlcG9zaXRvcnkxMzMyMDY4NDg="
  data-category="Announcements"
  data-category-id="DIC_kwDOB_CTQM4CQ7v8"
  data-mapping="pathname"
  data-strict="0"
  data-reactions-enabled="1"
  data-emit-metadata="0"
  data-input-position="top"
  data-theme="light"
  data-lang="zh-CN"
  data-loading="lazy"
  crossorigin="anonymous"
  async>
</script>



</html>
