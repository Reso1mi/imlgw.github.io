<!DOCTYPE html>
<html lang=zh-CN>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta property="og:description" content="Tadow çš„åšå®¢">
    <meta property="og:type" content="website">
    <meta name="description" content="Tadow çš„åšå®¢">
    <meta name="keyword"  content="Tadow, Resolmi, imlgw, åŠå²›é“ç›’, ç®—æ³•, Java, Golang">
    <link rel="shortcut icon" href="https://fav.farm/ğŸ’­">

    <title>
        
        LeetCode èƒŒåŒ…é—®é¢˜ - Tadow ç¢ç¢å¿µ
        
    </title>

    <!-- Custom CSS -->
    
<link rel="stylesheet" href="/css/aircloud.css">

    
<link rel="stylesheet" href="/css/gitment.css">

    <!--<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">-->
    <link href="//at.alicdn.com/t/font_620856_28hi1hpxx24.css" rel="stylesheet" type="text/css">
    <!-- ga & ba script hoook -->
    <script></script>
<meta name="generator" content="Hexo 5.4.2"><link rel="alternate" href="/atom.xml" title="Tadow ç¢ç¢å¿µ" type="application/atom+xml">
</head>

<body>

<div class="site-nav-toggle" id="site-nav-toggle">
    <button>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
    </button>
</div>

<div class="index-about">
    <i> Keep It Simple, Stupid </i>
</div>

<div class="index-container">
    
    <div class="index-left">
        
<div class="nav" id="nav">
    <div class="avatar-name">
        <div class="avatar radius">
            <img src="https://static.imlgw.top/blog/20220821160037.png" />
        </div>
        <div class="name">
            <i>Tadow</i>
        </div>
    </div>
    <div class="contents" id="nav-content">
        <ul>
            <li >
                <a href="/">
                    <i class="iconfont icon-shouye1"></i>
                    <span>ä¸»é¡µ</span>
                </a>
            </li>
            <!-- <li >
                <a href="/tags">
                    <i class="iconfont icon-biaoqian1"></i>
                    <span>æ ‡ç­¾</span>
                </a>
            </li> -->
            <li >
                <a href="/categories">
                    <i class="iconfont icon-biaoqian1"></i>
                    <span>åˆ†ç±»</span>
                </a>
            </li>
            <li >
                <a href="/archives">
                    <i class="iconfont icon-guidang2"></i>
                    <span>å­˜æ¡£</span>
                </a>
            </li>
            
            <li >
                <a href="/selfhosted">
                    <i class="iconfont icon-guidang1"></i>
                    <span>è‡ªå»º</span>
                </a>
            </li>

            <li >
                <a href="/collect/">
                    <i class="iconfont icon-shoucang1"></i>
                    <span>æ”¶è—</span>
                </a>
            </li>

            <li >
                <a href="/about/">
                    <i class="iconfont icon-guanyu2"></i>
                    <span>å…³äº</span>
                </a>
            </li>
            
            <li>
                <a id="search">
                    <i class="iconfont icon-sousuo1"></i>
                    <span>æœç´¢</span>
                </a>
            </li>
            
        </ul>
    </div>
    
        <div id="toc" class="toc-article">
    <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#92-%E8%83%8C%E5%8C%85%E9%97%AE%E9%A2%98%EF%BC%88lintCode%EF%BC%89"><span class="toc-text">92. èƒŒåŒ…é—®é¢˜ï¼ˆlintCodeï¼‰</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%8C%E5%85%A8%E8%83%8C%E5%8C%85%E9%97%AE%E9%A2%98%EF%BC%88acwing%EF%BC%89"><span class="toc-text">å®Œå…¨èƒŒåŒ…é—®é¢˜ï¼ˆacwingï¼‰</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#416-%E5%88%86%E5%89%B2%E7%AD%89%E5%92%8C%E5%AD%90%E9%9B%86"><span class="toc-text">416. åˆ†å‰²ç­‰å’Œå­é›†</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#322-%E9%9B%B6%E9%92%B1%E5%85%91%E6%8D%A2"><span class="toc-text">322. é›¶é’±å…‘æ¢</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#518-%E9%9B%B6%E9%92%B1%E5%85%91%E6%8D%A2-II"><span class="toc-text">518. é›¶é’±å…‘æ¢ II</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9D%A2%E8%AF%95%E9%A2%98-08-11-%E7%A1%AC%E5%B8%81"><span class="toc-text">é¢è¯•é¢˜ 08.11. ç¡¬å¸</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#377-%E7%BB%84%E5%90%88%E6%80%BB%E5%92%8C-%E2%85%A3"><span class="toc-text">377. ç»„åˆæ€»å’Œ â…£</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#494-%E7%9B%AE%E6%A0%87%E5%92%8C"><span class="toc-text">494. ç›®æ ‡å’Œ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1049-%E6%9C%80%E5%90%8E%E4%B8%80%E5%9D%97%E7%9F%B3%E5%A4%B4%E7%9A%84%E9%87%8D%E9%87%8F-II"><span class="toc-text">1049. æœ€åä¸€å—çŸ³å¤´çš„é‡é‡ II</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#474-%E4%B8%80%E5%92%8C%E9%9B%B6"><span class="toc-text">474. ä¸€å’Œé›¶</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1255-%E5%BE%97%E5%88%86%E6%9C%80%E9%AB%98%E7%9A%84%E5%8D%95%E8%AF%8D%E9%9B%86%E5%90%88"><span class="toc-text">1255. å¾—åˆ†æœ€é«˜çš„å•è¯é›†åˆ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#HUD4501-%E5%B0%8F%E6%98%8E%E7%B3%BB%E5%88%97%E6%95%85%E4%BA%8B%E2%80%94%E2%80%94%E4%B9%B0%E5%B9%B4%E8%B4%A7%EF%BC%88HUDOJ%EF%BC%89"><span class="toc-text">HUD4501. å°æ˜ç³»åˆ—æ•…äº‹â€”â€”ä¹°å¹´è´§ï¼ˆHUDOJï¼‰</span></a></li></ol>
</div>
    
</div>


<div class="search-field" id="search-field">
    <div class="search-bg" id="search-bg"></div>
    <div class="search-container">
        <div class="search-input">
            <span id="esc-search"> <i class="icon-fanhui iconfont"></i></span>
            <input id="search-input"/>
            <span id="begin-search">æœç´¢</span>
        </div>
        <div class="search-result-container" id="search-result-container">

        </div>
    </div>
</div>

        <div class="index-about-mobile">
            <i> Keep It Simple, Stupid </i>
        </div>
    </div>
    
    <div class="index-middle">
        <!-- Main Content -->
        


<div class="post-container">
    <div class="post-title">
        LeetCode èƒŒåŒ…é—®é¢˜
    </div>

    <div class="post-meta">
        <span class="attr">å‘å¸ƒäºï¼š<span>2019-11-29 00:00:00</span></span>
        
        <span class="attr">æ ‡ç­¾ï¼š/
        
        <a class="tag" href="/tags/#LeetCode" title="LeetCode">LeetCode</a>
        <span>/</span>
        
        <a class="tag" href="/tags/#èƒŒåŒ…" title="èƒŒåŒ…">èƒŒåŒ…</a>
        <span>/</span>
        
        
        </span>
        <span class="attr">è®¿é—®ï¼š<span id="busuanzi_value_page_pv"></span>
</span>
</span>
    </div>
    <div class="post-content no-indent">
        <blockquote>
<p>ä» <a href="http://imlgw.top/2019/09/01/leetcode-dong-tai-gui-hua/">åŠ¨æ€è§„åˆ’ä¸“é¢˜</a> ä¸­æŠ½å–å‡ºæ¥çš„</p>
</blockquote>
<h2 id="92-èƒŒåŒ…é—®é¢˜ï¼ˆlintCodeï¼‰"><a href="#92-èƒŒåŒ…é—®é¢˜ï¼ˆlintCodeï¼‰" class="headerlink" title="92. èƒŒåŒ…é—®é¢˜ï¼ˆlintCodeï¼‰"></a><a target="_blank" rel="noopener" href="https://www.lintcode.com/problem/backpack/description">92. èƒŒåŒ…é—®é¢˜ï¼ˆlintCodeï¼‰</a></h2><p>åœ¨ n ä¸ªç‰©å“ä¸­æŒ‘é€‰è‹¥å¹²ç‰©å“è£…å…¥èƒŒåŒ…ï¼Œæœ€å¤šèƒ½è£…å¤šæ»¡ï¼Ÿå‡è®¾èƒŒåŒ…çš„å¤§å°ä¸º mï¼Œæ¯ä¸ªç‰©å“çš„å¤§å°ä¸º A[i]</p>
<ul>
<li>ä½ ä¸å¯ä»¥å°†ç‰©å“è¿›è¡Œåˆ‡å‰²</li>
</ul>
<p><strong>æ ·ä¾‹</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">æ ·ä¾‹ <span class="number">1</span>:</span><br><span class="line">	è¾“å…¥ï¼š[<span class="number">3</span>,<span class="number">4</span>,<span class="number">8</span>,<span class="number">5</span>], backpack size=<span class="number">10</span></span><br><span class="line">	è¾“å‡ºï¼š<span class="number">9</span></span><br><span class="line">æ ·ä¾‹ <span class="number">2</span>:</span><br><span class="line">	è¾“å…¥ï¼š[<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>], backpack size=<span class="number">12</span></span><br><span class="line">	è¾“å‡ºï¼š<span class="number">12</span></span><br></pre></td></tr></table></figure>

<p><strong>æŒ‘æˆ˜</strong></p>
<ul>
<li><p>O(n x m) time and O(m) memory.</p>
</li>
<li><p>O(n x m) memory is also acceptable if you do not know how to optimize memory.</p>
</li>
</ul>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>è®°å¿†åŒ–é€’å½’ï¼Œå¯¹äºæ¯ä¸ªå…ƒç´ ï¼Œæœ‰ä¸¤ç§é€‰æ‹©ï¼Œè£…æˆ–è€…ä¸è£…</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//ç”¨ Integer[][], ç©ºé—´ä¼šè¶…ç©ºé—´ã€‚lintCode å¥½ä¸¥æ ¼</span></span><br><span class="line"><span class="type">int</span> [][] cache=<span class="literal">null</span>;    </span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">backPack2</span><span class="params">(<span class="type">int</span> m,<span class="type">int</span>[] A)</span> &#123;</span><br><span class="line">    cache=<span class="keyword">new</span> <span class="title class_">int</span>[A.length+<span class="number">1</span>][m+<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>;i&lt;A.length;i++) &#123;</span><br><span class="line">        Arrays.fill(cache[i],-<span class="number">1</span>);   </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (A==<span class="literal">null</span> || A.length&lt;=<span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> putPack(m,A,A.length-<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å°† A[index,A.len-1] èŒƒå›´å†…çš„å…ƒç´ è£…è¿›å¤§å°ä¸º m çš„èƒŒåŒ…çš„æœ€å¤§æ”¶ç›Š</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">putPack</span><span class="params">(<span class="type">int</span> m,<span class="type">int</span>[] A,<span class="type">int</span> index)</span> &#123;</span><br><span class="line">    <span class="comment">//index==0 çš„æ—¶å€™ä¸åº”è¯¥è¿”å›=0 ä»£è¡¨ç¬¬ä¸€ä¸ªï¼Œæ˜¯å¯ä»¥è£…çš„</span></span><br><span class="line">    <span class="comment">//å¯¹äº m ä¹Ÿæ˜¯ä¸€æ ·ï¼Œè¿™ç§è¾¹ç•Œæ€è€ƒä¸€ä¸‹ m å°±ç­‰äº 0ï¼Œæˆ–è€…å°±åªæœ‰ä¸€ä¸ªå…ƒç´ ï¼Œindex å°±ç­‰äº 0 è¿™ç§ç‰¹ä¾‹å°±å¯ä»¥</span></span><br><span class="line">    <span class="comment">//åªè¦è¿™ç§ç‰¹ä¾‹æ˜¯æ­£ç¡®çš„é‚£ä¹ˆæ•´ä¸ªé€’å½’å°±æ˜¯æ­£ç¡®çš„ï¼Œå¹¶ä¸éœ€è¦å»æ€è€ƒæ•´ä¸ªé€’å½’çš„ç»“æŸæ¡ä»¶</span></span><br><span class="line">    <span class="keyword">if</span> (index&lt;<span class="number">0</span> || m&lt;=<span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (cache[index][m]!=-<span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> cache[index][m];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//ä¸è£… index ä½ç½®çš„å…ƒç´ </span></span><br><span class="line">    <span class="type">int</span> res=putPack(m,A,index-<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">if</span> (A[index]&lt;=m) &#123;</span><br><span class="line">        <span class="comment">//è¯´æ˜å¯ä»¥è£…ä¸‹ index ä½ç½®çš„å…ƒç´ ï¼Œæ‰€ä»¥æˆ‘ä»¬å°† index ä½ç½®çš„å…ƒç´ è£…è¿›å»è¯•è¯•çœ‹</span></span><br><span class="line">        <span class="comment">//ç„¶åæ±‚å‡ºå‰©ä¸‹çš„ç©ºé—´è¿˜æœ€å¤šèƒ½è£…å¤šå°‘ï¼Œæœ€åæ±‚æ˜¯è£… index æ”¶ç›Šå¤§è¿˜æ˜¯ä¸è£… index æ”¶ç›Šå¤§</span></span><br><span class="line">        res=Math.max(res,A[index]+putPack(m-A[index],A,index-<span class="number">1</span>));</span><br><span class="line">    &#125;</span><br><span class="line">    cache[index][m]=res;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æš´åŠ›é€’å½’çš„æ—¶é—´å¤æ‚åº¦å°†ä¼šæ˜¯<code>O((2^N)*N)</code></p>
<p>å…¶å®æ•´ä¸ªé€’å½’çš„æ€è·¯æ˜¯å¾ˆæ¸…æ™°æ˜ç™½çš„ï¼Œå¯¹äºæ¯ä¸ªå…ƒç´ ï¼Œæœ‰ä¸¤ç§æƒ…å†µï¼Œè¿™ä¹Ÿæ˜¯ä¹‹æ‰€ä»¥ç§°ä¹‹ä¸º 0-1 èƒŒåŒ…çš„åŸå› </p>
<ul>
<li>ä¸é€‰çš„è¯ï¼ŒèƒŒåŒ…çš„å®¹é‡ä¸å˜ï¼Œæ”¹å˜ä¸ºé—®é¢˜<code>putPack(m,A,index-1)</code></li>
<li>é€‰çš„è¯ï¼ŒèƒŒåŒ…çš„å®¹é‡å˜å°ï¼Œæ”¹å˜ä¸ºé—®é¢˜<code>putPack(m-A[index],A,index-1)+A[index]</code></li>
</ul>
<p>åˆ°åº•é€‰è¿˜æ˜¯ä¸é€‰ï¼Œå–å†³äºä¸¤ç§æ–¹æ¡ˆå“ªä¸€ç§æ›´å¥½ï¼Œæˆ‘ä»¬è¦æ±‚çš„ï¼Œå°±æ˜¯è¿™ä¸ªæœ€å¥½çš„æ–¹æ¡ˆï¼ŒçŸ¥é“äº†è¿™æ ·çš„é€’æ¨å…³ç³»åæˆ‘ä»¬å°±å¯ä»¥å¾ˆå®¹æ˜“çš„å†™å‡ºé€’å½’æ–¹ç¨‹ï¼Œè¿™é‡Œåœ¨é€’å½’çš„è¿‡ç¨‹ä¸­æœ‰å¯èƒ½ä¼šäº§ç”Ÿé‡å çš„å­é—®é¢˜ï¼ˆå…¶å®è¿™é‡Œæˆ‘è¿˜çº ç»“äº†å¥½ä¸€ä¼šå„¿ï¼Œæˆ‘ä¸€ç›´æ„Ÿè§‰æ²¡æœ‰é‡å çš„å­é—®é¢˜ï¼Œåæ¥ç”»ä¸€ä¸‹é€’å½’æ ‘å°±æ˜ç™½äº†ï¼Œåªæ˜¯é‡å çš„ä¸æ˜æ˜¾ï¼‰ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€šè¿‡ç¼“å­˜æ¯æ¬¡è®¡ç®—çš„ç»“æœæ¥è¿›è¡Œè®°å¿†åŒ–é€’å½’ï¼Œæ•´ä½“çš„æ—¶é—´å¤æ‚åº¦åº”è¯¥æ˜¯<code>O(2^N)</code>ï¼Œç©ºé—´<code>O(M*N)</code>æ˜¾ç„¶ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ç»“æœ</p>
<blockquote>
<p>è¿™é‡Œä¸€å¼€å§‹æˆ‘æ˜¯æƒ³ç”¨<code>Integer[][]</code>çš„æ•°ç»„ï¼Œç„¶åå°±ä¸ç”¨èµ‹åˆå§‹å€¼ï¼Œåˆ¤æ–­ä¸ä¸º null å°±è¡Œï¼Œç»“æœç©ºé—´æº¢å‡ºäº†ã€‚lintCode å¥½ä¸¥æ ¼ï¼Œæ¢æˆ<code>int[][]</code>ç„¶åèµ‹ä¸ªåˆå§‹å€¼å°±è¿‡äº†</p>
</blockquote>
<p><strong>è§£æ³•äºŒ</strong></p>
<p>åŠ¨æ€è§„åˆ’è§£æ³•ï¼Œåœ¨è®²è§£ä¹‹å‰ï¼Œæˆ‘ä»¬ç”¨ä¸€ä¸ªäºŒç»´è¡¨æ¥åˆ†æä¸‹æ•´ä¸ªé€’æ¨çš„è¿‡ç¨‹</p>
<p>ç‰©å“åˆ—è¡¨ï¼ˆæ ·ä¾‹ 1ï¼‰ï¼Œå› ä¸ºè¿™é¢˜ä»·å€¼å°±æ˜¯é‡é‡ï¼Œæ‰€ä»¥ w å’Œ v æ˜¯ä¸€æ ·çš„</p>
<p><img src="http://static.imlgw.top/blog/20200227/XIvS0eAf1FqA.png?imageslim" alt="mark"></p>
<p><strong>DpTableï¼ˆæ ·ä¾‹ 1ï¼‰</strong></p>
<p><img src="http://static.imlgw.top/blog/20200227/YkPisR3fx1wa.png?imageslim" alt="mark"></p>
<p>ä¸€è¡Œä¸€è¡Œçš„çœ‹ï¼Œä»å·¦åˆ°å³ï¼Œ<code>dp[index][m]</code>ä»£è¡¨ <strong>èƒŒåŒ…æ€»å®¹é‡ä¸è¶…è¿‡ m çš„æƒ…å†µä¸‹ï¼Œè€ƒè™‘è£…å…¥<code>[0,index]</code>ä¸­çš„å…ƒç´ èƒ½è·å¾—æœ€å¤§æ”¶ç›Š</strong>ï¼Œæ¯”å¦‚<code>dp[1][7]</code>ä»£è¡¨çš„å°±æ˜¯èƒŒåŒ…æ€»å®¹é‡ä¸è¶…è¿‡ 7 çš„æƒ…å†µä¸‹ï¼Œè€ƒè™‘è£…å…¥<code>[0,1]</code> èŒƒå›´å†…çš„å…ƒç´ æ‰€èƒ½è·å¾—çš„æœ€å¤§æ”¶ç›Šï¼Œäººè„‘æ€è€ƒç»“æœè‡ªç„¶æ˜¯ 7 äº†ï¼Œä¸‹é¢æˆ‘ä»¬åˆ†æä¸‹å¦‚æœ dp æ¨å‡ºè¿™ä¸ªç»“æœ</p>
<p>å‰é¢æˆ‘ä»¬å·²ç»åˆ†æè¿‡ 0-1 èƒŒåŒ…çš„é€’å½’è¿‡ç¨‹ï¼Œæ¯ä¸ªå…ƒç´ é¢ä¸´ä¸¤ä¸ªé€‰æ‹©ï¼Œè¿™é‡Œä¹Ÿä¸€æ ·</p>
<p><code>dp[1][7]</code>å¦‚æœæˆ‘ä»¬é€‰æ‹©ä¸è£…å…¥å½“å‰ index ä½ç½®çš„å…ƒç´ çš„è¯ï¼Œé‚£ä¹ˆæœ€å¤§æ”¶ç›Šå°±æ˜¯<code>dp[0][7]=3</code>è¿™ä¸€ç‚¹åº”è¯¥æ²¡å•¥ç–‘é—®</p>
<p>å¦‚æœæˆ‘ä»¬è€ƒè™‘è£…å…¥å½“å‰ index ä½ç½®çš„å…ƒç´ çš„è¯ï¼Œm è‚¯å®šä¼šå‡å°ï¼Œé‚£ä¹ˆæ‰€è·å¾—çš„æœ€å¤§æ”¶ç›Šå°±åº”è¯¥æ˜¯<code>A[index]+dp[0][7-4]=7</code> </p>
<blockquote>
<p>æ³¨æ„è¿™é‡Œå½“å‰ index çš„å€¼éƒ½æ˜¯ä¾èµ–äºä¸Šä¸€å±‚<code>index-1</code>çš„è®¡ç®—ç»“æœçš„ï¼Œä¹Ÿå°±æ˜¯ä¾èµ–äºä¸Šä¸€æ¬¡<code>m,[0,index-1]</code>æœ€å¤§å€¼çš„ç»“æœï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦æ‰‹åŠ¨çš„åˆå§‹åŒ–ç¬¬ä¸€å±‚çš„å€¼ï¼‰</p>
</blockquote>
<p>æœ€åæˆ‘ä»¬å¾—åˆ°çš„æ ¸å¿ƒçŠ¶æ€æ–¹ç¨‹å°±æ˜¯ä¸‹é¢è¿™æ ·çš„</p>
<p><code>dp[index][m]=max(dp[index-1][m],A[index]+dp[index-1][j-A[index]])</code></p>
<p>ç„¶åæˆ‘ä»¬æ ¹æ®è¿™ä¸ªå¾ˆå®¹æ˜“å°±å¯ä»¥å†™å‡º dp çš„è§£æ³•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//äºŒç»´åŠ¨æ€è§„åˆ’</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">backPack</span><span class="params">(<span class="type">int</span> m,<span class="type">int</span>[] A)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (A==<span class="literal">null</span> || A.length&lt;=<span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span>[][] dp=<span class="keyword">new</span> <span class="title class_">int</span>[A.length][m+<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>;i&lt;A.length;i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j=<span class="number">0</span>;j&lt;=m;j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (j==<span class="number">0</span>) &#123;<span class="comment">//åˆå§‹åŒ–ç¬¬ä¸€åˆ—</span></span><br><span class="line">                dp[i][j]=<span class="number">0</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span> (i==<span class="number">0</span>) &#123;<span class="comment">//åˆå§‹åŒ–ç¬¬ä¸€è¡Œ</span></span><br><span class="line">                dp[i][j]=j-A[i]&gt;=<span class="number">0</span>?A[i]:<span class="number">0</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span> (i&gt;<span class="number">0</span>) &#123;</span><br><span class="line">                dp[i][j]=j-A[i]&gt;=<span class="number">0</span>?Math.max(dp[i-<span class="number">1</span>][j],dp[i-<span class="number">1</span>][j-A[i]]+A[i]):dp[i-<span class="number">1</span>][j];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[A.length-<span class="number">1</span>][m];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å½“ç„¶æˆ‘ä»¬è‚¯å®šæ˜¯ä¸æ»¡è¶³äºè¿™ç§äºŒç»´çš„ dp çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿˜å¾—ä¼˜åŒ–ä¸‹ç©ºé—´ï¼Œè¿™é‡Œæ¯ä¸€å±‚éƒ½åªä¾èµ–äºä¸Šä¸€å±‚çš„ç»“æœï¼Œæ‰€ä»¥æˆ‘ä¹ˆå¾ˆå®¹æ˜“å°±å¯ä»¥æ”¹æˆä¸€ç»´çš„ï¼Œå½“ç„¶è¿™é‡Œè¿˜æœ‰ä¸ªå°å‘ï¼Œå¦‚æœç›´æ¥æŒ‰ç…§ä¸Šé¢çš„ä»£ç æ¥æ”¹çš„è¯å°±æ˜¯é”™çš„ï¼Œæˆ‘ä»¬å…ˆçœ‹çœ‹æ­£ç¡®çš„æ”¹æ³•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">backPack4</span><span class="params">(<span class="type">int</span> m,<span class="type">int</span>[] A)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (A==<span class="literal">null</span> || A.length&lt;=<span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span>[] dp=<span class="keyword">new</span> <span class="title class_">int</span>[m+<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>;i&lt;A.length;i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j=m;j&gt;=<span class="number">0</span>;j--) &#123;<span class="comment">//ä»å³å‘å·¦ï¼Œé¿å…è¦†ç›–</span></span><br><span class="line">            <span class="keyword">if</span> (j==<span class="number">0</span>) &#123;<span class="comment">//åˆå§‹åŒ–ç¬¬ä¸€åˆ—</span></span><br><span class="line">                dp[j]=<span class="number">0</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span> (i==<span class="number">0</span>) &#123;<span class="comment">//åˆå§‹åŒ–ç¬¬ä¸€è¡Œ</span></span><br><span class="line">                dp[j]= j-A[i]&gt;=<span class="number">0</span>?A[i]:<span class="number">0</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                dp[j]=j-A[i]&gt;=<span class="number">0</span>?Math.max(dp[j],dp[j-A[i]]+A[i]):dp[j];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[m];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬çš„å†…å±‚å¾ªç¯ä¸å†æ˜¯ä»å·¦å¾€å³ï¼Œè€Œæ˜¯ä»å³å¾€å·¦ï¼Œè¿™æ ·çš„å¥½å¤„å°±æ˜¯é¿å…äº†<code>dp[j-A[i]]</code>å·²ç»è¢«<strong>å½“å‰å†…å±‚å¾ªç¯å‰é¢çš„å…ƒç´ </strong>è¦†ç›–çš„å°´å°¬æƒ…å†µï¼Œç»“åˆä¸Šé¢çš„è¡¨æ¨ä¸€ä¸‹å°±çŸ¥é“äº†</p>
<p><strong>è§£æ³•ä¸‰</strong></p>
<p>ç®—æ˜¯å¯¹ä¹‹å‰ä»£ç çš„ä¼˜åŒ–å§ï¼Œä¹‹å‰å†™çš„ä¹±ä¸ƒå…«ç³Ÿçš„</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//ä»£ç ä¼˜åŒ–</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">backPack</span><span class="params">(<span class="type">int</span> m,<span class="type">int</span>[] A)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (A==<span class="literal">null</span> || A.length&lt;=<span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span>[] dp=<span class="keyword">new</span> <span class="title class_">int</span>[m+<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>;i&lt;A.length;i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j=m;j&gt;=A[i];j--) &#123;</span><br><span class="line">            dp[j]=Math.max(dp[j],dp[j-A[i]]+A[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[m];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="å®Œå…¨èƒŒåŒ…é—®é¢˜ï¼ˆacwingï¼‰"><a href="#å®Œå…¨èƒŒåŒ…é—®é¢˜ï¼ˆacwingï¼‰" class="headerlink" title="å®Œå…¨èƒŒåŒ…é—®é¢˜ï¼ˆacwingï¼‰"></a><a target="_blank" rel="noopener" href="https://www.acwing.com/problem/content/description/3/">å®Œå…¨èƒŒåŒ…é—®é¢˜ï¼ˆacwingï¼‰</a></h2><p>æœ‰ N ç§ç‰©å“å’Œä¸€ä¸ªå®¹é‡æ˜¯ V çš„èƒŒåŒ…ï¼Œæ¯ç§ç‰©å“éƒ½æœ‰æ— é™ä»¶å¯ç”¨ã€‚</p>
<p>ç¬¬ i ç§ç‰©å“çš„ä½“ç§¯æ˜¯ viï¼Œä»·å€¼æ˜¯ wiã€‚</p>
<p>æ±‚è§£å°†å“ªäº›ç‰©å“è£…å…¥èƒŒåŒ…ï¼Œå¯ä½¿è¿™äº›ç‰©å“çš„æ€»ä½“ç§¯ä¸è¶…è¿‡èƒŒåŒ…å®¹é‡ï¼Œä¸”æ€»ä»·å€¼æœ€å¤§ã€‚<br>è¾“å‡ºæœ€å¤§ä»·å€¼ã€‚</p>
<p><strong>è¾“å…¥æ ¼å¼</strong></p>
<p>ç¬¬ä¸€è¡Œä¸¤ä¸ªæ•´æ•°ï¼ŒNï¼ŒV ç”¨ç©ºæ ¼éš”å¼€ï¼Œåˆ†åˆ«è¡¨ç¤ºç‰©å“ç§æ•°å’ŒèƒŒåŒ…å®¹ç§¯ã€‚</p>
<p>æ¥ä¸‹æ¥æœ‰ N è¡Œï¼Œæ¯è¡Œä¸¤ä¸ªæ•´æ•° vi,wi ç”¨ç©ºæ ¼éš”å¼€ï¼Œåˆ†åˆ«è¡¨ç¤ºç¬¬ i ç§ç‰©å“çš„ä½“ç§¯å’Œä»·å€¼ã€‚</p>
<p><strong>è¾“å‡ºæ ¼å¼</strong></p>
<p>è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæœ€å¤§ä»·å€¼ã€‚</p>
<p><strong>æ•°æ®èŒƒå›´</strong></p>
<p>0&lt;N,Vâ‰¤10000&lt;N,Vâ‰¤1000<br>0&lt;vi,wiâ‰¤10000&lt;vi,wiâ‰¤1000</p>
<p><strong>è¾“å…¥æ ·ä¾‹</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="number">4</span> <span class="number">5</span></span><br><span class="line"><span class="number">1</span> <span class="number">2</span></span><br><span class="line"><span class="number">2</span> <span class="number">4</span></span><br><span class="line"><span class="number">3</span> <span class="number">4</span></span><br><span class="line"><span class="number">4</span> <span class="number">5</span></span><br></pre></td></tr></table></figure>

<p><strong>è¾“å‡ºæ ·ä¾‹ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="number">10</span></span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•ä¸€</strong></p>
<p>ç›¸æ¯” 01 èƒŒåŒ…äº¤æ¢äº†å†…å¾ªç¯çš„é¡ºåºå°± ok äº†ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥å°†æ¯ä¸ªç‰©å“æ‹†åˆ†ï¼Œä¸è¿‡å¤æ‚åº¦ä¼šå˜é«˜</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">        Scanner sc=<span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        <span class="type">int</span> N=sc.nextInt();</span><br><span class="line">        <span class="type">int</span> V=sc.nextInt();</span><br><span class="line">        <span class="type">int</span>[] dp=<span class="keyword">new</span> <span class="title class_">int</span>[V+<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;N;i++)&#123;</span><br><span class="line">            <span class="type">int</span> vi=sc.nextInt();</span><br><span class="line">            <span class="type">int</span> wi=sc.nextInt();</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> j=vi;j&lt;=V;j++) &#123;</span><br><span class="line">                dp[j]=Math.max(dp[j],dp[j-vi]+wi);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(dp[V]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å…¶å®è¿™ä¸ªç»“è®ºè¦ç›´æ¥ç†è§£è¿˜æ˜¯æœ‰ç‚¹éš¾æ‡‚çš„ï¼Œå…·ä½“çš„æ¨å¯¼è¿‡ç¨‹å¯ä»¥çœ‹ä¸‹é¢çš„ <a href="#322-%E9%9B%B6%E9%92%B1%E5%85%91%E6%8D%A2">é›¶é’±å…‘æ¢</a></p>
<h2 id="416-åˆ†å‰²ç­‰å’Œå­é›†"><a href="#416-åˆ†å‰²ç­‰å’Œå­é›†" class="headerlink" title="416. åˆ†å‰²ç­‰å’Œå­é›†"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/partition-equal-subset-sum/">416. åˆ†å‰²ç­‰å’Œå­é›†</a></h2><p>ç»™å®šä¸€ä¸ªåªåŒ…å«æ­£æ•´æ•°çš„éç©ºæ•°ç»„ã€‚æ˜¯å¦å¯ä»¥å°†è¿™ä¸ªæ•°ç»„åˆ†å‰²æˆä¸¤ä¸ªå­é›†ï¼Œä½¿å¾—ä¸¤ä¸ªå­é›†çš„å…ƒç´ å’Œç›¸ç­‰ã€‚</p>
<p><strong>æ³¨æ„ï¼š</strong></p>
<ol>
<li>æ¯ä¸ªæ•°ç»„ä¸­çš„å…ƒç´ ä¸ä¼šè¶…è¿‡ 100</li>
<li>æ•°ç»„çš„å¤§å°ä¸ä¼šè¶…è¿‡ 200</li>
</ol>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š[<span class="number">1</span>, <span class="number">5</span>, <span class="number">11</span>, <span class="number">5</span>]</span><br><span class="line"></span><br><span class="line">è¾“å‡ºï¼š<span class="literal">true</span></span><br><span class="line"></span><br><span class="line">è§£é‡Šï¼šæ•°ç»„å¯ä»¥åˆ†å‰²æˆ [<span class="number">1</span>, <span class="number">5</span>, <span class="number">5</span>] å’Œ [<span class="number">11</span>].</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š[1, 2, 3, 5]</span><br><span class="line"></span><br><span class="line">è¾“å‡ºï¼šfalse</span><br><span class="line"></span><br><span class="line">è§£é‡Šï¼šæ•°ç»„ä¸èƒ½åˆ†å‰²æˆä¸¤ä¸ªå…ƒç´ å’Œç›¸ç­‰çš„å­é›†ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•ä¸€</strong></p>
<p>ç°åœ¨é€’å½’å†™èµ·æ¥å·²ç»æœ‰ç‚¹æ„Ÿè§‰äº†ï¼Œç±»ä¼¼çš„é¢˜åŸºæœ¬ä¸Šéƒ½èƒ½å†™å‡ºè®°å¿†åŒ–é€’å½’çš„æ–¹æ³•æ¥</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//è®°å¿†åŒ–é€’å½’ 37ms 44%, å¼€å§‹æ…¢æ˜¯å› ä¸º stream çš„åŸå› </span></span><br><span class="line">Boolean[][] cache=<span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">canPartition</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (nums==<span class="literal">null</span> || nums.length&lt;=<span class="number">0</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="comment">//int sum=Arrays.stream(nums).sum();</span></span><br><span class="line">    <span class="type">int</span> sum=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> e:nums) sum+=e; <span class="comment">//æ±‚å’Œ</span></span><br><span class="line">    cache=<span class="keyword">new</span> <span class="title class_">Boolean</span>[nums.length][sum+<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">if</span> (sum%<span class="number">2</span>!=<span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> partition(nums,<span class="number">0</span>,<span class="number">0</span>,sum/<span class="number">2</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å°è¯•æ·»åŠ  [0,index] ä½ç½®çš„å…ƒç´ ï¼Œçœ‹èƒ½å¦ä½¿å¾— half=sum ï¼ˆè¿™é‡Œå…¶å®åº”è¯¥ç›´æ¥åœ¨ sum ä¸Šå‡ï¼Œçœ‹èƒ½ä¸èƒ½å‡ä¸º 0)</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">partition</span><span class="params">(<span class="type">int</span>[] nums,<span class="type">int</span> index,<span class="type">int</span> half,<span class="type">int</span> sum)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (index==nums.length) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (cache[index][half]!=<span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> cache[index][half];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (half==sum) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    cache[index][half]=partition(nums,index+<span class="number">1</span>,half,sum) || </span><br><span class="line">        (half&lt;sum&amp;&amp;partition(nums,index+<span class="number">1</span>,half+nums[index],sum));</span><br><span class="line">    <span class="keyword">return</span> cache[index][half];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>è§£æ³•äºŒ</strong></p>
<p>åŠ¨æ€è§„åˆ’ï¼Œä¾ç„¶æ˜¯å…¸å‹çš„èƒŒåŒ…é—®é¢˜ï¼Œå¯ä»¥ç†è§£ä¸ºç”¨ nums ä¸­çš„å…ƒç´ ï¼Œå¡«æ»¡ sum/2 å®¹é‡å¤§å°çš„èƒŒåŒ…ï¼Œé€’æ¨å…¬å¼</p>
<p> <code>dp[i][j] =dp[i-1][j] || dp[i-1][j-nums[i]]</code>  é€‰å½“å‰å…ƒç´ å’Œä¸é€‰å½“å‰å…ƒç´ ï¼Œæœ‰ä¸€ä¸ªèƒ½å¡«æ»¡å°± ok</p>
<p><code>dp[i][j]</code> å«ä¹‰ä¸ºï¼šè€ƒè™‘<code>[0,i]</code> èŒƒå›´å†…çš„å…ƒç´ ï¼Œèƒ½å¦æ°å¥½è£…æ»¡ <code>j</code>å¤§å°çš„å®¹å™¨</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//äºŒç»´ dp</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">canPartition</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (nums==<span class="literal">null</span> || nums.length&lt;=<span class="number">0</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="comment">//int sum=Arrays.stream(nums).sum(); ç”¨ stream å¥½æ…¢</span></span><br><span class="line">    <span class="type">int</span> sum=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> e:nums) sum+=e; <span class="comment">//æ±‚å’Œ</span></span><br><span class="line">    <span class="keyword">if</span> (sum%<span class="number">2</span>!=<span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> half=sum/<span class="number">2</span>;</span><br><span class="line">    <span class="comment">//dp[i][j] çš„å«ä¹‰æ˜¯ä» [0,i] ä¸­é€‰å–å…ƒç´ ï¼Œèƒ½å¦åˆšå¥½å¡«æ»¡ j</span></span><br><span class="line">    <span class="type">boolean</span>[][] dp=<span class="keyword">new</span> <span class="title class_">boolean</span>[nums.length][half+<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j=<span class="number">0</span>;j&lt;=half;j++) &#123;</span><br><span class="line">        dp[<span class="number">0</span>][j]= nums[<span class="number">0</span>]==j;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">1</span>;i&lt;nums.length;i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j=<span class="number">0</span>;j&lt;=half;j++) &#123;</span><br><span class="line">            dp[i][j]= j&gt;=nums[i]?dp[i-<span class="number">1</span>][j] || dp[i-<span class="number">1</span>][j-nums[i]]:dp[i-<span class="number">1</span>][j];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//å¦‚æœåœ¨æŸä¸ªä½ç½®ï¼ˆæ¯è¡Œæœ€åä¸€ä¸ªï¼‰å·²ç»åˆšå¥½å¡«æ»¡äº†å°±ç›´æ¥è¿”å›</span></span><br><span class="line">        <span class="keyword">if</span> (dp[i][half]) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[nums.length-<span class="number">1</span>][half];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç©ºé—´ä¸Šçš„ä¼˜åŒ–</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">canPartition</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (nums==<span class="literal">null</span> || nums.length&lt;=<span class="number">0</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="type">int</span> sum=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> e:nums) sum+=e; <span class="comment">//æ±‚å’Œ</span></span><br><span class="line">    <span class="keyword">if</span> (sum%<span class="number">2</span>!=<span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> half=sum/<span class="number">2</span>;</span><br><span class="line">    <span class="comment">//dp[j] çš„å«ä¹‰æ˜¯ä» [0,i] ä¸­é€‰å–å…ƒç´ ï¼Œèƒ½å¦åˆšå¥½å¡«æ»¡ j</span></span><br><span class="line">    <span class="type">boolean</span>[] dp=<span class="keyword">new</span> <span class="title class_">boolean</span>[half+<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j=<span class="number">0</span>;j&lt;=half;j++) &#123;</span><br><span class="line">        dp[j]= nums[<span class="number">0</span>]==j;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">1</span>;i&lt;nums.length;i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j=half;j&gt;=nums[i];j--) &#123;</span><br><span class="line">            <span class="comment">//dp[i][j]= j&gt;=nums[i]?dp[i-1][j] || dp[i-1][j-nums[i]]:dp[i-1][j];</span></span><br><span class="line">            dp[j]=dp[j]||dp[j-nums[i]];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (dp[half]) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[half];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="322-é›¶é’±å…‘æ¢"><a href="#322-é›¶é’±å…‘æ¢" class="headerlink" title="322. é›¶é’±å…‘æ¢"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/coin-change/">322. é›¶é’±å…‘æ¢</a></h2><p>ç»™å®šä¸åŒé¢é¢çš„ç¡¬å¸ coins å’Œä¸€ä¸ªæ€»é‡‘é¢ amountã€‚ç¼–å†™ä¸€ä¸ªå‡½æ•°æ¥è®¡ç®—å¯ä»¥å‡‘æˆæ€»é‡‘é¢æ‰€éœ€çš„æœ€å°‘çš„ç¡¬å¸ä¸ªæ•°ã€‚å¦‚æœæ²¡æœ‰ä»»ä½•ä¸€ç§ç¡¬å¸ç»„åˆèƒ½ç»„æˆæ€»é‡‘é¢ï¼Œè¿”å› -1ã€‚</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šcoins = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">5</span>], amount = <span class="number">11</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">3</span> </span><br><span class="line">è§£é‡Šï¼š<span class="number">11</span> = <span class="number">5</span> + <span class="number">5</span> + <span class="number">1</span></span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šcoins = [<span class="number">2</span>], amount = <span class="number">3</span></span><br><span class="line">è¾“å‡ºï¼š-<span class="number">1</span></span><br></pre></td></tr></table></figure>

<p><strong>è¯´æ˜ï¼š</strong><br>ä½ å¯ä»¥è®¤ä¸ºæ¯ç§ç¡¬å¸çš„æ•°é‡æ˜¯æ— é™çš„</p>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>å…¶å®å°±æ˜¯ dfsï¼Œæˆ‘æœ€å¼€å§‹å°±æ˜¯å†™çš„ dfs åªä¸è¿‡æ—¶é—´å¤æ‚åº¦å¤ªé«˜ï¼Œæ²¡åšè®°å¿†åŒ–ï¼Œè¿™é‡Œå…¶å®ä¸€å¼€å§‹åšäº†è®°å¿†åŒ–ä¹Ÿä¸€ç›´æ²¡è·‘è¿‡ï¼Œä¸€ç›´è¶…æ—¶ï¼Œæœ€åç»™çš„ case æ˜¯ 6249 å¥½åƒä¹Ÿä¸ç®—å¾ˆå¤§å§ï¼Œç„¶åæˆ‘åæ¥æŠŠ<code>fill</code> å¡«å……æ•°ç»„åˆ äº†ï¼Œç”¨ Integer å°±è·‘è¿‡äº†ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//è®°å¿†åŒ–é€’å½’ AC 50%å·¦å³</span></span><br><span class="line"><span class="keyword">private</span> Integer[] cache=<span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">coinChange2</span><span class="params">(<span class="type">int</span>[] coins,<span class="type">int</span> amount)</span>&#123;</span><br><span class="line">    cache=<span class="keyword">new</span> <span class="title class_">Integer</span>[amount+<span class="number">1</span>];</span><br><span class="line">    <span class="comment">//Arrays.fill(cache,-1); è¿™é‡Œ fill ç›´æ¥ tle äº†ã€‚</span></span><br><span class="line">    <span class="keyword">return</span> takeCoins(coins,amount);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">takeCoins</span><span class="params">(<span class="type">int</span>[] coins, <span class="type">int</span> amount)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (amount==<span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (cache[amount]!=<span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> cache[amount];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//int t1=coins(coins,amount,index+1);</span></span><br><span class="line">    <span class="type">int</span> res=Integer.MAX_VALUE;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>;i&lt;coins.length;i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (amount&lt;coins[i]) <span class="keyword">continue</span>;</span><br><span class="line">        <span class="type">int</span> sub=takeCoins(coins,amount-coins[i]);</span><br><span class="line">        <span class="keyword">if</span> (sub!=-<span class="number">1</span>) &#123;</span><br><span class="line">            res=Math.min(sub+<span class="number">1</span>,res);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cache[amount]= res==Integer.MAX_VALUE?-<span class="number">1</span>:res;</span><br><span class="line">    <span class="keyword">return</span> cache[amount];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>è§£æ³•äºŒ</strong></p>
<p>åŠ¨æ€è§„åˆ’ï¼ŒäºŒç»´ dpï¼Œæ³¨æ„è¿™é‡Œå…¶å®å’Œå‰é¢çš„èƒŒåŒ…é—®é¢˜å°±æœ‰åŒºåˆ«äº†ï¼Œè¿™é‡Œå®é™…ä¸Šå°±æ˜¯ä¸ª<code>æ— é™èƒŒåŒ…</code>é—®é¢˜ï¼Œå› ä¸ºè¿™é‡Œçš„ç¡¬å¸æ˜¯æ— é™çš„ï¼Œæ¯ä¸ªé¢å€¼çš„ç¡¬å¸éƒ½å¯ä»¥é‡å¤çš„é€‰å–</p>
<p><strong>DPTable</strong></p>
<p><img src="http://static.imlgw.top/blog/20200227/ekmjFAHgA2K4.png?imageslim" alt="mark"></p>
<p><strong>çŠ¶æ€å®šä¹‰</strong></p>
<p>è¿™é‡Œ<code>dp[i][j]</code> çš„å«ä¹‰ä¸ºï¼š<strong>è€ƒè™‘<code>[0ï¼Œi]</code> èŒƒå›´å†…çš„å…ƒç´ ï¼Œèƒ½å‡‘æˆ <code>j</code> æ‰€éœ€çš„æœ€å°‘ç¡¬å¸æ•°</strong>ï¼Œå’Œä¹‹å‰çš„ 01 èƒŒåŒ…é—®é¢˜çŠ¶æ€å®šä¹‰æ²¡ä»€ä¹ˆåŒºåˆ«</p>
<p><strong>çŠ¶æ€æ–¹ç¨‹</strong></p>
<p>é¦–å…ˆæ˜ç¡®ä¸€ç‚¹ï¼Œè¿™é‡Œæˆ‘ä»¬å¯¹ç¬¬<code>coins[i]</code>ä¸ªç¡¬å¸æœ‰ä¸¤ç§é€‰æ‹© </p>
<ol>
<li>ä¸æ‹¿ </li>
<li> æ‹¿ï¼Œæ‹¿ 1~k ä¸ª (k ä¸ºç¡¬å¸ä¸ªæ•°çš„é™åˆ¶ï¼Œè¿™é‡Œæ²¡æœ‰é™åˆ¶ï¼Œæ‰€ä»¥æ˜¯æ— ç©·å¤§ï¼‰</li>
</ol>
<p>è¿›è€Œæˆ‘ä»¬å¯ä»¥çš„åˆ°çŠ¶æ€è½¬ç§»çš„æ–¹ç¨‹ï¼š</p>
<p><code>f[i][j] = min(f[i-1][j], f[i-1][j-c]+1, f[i-1][j-2*c]+2, ..., f[i-1][j-k*c]+k)</code></p>
<p>ä½†æ˜¯è¿™ä¸ªæ–¹ç¨‹æœ‰å¾ˆå¤šè®¡ç®—æ˜¯é‡å¤çš„</p>
<p><code>f[i][j-c]=min(f[i-1][j-c], f[i-1][j-2*c]+1, ..., f[i-1][j-k*c]+k-1)</code></p>
<p>ä¸¤è€…åˆå¹¶å¾—åˆ°</p>
<p><code>f[i][j] = min(f[i-1]f[j], f[i][j-c]+1)</code>  æœ‰äº†çŠ¶æ€æ–¹ç¨‹ï¼Œä»£ç å°±å¥½å†™äº†</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">coinChange4</span><span class="params">(<span class="type">int</span>[] coins,<span class="type">int</span> amount)</span>&#123;</span><br><span class="line">    <span class="type">int</span>[][] dp=<span class="keyword">new</span> <span class="title class_">int</span>[coins.length][amount+<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j=<span class="number">0</span>;j&lt;=amount;j++) &#123;</span><br><span class="line">        dp[<span class="number">0</span>][j]=j%coins[<span class="number">0</span>]==<span class="number">0</span>?j/coins[<span class="number">0</span>]:Integer.MAX_VALUE;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">1</span>;i&lt;coins.length;i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j=<span class="number">0</span>;j&lt;=amount;j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (j&lt;coins[i] || dp[i][j-coins[i]]==Integer.MAX_VALUE) &#123;</span><br><span class="line">                <span class="comment">//æ”¾ä¸ä¸‹</span></span><br><span class="line">                dp[i][j]=dp[i-<span class="number">1</span>][j];</span><br><span class="line">            &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                dp[i][j]=Math.min(dp[i][j-coins[i]]+<span class="number">1</span>,dp[i-<span class="number">1</span>][j]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[coins.length-<span class="number">1</span>][amount]!=Integer.MAX_VALUE?dp[coins.length-<span class="number">1</span>][amount]:-<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>ç©ºé—´ä¼˜åŒ–</strong></p>
<p>å°†ä¸Šé¢çš„äºŒç»´æ”¹æˆä¸€ç»´å°±æ˜¯åƒä¸‹é¢ä¸€æ ·ï¼Œæ³¨æ„å†…å±‚çš„å¾ªç¯ï¼å› ä¸ºåé¢æ˜¯ <code>f[i][j-c]+1</code> æ‰€ä»¥éœ€è¦ä¾èµ–åŒä¸€å±‚å‰é¢çš„ç»“æœï¼Œæ‰€ä»¥å¿…é¡»é¡ºåºçš„éå†</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">coinChange</span><span class="params">(<span class="type">int</span>[] coins,<span class="type">int</span> amount)</span>&#123;</span><br><span class="line">    <span class="type">int</span>[] dp=<span class="keyword">new</span> <span class="title class_">int</span>[amount+<span class="number">1</span>];</span><br><span class="line">    <span class="comment">//å¡«å……åˆå§‹å€¼ä¸º Integer.MAX_VALUE, ä»£è¡¨ä¸å¯è¾¾</span></span><br><span class="line">    Arrays.fill(dp,Integer.MAX_VALUE);</span><br><span class="line">    dp[<span class="number">0</span>]=<span class="number">0</span>; <span class="comment">//é™¤äº† dp[0]</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>;i&lt;coins.length;i++) &#123;</span><br><span class="line">        <span class="comment">//æ³¨æ„è¿™é‡Œä¸èƒ½é€†åºï¼</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j=coins[i];j&lt;=amount;j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (dp[j-coins[i]]!=Integer.MAX_VALUE) &#123;</span><br><span class="line">                dp[j]=Math.min(dp[j-coins[i]]+<span class="number">1</span>,dp[j]);   </span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[amount]==Integer.MAX_VALUE?-<span class="number">1</span>:dp[amount];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="518-é›¶é’±å…‘æ¢-II"><a href="#518-é›¶é’±å…‘æ¢-II" class="headerlink" title="518. é›¶é’±å…‘æ¢ II"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/coin-change-2/">518. é›¶é’±å…‘æ¢ II</a></h2><p>ç»™å®šä¸åŒé¢é¢çš„ç¡¬å¸å’Œä¸€ä¸ªæ€»é‡‘é¢ã€‚å†™å‡ºå‡½æ•°æ¥è®¡ç®—å¯ä»¥å‡‘æˆæ€»é‡‘é¢çš„ç¡¬å¸ç»„åˆæ•°ã€‚å‡è®¾æ¯ä¸€ç§é¢é¢çš„ç¡¬å¸æœ‰æ— é™ä¸ª</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šamount = <span class="number">5</span>, coins = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">5</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">4</span></span><br><span class="line">è§£é‡Šï¼šæœ‰å››ç§æ–¹å¼å¯ä»¥å‡‘æˆæ€»é‡‘é¢ï¼š</span><br><span class="line"><span class="number">5</span>=<span class="number">5</span></span><br><span class="line"><span class="number">5</span>=<span class="number">2</span>+<span class="number">2</span>+<span class="number">1</span></span><br><span class="line"><span class="number">5</span>=<span class="number">2</span>+<span class="number">1</span>+<span class="number">1</span>+<span class="number">1</span></span><br><span class="line"><span class="number">5</span>=<span class="number">1</span>+<span class="number">1</span>+<span class="number">1</span>+<span class="number">1</span>+<span class="number">1</span></span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šamount = <span class="number">3</span>, coins = [<span class="number">2</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">0</span></span><br><span class="line">è§£é‡Šï¼šåªç”¨é¢é¢ <span class="number">2</span> çš„ç¡¬å¸ä¸èƒ½å‡‘æˆæ€»é‡‘é¢ <span class="number">3</span>ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šamount = <span class="number">10</span>, coins = [<span class="number">10</span>] </span><br><span class="line">è¾“å‡ºï¼š<span class="number">1</span></span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„ï¼š</strong></p>
<p>ä½ å¯ä»¥å‡è®¾ï¼š</p>
<ul>
<li>0 &lt;= amount ï¼ˆæ€»é‡‘é¢ï¼‰ &lt;= 5000</li>
<li>1 &lt;= coin ï¼ˆç¡¬å¸é¢é¢ï¼‰ &lt;= 5000</li>
<li>ç¡¬å¸ç§ç±»ä¸è¶…è¿‡ 500 ç§</li>
<li>ç»“æœç¬¦åˆ 32 ä½ç¬¦å·æ•´æ•°</li>
</ul>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>æ±‚æ–¹æ¡ˆæ•°ï¼Œä¸è€ƒè™‘é¡ºåº</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">change</span><span class="params">(<span class="type">int</span> amount, <span class="type">int</span>[] coins)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (coins==<span class="literal">null</span> || coins.length&lt;=<span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> amount==<span class="number">0</span>?<span class="number">1</span>:<span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span>[][] dp=<span class="keyword">new</span> <span class="title class_">int</span>[coins.length][amount+<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>;i&lt;coins.length;i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j=<span class="number">0</span>;j&lt;=amount;j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (i==<span class="number">0</span>) &#123;</span><br><span class="line">                dp[<span class="number">0</span>][j]=j%coins[i]==<span class="number">0</span>?<span class="number">1</span>:<span class="number">0</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span> (j==<span class="number">0</span>) &#123;</span><br><span class="line">                dp[i][<span class="number">0</span>]=<span class="number">1</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                  dp[i][j]= j&gt;=coins[i]?dp[i-<span class="number">1</span>][j]+dp[i][j-coins[i]]:dp[i-<span class="number">1</span>][j];</span><br><span class="line">                <span class="comment">//dp[i][j]= j&gt;=coins[i]?dp[i-1][j]+dp[i-1][j-coins[i]]:dp[i-1][j];</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[coins.length-<span class="number">1</span>][amount];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>ç©ºé—´ä¼˜åŒ–</strong></p>
<p><code>f(5)=f(4)+f(3)+f(0)</code> çªç„¶æ„Ÿè§‰å†™äºŒç»´çš„æœ‰ç‚¹å¤šä½™ã€‚è¿™ç§å­ç»“æ„è¦æ¸…æ™°çš„å¤š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//ç›´æ¥ç†è§£ä¸€ç»´ dp è¿˜æ˜¯ä¸å¤ªå®¹æ˜“ï¼Œä½†æ˜¯çŸ¥é“é€’æ¨å…¬å¼åå…ˆå†™ä¸ªäºŒç»´ dp å†æ”¹ä¸ºä¸€ç»´å°±å¾ˆå®¹æ˜“</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">change</span><span class="params">(<span class="type">int</span> amount, <span class="type">int</span>[] coins)</span> &#123;</span><br><span class="line">    <span class="type">int</span>[] dp=<span class="keyword">new</span> <span class="title class_">int</span>[amount+<span class="number">1</span>];</span><br><span class="line">    dp[<span class="number">0</span>]=<span class="number">1</span>;</span><br><span class="line">    <span class="comment">//è¿™ç§æ–¹å¼ç›¸å½“äºå¯¹ dpTable ä»å·¦å‘å³ï¼Œä¸€è¡Œè¡Œçš„é€’æ¨</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>;i&lt;coins.length;i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j=<span class="number">0</span>;j&lt;=amount;j++) &#123;</span><br><span class="line">            <span class="comment">//dp[j]+= dp[j-coins[i]]:0;</span></span><br><span class="line">            dp[j]=j-coins[i]&gt;=<span class="number">0</span>?dp[j]+dp[j-coins[i]]:dp[j];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/* äº¤æ¢ä¸€ä¸‹å†…å¤–é¡ºåºå°±å˜æˆäº†å¦ä¸€ä¸ªé—®é¢˜çš„è§£</span></span><br><span class="line"><span class="comment">    for (int j=0;j&lt;=amount;j++) &#123;</span></span><br><span class="line"><span class="comment">        for (int i=0;i&lt;coins.length;i++) &#123;</span></span><br><span class="line"><span class="comment">            dp[j]+= j-coins[i]&gt;=0?dp[j-coins[i]]:0;</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">    &#125;*/</span></span><br><span class="line">    <span class="keyword">return</span> dp[amount];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>è§£æ³•äºŒ</strong></p>
<p>è®°å¿†åŒ–é€’å½’ï¼ŒåŸºæœ¬ä¸Š dp èƒ½è¿‡å¾—ï¼Œè®°å¿†åŒ–é€’å½’ä¸€å®šèƒ½è¿‡ï¼Œç›¸æ¯”ä¹‹ä¸‹ï¼Œæˆ‘è§‰å¾—è®°å¿†åŒ–é€’å½’ä¼šå¥½å†™ä¸€äº›</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">change</span><span class="params">(<span class="type">int</span> amount, <span class="type">int</span>[] coins)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (coins==<span class="literal">null</span> || coins.length&lt;=<span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> amount==<span class="number">0</span>?<span class="number">1</span>:<span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    cache=<span class="keyword">new</span> <span class="title class_">Integer</span>[coins.length][amount+<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">return</span> takeCoins(amount,coins,<span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Integer[][] cache=<span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//[index,coins.length] ä¸­å‡‘æˆ amount çš„æ–¹æ¡ˆæ•°ï¼Œè€ƒè™‘é¡ºåº</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">takeCoins</span><span class="params">(<span class="type">int</span> amount,<span class="type">int</span>[] coins,<span class="type">int</span> index)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (index&gt;=coins.length || amount&lt;<span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (cache[index][amount]!=<span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> cache[index][amount];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (amount==<span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> cache[index][amount]=takeCoins(amount-coins[index],coins,index)+takeCoins(amount,coins,index+<span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="é¢è¯•é¢˜-08-11-ç¡¬å¸"><a href="#é¢è¯•é¢˜-08-11-ç¡¬å¸" class="headerlink" title="é¢è¯•é¢˜ 08.11. ç¡¬å¸"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/coin-lcci/">é¢è¯•é¢˜ 08.11. ç¡¬å¸</a></h2><p>ç¡¬å¸ã€‚ç»™å®šæ•°é‡ä¸é™çš„ç¡¬å¸ï¼Œå¸å€¼ä¸º 25 åˆ†ã€10 åˆ†ã€5 åˆ†å’Œ 1 åˆ†ï¼Œç¼–å†™ä»£ç è®¡ç®— n åˆ†æœ‰å‡ ç§è¡¨ç¤ºæ³•ã€‚ï¼ˆç»“æœå¯èƒ½ä¼šå¾ˆå¤§ï¼Œä½ éœ€è¦å°†ç»“æœæ¨¡ä¸Š 1000000007)</p>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>å’Œä¸Šé¢çš„ä¸€æ ·çš„ï¼Œä½†æ˜¯è¿™é‡Œæœ‰ä¸€äº›å…¶ä»–çš„æ–¹æ³•ï¼Œè®°å½•ä¸‹ï¼Œå…ƒç´ è§£æ³•å°±ä¸å†™äº†ï¼Œå’Œä¸Šé¢çš„ä¸€æ ·</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> mod=<span class="number">1000000007</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">waysToChange</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">    n/=<span class="number">5</span>; <span class="comment">//ä½™æ•°æ²¡æœ‰å½±å“ï¼Œéƒ½ç”¨ 1 è¡¥</span></span><br><span class="line">    <span class="type">int</span>[] coins=&#123;<span class="number">5</span>,<span class="number">2</span>,<span class="number">1</span>&#125;; <span class="comment">//å¸å€¼ä¹Ÿ/5</span></span><br><span class="line">    <span class="type">long</span>[] dp=<span class="keyword">new</span> <span class="title class_">long</span>[n+<span class="number">1</span>];</span><br><span class="line">    Arrays.fill(dp,<span class="number">1L</span>); <span class="comment">//æ’é™¤ 1 åˆ†çš„ç¡¬å¸ï¼Œæ‰€æœ‰çš„é¢é¢éƒ½å¯ä»¥ç”¨ 1 åˆ†çš„å‡‘å‡ºæ¥</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;coins.length;i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=coins[i];j&lt;=n;j++)&#123;</span><br><span class="line">            dp[j]=(dp[j]+dp[j-coins[i]])%mod;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> (<span class="type">int</span>)(dp[n]%mod);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç›´æ¥æŠŠæ—¶é—´ä» 114ms å¹²åˆ°äº† 17msï¼Œå…¶å®æ—¶é—´å¤æ‚åº¦æ²¡å˜ï¼Œä½†æ˜¯ç¼©å°äº†è§£ç©ºé—´ï¼Œæ‰€ä»¥æ•´ä½“çš„æ—¶é—´ä¼šæé«˜å¾ˆå¤šï¼Œå½“ç„¶è¿™é‡Œèƒ½ç¼©å°çš„åŸå› ä¸»è¦è¿˜æ˜¯å› ä¸ºé¢˜ç›®æ¯”è¾ƒç‰¹æ®Š</p>
<h2 id="377-ç»„åˆæ€»å’Œ-â…£"><a href="#377-ç»„åˆæ€»å’Œ-â…£" class="headerlink" title="377. ç»„åˆæ€»å’Œ â…£"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/combination-sum-iv/">377. ç»„åˆæ€»å’Œ â…£</a></h2><p>ç»™å®šä¸€ä¸ªç”±æ­£æ•´æ•°ç»„æˆä¸”ä¸å­˜åœ¨é‡å¤æ•°å­—çš„æ•°ç»„ï¼Œæ‰¾å‡ºå’Œä¸ºç»™å®šç›®æ ‡æ­£æ•´æ•°çš„ç»„åˆçš„ä¸ªæ•°ã€‚</p>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">nums = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">target = <span class="number">4</span></span><br><span class="line"></span><br><span class="line">æ‰€æœ‰å¯èƒ½çš„ç»„åˆä¸ºï¼š</span><br><span class="line">(<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>)</span><br><span class="line">(<span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line">(<span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>)</span><br><span class="line">(<span class="number">1</span>, <span class="number">3</span>)</span><br><span class="line">(<span class="number">2</span>, <span class="number">1</span>, <span class="number">1</span>)</span><br><span class="line">(<span class="number">2</span>, <span class="number">2</span>)</span><br><span class="line">(<span class="number">3</span>, <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">è¯·æ³¨æ„ï¼Œé¡ºåºä¸åŒçš„åºåˆ—è¢«è§†ä½œä¸åŒçš„ç»„åˆã€‚</span><br><span class="line"></span><br><span class="line">å› æ­¤è¾“å‡ºä¸º <span class="number">7</span>ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>è¿›é˜¶ï¼š</strong><br>å¦‚æœç»™å®šçš„æ•°ç»„ä¸­å«æœ‰è´Ÿæ•°ä¼šæ€ä¹ˆæ ·ï¼Ÿ<br>é—®é¢˜ä¼šäº§ç”Ÿä»€ä¹ˆå˜åŒ–ï¼Ÿ<br>æˆ‘ä»¬éœ€è¦åœ¨é¢˜ç›®ä¸­æ·»åŠ ä»€ä¹ˆé™åˆ¶æ¥å…è®¸è´Ÿæ•°çš„å‡ºç°ï¼Ÿ</p>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>è®°å¿†åŒ–é€’å½’ï¼Œæ²¡å•¥å¥½è¯´çš„</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//è®°å¿†åŒ–é€’å½’ 1ms 100%</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">combinationSum4</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> target)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (nums==<span class="literal">null</span> || nums.length&lt;=<span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    cache=<span class="keyword">new</span> <span class="title class_">Integer</span>[target+<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">return</span> combination(nums,target);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Integer[] cache=<span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">combination</span><span class="params">(<span class="type">int</span>[] nums,<span class="type">int</span> target)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (cache[target]!=<span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> cache[target];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (target==<span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> res=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>;i&lt;nums.length;i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (target-nums[i]&gt;=<span class="number">0</span>) &#123;</span><br><span class="line">            res+=combination(nums,target-nums[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> cache[target]=res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>è§£æ³•äºŒ</strong></p>
<p>åŠ¨æ€è§„åˆ’ï¼Œä¹ä¸€çœ‹å¥½åƒå’Œä¸Šé¢ä¸€é¢˜ä¸€æ ·ï¼Œå®é™…ä¸Šå¹¶ä¸ä¸€æ ·ï¼Œè¿™é‡Œæ˜¯è€ƒè™‘é¡ºåºçš„ï¼Œæœ€ä¼˜å­ç»“æ„ä¹Ÿæ˜¯</p>
<p><code>f(5)=f(4)+f(3)+f(0)</code> è¿™æ ·çš„</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//ä¸€ç»´ dp</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">combinationSum4</span><span class="params">(<span class="type">int</span>[] nums,<span class="type">int</span> target)</span>&#123;</span><br><span class="line">    <span class="type">int</span>[] dp=<span class="keyword">new</span> <span class="title class_">int</span>[target+<span class="number">1</span>];</span><br><span class="line">    dp[<span class="number">0</span>]=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>;i&lt;=target;i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j=<span class="number">0</span>;j&lt;nums.length;j++) &#123;</span><br><span class="line">            dp[i]+= i&gt;=nums[j]?dp[i-nums[j]]:<span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[target];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œè¿˜æ˜¯è¦å­˜ä¸ªç–‘å•Šï¼Œæ²¡ææ˜ç™½å•Šï¼Œä¸ºå•¥äº¤æ¢ä¸ªé¡ºåºå°±ä¸ä¸€æ ·äº†å‘¢ï¼Ÿä¸€ä¸ªæ˜¯æŒ‰è¡Œæ‰“è¡¨ï¼Œä¸€ä¸ªæ˜¯æŒ‰åˆ—æ‰“è¡¨ï¼Ÿï¼Ÿï¼Ÿè¿˜æ˜¯é€’å½’å¥½å†™ã€‚</p>
<h2 id="494-ç›®æ ‡å’Œ"><a href="#494-ç›®æ ‡å’Œ" class="headerlink" title="494. ç›®æ ‡å’Œ"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/target-sum/">494. ç›®æ ‡å’Œ</a></h2><p>ç»™å®šä¸€ä¸ªéè´Ÿæ•´æ•°æ•°ç»„ï¼Œa1, a2, â€¦, an, å’Œä¸€ä¸ªç›®æ ‡æ•°ï¼ŒSã€‚ç°åœ¨ä½ æœ‰ä¸¤ä¸ªç¬¦å· + å’Œ -ã€‚å¯¹äºæ•°ç»„ä¸­çš„ä»»æ„ä¸€ä¸ªæ•´æ•°ï¼Œä½ éƒ½å¯ä»¥ä» + æˆ– -ä¸­é€‰æ‹©ä¸€ä¸ªç¬¦å·æ·»åŠ åœ¨å‰é¢ã€‚</p>
<p>è¿”å›å¯ä»¥ä½¿æœ€ç»ˆæ•°ç»„å’Œä¸ºç›®æ ‡æ•° S çš„æ‰€æœ‰æ·»åŠ ç¬¦å·çš„æ–¹æ³•æ•°ã€‚</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums: [<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>], S: <span class="number">3</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">5</span></span><br><span class="line">è§£é‡Šï¼š</span><br><span class="line"></span><br><span class="line">-<span class="number">1</span>+<span class="number">1</span>+<span class="number">1</span>+<span class="number">1</span>+<span class="number">1</span> = <span class="number">3</span></span><br><span class="line">+<span class="number">1</span>-<span class="number">1</span>+<span class="number">1</span>+<span class="number">1</span>+<span class="number">1</span> = <span class="number">3</span></span><br><span class="line">+<span class="number">1</span>+<span class="number">1</span>-<span class="number">1</span>+<span class="number">1</span>+<span class="number">1</span> = <span class="number">3</span></span><br><span class="line">+<span class="number">1</span>+<span class="number">1</span>+<span class="number">1</span>-<span class="number">1</span>+<span class="number">1</span> = <span class="number">3</span></span><br><span class="line">+<span class="number">1</span>+<span class="number">1</span>+<span class="number">1</span>+<span class="number">1</span>-<span class="number">1</span> = <span class="number">3</span></span><br><span class="line"></span><br><span class="line">ä¸€å…±æœ‰ <span class="number">5</span> ç§æ–¹æ³•è®©æœ€ç»ˆç›®æ ‡å’Œä¸º <span class="number">3</span>ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„ï¼š</strong></p>
<ul>
<li>æ•°ç»„éç©ºï¼Œä¸”é•¿åº¦ä¸ä¼šè¶…è¿‡ 20ã€‚</li>
<li>åˆå§‹çš„æ•°ç»„çš„å’Œä¸ä¼šè¶…è¿‡ 1000ã€‚</li>
<li>ä¿è¯è¿”å›çš„æœ€ç»ˆç»“æœèƒ½è¢« 32 ä½æ•´æ•°å­˜ä¸‹</li>
</ul>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>åé¢çš„é¢˜éƒ½ä¼˜å…ˆå†™è®°å¿†åŒ–é€’å½’äº†ï¼ŒåŠ¨æ€è§„åˆ’ç¡®å®æœ‰ç‚¹éš¾é¡¶</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Integer[][] cache=<span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//HashMap&lt;Integer,Integer&gt; cache=new HashMap&lt;&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">findTargetSumWays</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> S)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (nums==<span class="literal">null</span> || nums.length&lt;=<span class="number">0</span> || S&gt;<span class="number">1000</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    <span class="type">int</span> sum=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> n:nums)sum+=n;</span><br><span class="line">    <span class="keyword">if</span>(S&gt;sum)<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//ç›¸å½“äºå¹³ç§»äº†ä¸€ä¸‹ï¼Œä» [-sum,sum] --&gt; [0,2*sum]</span></span><br><span class="line">    cache=<span class="keyword">new</span> <span class="title class_">Integer</span>[nums.length][<span class="number">2</span>*sum+<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">return</span> findTarget(nums,S,<span class="number">0</span>,<span class="number">2</span>*sum+<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">findTarget</span><span class="params">(<span class="type">int</span>[] nums,<span class="type">int</span> S,<span class="type">int</span> index,<span class="type">int</span> max)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (S==<span class="number">0</span> &amp;&amp; index ==nums.length) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (index&gt;=nums.length) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(S &lt;<span class="number">0</span>  &amp;&amp; cache[index][S+max]!=<span class="literal">null</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> cache[index][S+max];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (S&gt;=<span class="number">0</span> &amp;&amp; cache[index][S]!=<span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> cache[index][S];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> temp=findTarget(nums,S-nums[index],index+<span class="number">1</span>,max)+findTarget(nums,S+nums[index],index+<span class="number">1</span>,max);</span><br><span class="line">    <span class="keyword">if</span> (S&lt;<span class="number">0</span>) &#123;</span><br><span class="line">        cache[index][S+max]=temp;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        cache[index][S]=temp;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span>  temp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™é¢˜è¿˜æ˜¯æŒºæœ‰æ„æ€çš„ï¼Œå› ä¸ºé‡Œé¢æ˜¯æœ‰è´Ÿæ•°çš„ï¼Œç›´æ¥è®°å¿†åŒ–æ˜¯ä¸è¡Œçš„ï¼Œéœ€è¦è½¬æ¢ä¸€ä¸‹ï¼Œè¿™é‡Œæˆ‘æ˜¯ç›´æ¥å°† cache æ•°ç»„æ‰©å¤§ï¼ŒåŒæ—¶ä¿è¯ä¸ä¼šæœ‰è¦†ç›–ï¼Œæ‰€ä»¥ç›´æ¥æ‰©å¤§ä¸º 2sum å°± okï¼Œè¿™æ ·æ•´ä¸ª S çš„èŒƒå›´å°±ä»<code>[-sum,+sum]</code> å˜ä¸º <code>[0,2sum]</code> ä»è€Œå¯ä»¥ç¼“å­˜æ‰€æœ‰çš„é€’å½’ç»“æœï¼Œå…¶å®ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸¤ä¸ªæ•°ç»„ä¸€ä¸ªå­˜æ­£æ•°ï¼Œä¸€ä¸ªå­˜è´Ÿæ•°ï¼Œç„¶ååªéœ€è¦ç¬¦å·å–åå°± ok äº†ï¼Œåªä¸è¿‡å ç”¨çš„ç©ºé—´ä¼šå¤§ä¸€ç‚¹</p>
<p><strong>è§£æ³•äºŒ</strong></p>
<p>æ­£å„¿å…«ç»çš„ 01 èƒŒåŒ…åšæ³•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">findTargetSumWays</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> S)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span>(nums==<span class="literal">null</span> || nums.length&lt;=<span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="comment">//nsum è´Ÿï¼Œpsum æ­£ï¼›sum;</span></span><br><span class="line">    <span class="comment">//sum=psum+nsum;</span></span><br><span class="line">    <span class="comment">//S=psum-nsum;</span></span><br><span class="line">    <span class="comment">//(sum+S)/2 = psum</span></span><br><span class="line">    <span class="type">int</span> sum=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;nums.length;i++) sum+=nums[i];</span><br><span class="line">    <span class="keyword">if</span>((sum+S)%<span class="number">2</span>!=<span class="number">0</span> || S&gt;sum) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> target=(sum+S)/<span class="number">2</span>;</span><br><span class="line">    <span class="type">int</span>[] dp=<span class="keyword">new</span> <span class="title class_">int</span>[target+<span class="number">1</span>];</span><br><span class="line">    <span class="comment">//Arrays.fill(dp,-1);</span></span><br><span class="line">    dp[<span class="number">0</span>]=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;nums.length;i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=target;j&gt;=nums[i];j--)&#123;</span><br><span class="line">            dp[j]+=dp[j-nums[i]];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[target];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="1049-æœ€åä¸€å—çŸ³å¤´çš„é‡é‡-II"><a href="#1049-æœ€åä¸€å—çŸ³å¤´çš„é‡é‡-II" class="headerlink" title="1049. æœ€åä¸€å—çŸ³å¤´çš„é‡é‡ II"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/last-stone-weight-ii/">1049. æœ€åä¸€å—çŸ³å¤´çš„é‡é‡ II</a></h2><p>æœ‰ä¸€å †çŸ³å¤´ï¼Œæ¯å—çŸ³å¤´çš„é‡é‡éƒ½æ˜¯æ­£æ•´æ•°ã€‚</p>
<p>æ¯ä¸€å›åˆï¼Œä»ä¸­é€‰å‡º<strong>ä»»æ„ä¸¤å—çŸ³å¤´</strong>ï¼Œç„¶åå°†å®ƒä»¬ä¸€èµ·ç²‰ç¢ã€‚å‡è®¾çŸ³å¤´çš„é‡é‡åˆ†åˆ«ä¸º <code>x</code> å’Œ <code>y</code>ï¼Œä¸” <code>x &lt;= y</code>ã€‚é‚£ä¹ˆç²‰ç¢çš„å¯èƒ½ç»“æœå¦‚ä¸‹ï¼š</p>
<ul>
<li>å¦‚æœ <code>x == y</code>ï¼Œé‚£ä¹ˆä¸¤å—çŸ³å¤´éƒ½ä¼šè¢«å®Œå…¨ç²‰ç¢ï¼›</li>
<li>å¦‚æœ <code>x != y</code>ï¼Œé‚£ä¹ˆé‡é‡ä¸º <code>x</code> çš„çŸ³å¤´å°†ä¼šå®Œå…¨ç²‰ç¢ï¼Œè€Œé‡é‡ä¸º <code>y</code> çš„çŸ³å¤´æ–°é‡é‡ä¸º <code>y-x</code>ã€‚</li>
</ul>
<p>æœ€åï¼Œæœ€å¤šåªä¼šå‰©ä¸‹ä¸€å—çŸ³å¤´ã€‚è¿”å›æ­¤çŸ³å¤´<strong>æœ€å°çš„å¯èƒ½é‡é‡</strong>ã€‚å¦‚æœæ²¡æœ‰çŸ³å¤´å‰©ä¸‹ï¼Œå°±è¿”å› <code>0</code>ã€‚</p>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š[<span class="number">2</span>,<span class="number">7</span>,<span class="number">4</span>,<span class="number">1</span>,<span class="number">8</span>,<span class="number">1</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">1</span></span><br><span class="line">è§£é‡Šï¼š</span><br><span class="line">ç»„åˆ <span class="number">2</span> å’Œ <span class="number">4</span>ï¼Œå¾—åˆ° <span class="number">2</span>ï¼Œæ‰€ä»¥æ•°ç»„è½¬åŒ–ä¸º [<span class="number">2</span>,<span class="number">7</span>,<span class="number">1</span>,<span class="number">8</span>,<span class="number">1</span>]ï¼Œ</span><br><span class="line">ç»„åˆ <span class="number">7</span> å’Œ <span class="number">8</span>ï¼Œå¾—åˆ° <span class="number">1</span>ï¼Œæ‰€ä»¥æ•°ç»„è½¬åŒ–ä¸º [<span class="number">2</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>]ï¼Œ</span><br><span class="line">ç»„åˆ <span class="number">2</span> å’Œ <span class="number">1</span>ï¼Œå¾—åˆ° <span class="number">1</span>ï¼Œæ‰€ä»¥æ•°ç»„è½¬åŒ–ä¸º [<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>]ï¼Œ</span><br><span class="line">ç»„åˆ <span class="number">1</span> å’Œ <span class="number">1</span>ï¼Œå¾—åˆ° <span class="number">0</span>ï¼Œæ‰€ä»¥æ•°ç»„è½¬åŒ–ä¸º [<span class="number">1</span>]ï¼Œè¿™å°±æ˜¯æœ€ä¼˜å€¼ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ol>
<li><code>1 &lt;= stones.length &lt;= 30</code></li>
<li><code>1 &lt;= stones[i] &lt;= 1000</code></li>
</ol>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>æƒ³äº†ä¸€ä¸‹ï¼Œå…¶å®å°±æ˜¯åœ¨æ‰€æœ‰çŸ³å¤´ä¸­é€‰å–éƒ¨åˆ†çŸ³å¤´ï¼Œæ±‚è¿™éƒ¨åˆ†çš„çŸ³å¤´å’Œå¤§äº<code>sum/2</code>çš„æœ€å°å€¼ï¼ˆå’Œæ­£å¸¸çš„èƒŒåŒ…æ€è·¯åç€æ¥çš„ï¼‰</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//   sum   = psum + nsum</span></span><br><span class="line"><span class="comment">//  target = psum - nsum  (psum &gt;= nsum)</span></span><br><span class="line"><span class="comment">//  sum+target = 2*psum</span></span><br><span class="line"><span class="comment">//  target = 2*psum-sum</span></span><br><span class="line"><span class="comment">//  2*psum-sum&gt;=0</span></span><br><span class="line"><span class="comment">//è®°å¿†åŒ–é€’å½’</span></span><br><span class="line">Integer[][] dp=<span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">lastStoneWeightII</span><span class="params">(<span class="type">int</span>[] stones)</span> &#123;</span><br><span class="line">    <span class="type">int</span> sum=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>;i&lt;stones.length;i++) &#123;</span><br><span class="line">        sum+=stones[i];</span><br><span class="line">    &#125;</span><br><span class="line">    dp=<span class="keyword">new</span> <span class="title class_">Integer</span>[stones.length+<span class="number">1</span>][sum];</span><br><span class="line">    <span class="keyword">return</span> <span class="number">2</span>*dfs(stones,<span class="number">0</span>,<span class="number">0</span>,sum)-sum;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span>[] stones,<span class="type">int</span> index,<span class="type">int</span> psum,<span class="type">int</span> sum)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="number">2</span>*psum&gt;=sum)&#123;</span><br><span class="line">        <span class="keyword">return</span> psum;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(dp[index][psum]!=<span class="literal">null</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> dp[index][psum];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> min=Integer.MAX_VALUE;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=index;i&lt;stones.length;i++) &#123;</span><br><span class="line">        min=Math.min(dfs(stones,i+<span class="number">1</span>,psum+stones[i],sum),min);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[index][psum]=min;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å½“æˆ‘æŒ‰ç…§è¿™ä¸ªæ€è·¯ i å†™å‡ºæ¥åå‘ç°ä¸å¥½æ”¹é€’æ¨äº†ğŸ˜‚ï¼Œè¿™ä¸ªæ€è·¯ç¡®å®æœ‰ä¸€ç‚¹ç‚¹æ€ª</p>
<p><strong>è§£æ³•äºŒ</strong></p>
<p>æ­£å¸¸çš„ 01 èƒŒåŒ…è§£æ³•ï¼Œå…¶å®æŠŠä¸Šé¢çš„ç»“è®ºåè¿‡æ¥å°±è¡Œäº†ï¼Œæ—¢ç„¶è¦æ±‚ä¸€ä¸ªå¤§äºç­‰äº<code>sum/2</code>çš„æœ€å°å€¼ï¼Œå…¶å®å°±æ˜¯æ±‚ä¸€ä¸ªå°äºç­‰äº<code>sum/2</code> çš„æœ€å¤§å€¼ï¼Œè¿™æ ·ä¸€è¯´å°±å¾ˆæ¸…æ¥šäº†ï¼Œç»å…¸çš„ 01 èƒŒåŒ…</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">lastStoneWeightII</span><span class="params">(<span class="type">int</span>[] stones)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span>(stones==<span class="literal">null</span> ||stones.length&lt;=<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> n=stones.length;</span><br><span class="line">    <span class="type">int</span> sum=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">        sum+=stones[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//èƒŒåŒ…å®¹é‡ä¸º sum/2, æ±‚æœ€å¤šèƒ½è£…å¤šå°‘ï¼Œç»å…¸çš„ 01 èƒŒåŒ…</span></span><br><span class="line">    <span class="type">int</span> amount=sum/<span class="number">2</span>;</span><br><span class="line">    <span class="type">int</span>[] dp=<span class="keyword">new</span> <span class="title class_">int</span>[amount+<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>;i&lt;stones.length;i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j=amount;j&gt;=stones[i];j--) &#123;</span><br><span class="line">            dp[j]=Math.max(dp[j],dp[j-stones[i]]+stones[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//wrong: return (amount-dp[amount])*2;</span></span><br><span class="line">    <span class="comment">//return sum%2==0?(amount-dp[amount])*2:(amount-dp[amount])*2+1</span></span><br><span class="line">    <span class="comment">//nsum=dp[amount]</span></span><br><span class="line">    <span class="comment">//target=psum-nsum = sum-nusm-nsum</span></span><br><span class="line">    <span class="keyword">return</span> sum-<span class="number">2</span>*dp[amount];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œçš„ retrun æœ‰ä¸¤ç§å†™æ³•ï¼Œæ¨èç¬¬äºŒç§ï¼Œç¬¬ä¸€ç§è¿˜è¦åˆ¤å¥‡å¶</p>
<blockquote>
<p>æ‹¿åˆ°è¿™é¢˜çš„çš„ç¬¬ä¸€ä¸ªè§£æ³•å…¶å®æ˜¯è´ªå¿ƒï¼Œæ¯æ¬¡æ¶ˆé™¤ä¸¤ä¸ªæœ€å¤§çš„ï¼Œç”¨ä¼˜å…ˆé˜Ÿåˆ—ç»´æŠ¤çŸ³å¤´å¤§å°</p>
<p>å¤©çœŸçš„é”™è¯¯è§£æ³• 74 / 82 ä¸ªé€šè¿‡æµ‹è¯•ç”¨ä¾‹<br>[21,26,31,33,40] -&gt;[7,21,26,31] -&gt; [5,7,21] -&gt; [5,14] -&gt;[9]<br>[21,26,31,33,40] -&gt;[19,26,31,33]-&gt;[5]</p>
<p>è¿™ä¸ªæ€è·¯å…¶å®æ˜¯ è¿™é¢˜çš„å¼±åŒ–ç‰ˆæœ¬ <a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/last-stone-weight/">1046. æœ€åä¸€å—çŸ³å¤´çš„é‡é‡</a> çš„è§£æ³•</p>
</blockquote>
<h2 id="474-ä¸€å’Œé›¶"><a href="#474-ä¸€å’Œé›¶" class="headerlink" title="474. ä¸€å’Œé›¶"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/ones-and-zeroes/">474. ä¸€å’Œé›¶</a></h2><p>åœ¨è®¡ç®—æœºç•Œä¸­ï¼Œæˆ‘ä»¬æ€»æ˜¯è¿½æ±‚ç”¨æœ‰é™çš„èµ„æºè·å–æœ€å¤§çš„æ”¶ç›Šã€‚</p>
<p>ç°åœ¨ï¼Œå‡è®¾ä½ åˆ†åˆ«æ”¯é…ç€ m ä¸ª 0 å’Œ n ä¸ª 1ã€‚å¦å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ªä»…åŒ…å« 0 å’Œ 1 å­—ç¬¦ä¸²çš„æ•°ç»„ã€‚</p>
<p>ä½ çš„ä»»åŠ¡æ˜¯ä½¿ç”¨ç»™å®šçš„ m ä¸ª 0 å’Œ n ä¸ª 1 ï¼Œæ‰¾åˆ°èƒ½æ‹¼å‡ºå­˜åœ¨äºæ•°ç»„ä¸­çš„å­—ç¬¦ä¸²çš„æœ€å¤§æ•°é‡ã€‚æ¯ä¸ª 0 å’Œ 1 è‡³å¤šè¢«ä½¿ç”¨ä¸€æ¬¡ã€‚</p>
<p><strong>æ³¨æ„ï¼š</strong></p>
<ul>
<li>ç»™å®š 0 å’Œ 1 çš„æ•°é‡éƒ½ä¸ä¼šè¶…è¿‡ 100ã€‚</li>
<li>ç»™å®šå­—ç¬¦ä¸²æ•°ç»„çš„é•¿åº¦ä¸ä¼šè¶…è¿‡ 600ã€‚</li>
</ul>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šArray = &#123;<span class="string">&quot;10&quot;</span>, <span class="string">&quot;0001&quot;</span>, <span class="string">&quot;111001&quot;</span>, <span class="string">&quot;1&quot;</span>, <span class="string">&quot;0&quot;</span>&#125;, m = <span class="number">5</span>, n = <span class="number">3</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">4</span></span><br><span class="line"></span><br><span class="line">è§£é‡Šï¼šæ€»å…± <span class="number">4</span> ä¸ªå­—ç¬¦ä¸²å¯ä»¥é€šè¿‡ <span class="number">5</span> ä¸ª <span class="number">0</span> å’Œ <span class="number">3</span> ä¸ª <span class="number">1</span> æ‹¼å‡ºï¼Œå³ <span class="string">&quot;10&quot;</span>,<span class="string">&quot;0001&quot;</span>,<span class="string">&quot;1&quot;</span>,<span class="string">&quot;0&quot;</span> ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šArray = &#123;<span class="string">&quot;10&quot;</span>, <span class="string">&quot;0&quot;</span>, <span class="string">&quot;1&quot;</span>&#125;, m = <span class="number">1</span>, n = <span class="number">1</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">2</span></span><br><span class="line"></span><br><span class="line">è§£é‡Šï¼šä½ å¯ä»¥æ‹¼å‡º <span class="string">&quot;10&quot;</span>ï¼Œä½†ä¹‹åå°±æ²¡æœ‰å‰©ä½™æ•°å­—äº†ã€‚æ›´å¥½çš„é€‰æ‹©æ˜¯æ‹¼å‡º <span class="string">&quot;0&quot;</span> å’Œ <span class="string">&quot;1&quot;</span> ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•ä¸€</strong></p>
<p>ä¹‹å‰åªç”¨ Java å†™äº†ä¸ªè®°å¿†åŒ–çš„ï¼Œè¡¥ä¸€ä¸‹çº¯ dp çš„</p>
<figure class="highlight golang"><table><tr><td class="code"><pre><span class="line"><span class="comment">//ä¹‹å‰åªç”¨ Java å†™äº†ä¸ªè®°å¿†åŒ–çš„ï¼Œè¡¥ä¸€ä¸‹çº¯ dp çš„</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">findMaxForm</span><span class="params">(strs []<span class="type">string</span>, m <span class="type">int</span>, n <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> sn = <span class="built_in">len</span>(strs)</span><br><span class="line">    <span class="keyword">var</span> dp = <span class="built_in">make</span>([][]<span class="type">int</span>, m+<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">var</span> Max = <span class="function"><span class="keyword">func</span><span class="params">(a, b <span class="type">int</span>)</span></span> <span class="type">int</span> &#123;<span class="keyword">if</span> a&gt;b &#123;<span class="keyword">return</span> a&#125;;<span class="keyword">return</span> b&#125;</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt;= m; i++ &#123;</span><br><span class="line">        dp[i] = <span class="built_in">make</span>([]<span class="type">int</span>, n+<span class="number">1</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; sn; i++ &#123;</span><br><span class="line">        zero, one := count(strs[i])</span><br><span class="line">        <span class="keyword">for</span> j := m; j &gt;= zero; j-- &#123;</span><br><span class="line">            <span class="keyword">for</span> k := n; k &gt;= one; k-- &#123;</span><br><span class="line">                dp[j][k] = Max(dp[j][k], dp[j-zero][k-one]+<span class="number">1</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[m][n]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">count</span><span class="params">(str <span class="type">string</span>)</span></span> (<span class="type">int</span>, <span class="type">int</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> one, zero = <span class="number">0</span>, <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(str); i++ &#123;</span><br><span class="line">        <span class="keyword">if</span> str[i] == <span class="string">&#x27;0&#x27;</span> &#123;</span><br><span class="line">            zero++</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> str[i] == <span class="string">&#x27;1&#x27;</span> &#123;</span><br><span class="line">            one++</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> zero, one</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•äºŒ</strong></p>
<p>å…¶å®è¿™æ˜¯ä¸€ä¸ªå¤šé‡èƒŒåŒ…é—®é¢˜ï¼Œä¸€ä¸ªç‰©å“æœ‰å¤šä¸ªæƒå€¼</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Integer [][][] cache=<span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">findMaxForm</span><span class="params">(String[] strs, <span class="type">int</span> m, <span class="type">int</span> n)</span> &#123;</span><br><span class="line">    cache=<span class="keyword">new</span> <span class="title class_">Integer</span>[m+<span class="number">1</span>][n+<span class="number">1</span>][strs.length];</span><br><span class="line">    <span class="keyword">return</span> findMax(strs,m,n,<span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//m:0 n:1</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">findMax</span><span class="params">(String[] strs, <span class="type">int</span> m, <span class="type">int</span> n,<span class="type">int</span> index)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (index&gt;=strs.length) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (cache[m][n][index]!=<span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> cache[m][n][index];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span>[] oz=count(strs[index]);</span><br><span class="line">    <span class="keyword">if</span> (oz[<span class="number">1</span>]&lt;=n &amp;&amp; oz[<span class="number">0</span>]&lt;=m) &#123;</span><br><span class="line">        <span class="keyword">return</span> cache[m][n][index]=Math.max(<span class="number">1</span>+findMax(strs,m-oz[<span class="number">0</span>],n-oz[<span class="number">1</span>],index+<span class="number">1</span>),findMax(strs,m,n,index+<span class="number">1</span>));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> cache[m][n][index]=findMax(strs,m,n,index+<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span>[] count(String str)&#123;</span><br><span class="line">    <span class="type">int</span> one=<span class="number">0</span>,zero=<span class="number">0</span>;</span><br><span class="line">    <span class="type">char</span>[] s=str.toCharArray();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">char</span> c:s) &#123;</span><br><span class="line">        <span class="keyword">if</span> (c==<span class="string">&#x27;1&#x27;</span>) &#123;</span><br><span class="line">            one++;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            zero++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">int</span>[]&#123;zero,one&#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="1255-å¾—åˆ†æœ€é«˜çš„å•è¯é›†åˆ"><a href="#1255-å¾—åˆ†æœ€é«˜çš„å•è¯é›†åˆ" class="headerlink" title="1255. å¾—åˆ†æœ€é«˜çš„å•è¯é›†åˆ"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/maximum-score-words-formed-by-letters/">1255. å¾—åˆ†æœ€é«˜çš„å•è¯é›†åˆ</a></h2><p>ä½ å°†ä¼šå¾—åˆ°ä¸€ä»½å•è¯è¡¨ wordsï¼Œä¸€ä¸ªå­—æ¯è¡¨ letters ï¼ˆå¯èƒ½ä¼šæœ‰é‡å¤å­—æ¯ï¼‰ï¼Œä»¥åŠæ¯ä¸ªå­—æ¯å¯¹åº”çš„å¾—åˆ†æƒ…å†µè¡¨ scoreã€‚</p>
<p>è¯·ä½ å¸®å¿™è®¡ç®—ç©å®¶åœ¨å•è¯æ‹¼å†™æ¸¸æˆä¸­æ‰€èƒ½è·å¾—çš„ã€Œæœ€é«˜å¾—åˆ†ã€ï¼šèƒ½å¤Ÿç”± letters é‡Œçš„å­—æ¯æ‹¼å†™å‡ºçš„ ä»»æ„ å±äº words å•è¯å­é›†ä¸­ï¼Œåˆ†æ•°æœ€é«˜çš„å•è¯é›†åˆçš„å¾—åˆ†ã€‚</p>
<p>å•è¯æ‹¼å†™æ¸¸æˆçš„è§„åˆ™æ¦‚è¿°å¦‚ä¸‹ï¼š</p>
<ul>
<li>ç©å®¶éœ€è¦ç”¨å­—æ¯è¡¨ letters é‡Œçš„å­—æ¯æ¥æ‹¼å†™å•è¯è¡¨ words ä¸­çš„å•è¯ã€‚</li>
<li>å¯ä»¥åªä½¿ç”¨å­—æ¯è¡¨ letters ä¸­çš„éƒ¨åˆ†å­—æ¯ï¼Œä½†æ˜¯æ¯ä¸ªå­—æ¯æœ€å¤šè¢«ä½¿ç”¨ä¸€æ¬¡ã€‚</li>
<li>å•è¯è¡¨ words ä¸­æ¯ä¸ªå•è¯åªèƒ½è®¡åˆ†ï¼ˆä½¿ç”¨ï¼‰ä¸€æ¬¡ã€‚</li>
<li>æ ¹æ®å­—æ¯å¾—åˆ†æƒ…å†µè¡¨ scoreï¼Œå­—æ¯ â€˜aâ€™, â€˜bâ€™, â€˜câ€™, â€¦ , â€˜zâ€™ å¯¹åº”çš„å¾—åˆ†åˆ†åˆ«ä¸º score[0], score[1], â€¦, score[25]ã€‚</li>
<li>æœ¬åœºæ¸¸æˆçš„ã€Œå¾—åˆ†ã€æ˜¯æŒ‡ï¼šç©å®¶æ‰€æ‹¼å†™å‡ºçš„å•è¯é›†åˆé‡ŒåŒ…å«çš„æ‰€æœ‰å­—æ¯çš„å¾—åˆ†ä¹‹å’Œ</li>
</ul>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šwords = [<span class="string">&quot;dog&quot;</span>,<span class="string">&quot;cat&quot;</span>,<span class="string">&quot;dad&quot;</span>,<span class="string">&quot;good&quot;</span>], letters = [<span class="string">&quot;a&quot;</span>,<span class="string">&quot;a&quot;</span>,<span class="string">&quot;c&quot;</span>,<span class="string">&quot;d&quot;</span>,<span class="string">&quot;d&quot;</span>,<span class="string">&quot;d&quot;</span>,<span class="string">&quot;g&quot;</span>,<span class="string">&quot;o&quot;</span>,<span class="string">&quot;o&quot;</span>], score = [<span class="number">1</span>,<span class="number">0</span>,<span class="number">9</span>,<span class="number">5</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">3</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">2</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">23</span></span><br><span class="line">è§£é‡Šï¼š</span><br><span class="line">å­—æ¯å¾—åˆ†ä¸º  a=<span class="number">1</span>, c=<span class="number">9</span>, d=<span class="number">5</span>, g=<span class="number">3</span>, o=<span class="number">2</span></span><br><span class="line">ä½¿ç”¨ç»™å®šçš„å­—æ¯è¡¨ lettersï¼Œæˆ‘ä»¬å¯ä»¥æ‹¼å†™å•è¯ <span class="string">&quot;dad&quot;</span> (<span class="number">5</span>+<span class="number">1</span>+<span class="number">5</span>) å’Œ <span class="string">&quot;good&quot;</span> (<span class="number">3</span>+<span class="number">2</span>+<span class="number">2</span>+<span class="number">5</span>)ï¼Œå¾—åˆ†ä¸º <span class="number">23</span> ã€‚</span><br><span class="line">è€Œå•è¯ <span class="string">&quot;dad&quot;</span> å’Œ <span class="string">&quot;dog&quot;</span> åªèƒ½å¾—åˆ° <span class="number">21</span> åˆ†ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šwords = [<span class="string">&quot;xxxz&quot;</span>,<span class="string">&quot;ax&quot;</span>,<span class="string">&quot;bx&quot;</span>,<span class="string">&quot;cx&quot;</span>], letters = [<span class="string">&quot;z&quot;</span>,<span class="string">&quot;a&quot;</span>,<span class="string">&quot;b&quot;</span>,<span class="string">&quot;c&quot;</span>,<span class="string">&quot;x&quot;</span>,<span class="string">&quot;x&quot;</span>,<span class="string">&quot;x&quot;</span>], score = [<span class="number">4</span>,<span class="number">4</span>,<span class="number">4</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">5</span>,<span class="number">0</span>,<span class="number">10</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">27</span></span><br><span class="line">è§£é‡Šï¼š</span><br><span class="line">å­—æ¯å¾—åˆ†ä¸º  a=<span class="number">4</span>, b=<span class="number">4</span>, c=<span class="number">4</span>, x=<span class="number">5</span>, z=<span class="number">10</span></span><br><span class="line">ä½¿ç”¨ç»™å®šçš„å­—æ¯è¡¨ lettersï¼Œæˆ‘ä»¬å¯ä»¥ç»„æˆå•è¯ <span class="string">&quot;ax&quot;</span> (<span class="number">4</span>+<span class="number">5</span>)ï¼Œ <span class="string">&quot;bx&quot;</span> (<span class="number">4</span>+<span class="number">5</span>) å’Œ <span class="string">&quot;cx&quot;</span> (<span class="number">4</span>+<span class="number">5</span>) ï¼Œæ€»å¾—åˆ†ä¸º <span class="number">27</span> ã€‚</span><br><span class="line">å•è¯ <span class="string">&quot;xxxz&quot;</span> çš„å¾—åˆ†ä»…ä¸º <span class="number">25</span> ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šwords = [<span class="string">&quot;leetcode&quot;</span>], letters = [<span class="string">&quot;l&quot;</span>,<span class="string">&quot;e&quot;</span>,<span class="string">&quot;t&quot;</span>,<span class="string">&quot;c&quot;</span>,<span class="string">&quot;o&quot;</span>,<span class="string">&quot;d&quot;</span>], score = [<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">0</span></span><br><span class="line">è§£é‡Šï¼š</span><br><span class="line">å­—æ¯ <span class="string">&quot;e&quot;</span> åœ¨å­—æ¯è¡¨ letters ä¸­åªå‡ºç°äº†ä¸€æ¬¡ï¼Œæ‰€ä»¥æ— æ³•ç»„æˆå•è¯è¡¨ words ä¸­çš„å•è¯ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= words.length &lt;= 14</code></li>
<li><code>1 &lt;= words[i].length &lt;= 15</code></li>
<li><code>1 &lt;= letters.length &lt;= 100</code></li>
<li><code>letters[i].length == 1</code></li>
<li><code>score.length == 26</code></li>
<li><code>0 &lt;= score[i] &lt;= 10</code></li>
<li><code>words[i] å’Œ letters[i] </code>åªåŒ…å«å°å†™çš„è‹±æ–‡å­—æ¯</li>
</ul>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>çœ‹ç€é¢˜ç›®å°±çŸ¥é“è¿™é¢˜ä¸ç®€å•ğŸ˜‚ï¼Œ11.10 çš„å‘¨èµ›æœ€åä¸€é¢˜ï¼Œ1msï¼Œç”¨ 01 èƒŒåŒ…çš„æ€è·¯åšçš„ï¼Œå¾ˆå¤šåœ°æ–¹å…¶å®è¿˜æ²¡å¤„ç†å¥½</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">maxScoreWords</span><span class="params">(String[] words, <span class="type">char</span>[] letters, <span class="type">int</span>[] score)</span> &#123;</span><br><span class="line">    <span class="type">int</span>[] les=<span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">26</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>;i&lt;letters.length;i++) &#123;</span><br><span class="line">        les[letters[i]-<span class="string">&#x27;a&#x27;</span>]++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> maxScoreWords(words,letters,score,<span class="number">0</span>,les);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">maxScoreWords</span><span class="params">(String[] words, <span class="type">char</span>[] letters, <span class="type">int</span>[] score,<span class="type">int</span> index,<span class="type">int</span>[] les)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (index==words.length) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> res=maxScoreWords(words,letters,score,index+<span class="number">1</span>,les);</span><br><span class="line">    String word=words[index];</span><br><span class="line">    <span class="keyword">if</span> (hasWord(les,word)) &#123;</span><br><span class="line">        <span class="type">int</span>[] bak=<span class="keyword">new</span> <span class="title class_">int</span>[les.length];</span><br><span class="line">        System.arraycopy(les,<span class="number">0</span>,bak,<span class="number">0</span>,les.length);</span><br><span class="line">        res=Math.max(res,getScore(bak,word,score)+maxScoreWords(words,letters,score,index+<span class="number">1</span>,bak));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">hasWord</span><span class="params">(<span class="type">int</span>[] les,String word)</span>&#123;</span><br><span class="line">    <span class="type">int</span>[] bak=<span class="keyword">new</span> <span class="title class_">int</span>[les.length];</span><br><span class="line">    System.arraycopy(les,<span class="number">0</span>,bak,<span class="number">0</span>,les.length);</span><br><span class="line">    <span class="type">int</span> count=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">char</span> c:word.toCharArray())&#123;</span><br><span class="line">        <span class="keyword">if</span> (bak[c-<span class="string">&#x27;a&#x27;</span>]!=<span class="number">0</span>) &#123;</span><br><span class="line">            bak[c-<span class="string">&#x27;a&#x27;</span>]--;</span><br><span class="line">            count++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> count==word.length();</span><br><span class="line">&#125;   </span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getScore</span><span class="params">(<span class="type">int</span>[] les,String word,<span class="type">int</span>[] score)</span>&#123;</span><br><span class="line">    <span class="type">int</span> sc=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">char</span> c:word.toCharArray()) &#123;</span><br><span class="line">        les[c-<span class="string">&#x27;a&#x27;</span>]--;</span><br><span class="line">        sc+=score[c-<span class="string">&#x27;a&#x27;</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sc;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="HUD4501-å°æ˜ç³»åˆ—æ•…äº‹â€”â€”ä¹°å¹´è´§ï¼ˆHUDOJï¼‰"><a href="#HUD4501-å°æ˜ç³»åˆ—æ•…äº‹â€”â€”ä¹°å¹´è´§ï¼ˆHUDOJï¼‰" class="headerlink" title="HUD4501. å°æ˜ç³»åˆ—æ•…äº‹â€”â€”ä¹°å¹´è´§ï¼ˆHUDOJï¼‰"></a><a target="_blank" rel="noopener" href="http://acm.hdu.edu.cn/showproblem.php?pid=4501">HUD4501. å°æ˜ç³»åˆ—æ•…äº‹â€”â€”ä¹°å¹´è´§ï¼ˆHUDOJï¼‰</a></h2><p><strong>Problem Description</strong></p>
<p>æ˜¥èŠ‚å°†è‡³ï¼Œå°æ˜è¦å»è¶…å¸‚è´­ç½®å¹´è´§ï¼Œäºæ˜¯å°æ˜å»äº†è‡ªå·±ç»å¸¸å»çš„éƒ½å°šè¶…å¸‚ã€‚</p>
<p>åˆšåˆ°è¶…å¸‚ï¼Œå°æ˜å°±å‘ç°è¶…å¸‚é—¨å£èšé›†ä¸€å †äººã€‚ç”¨ç™½äº‘å¥³å£«çš„è¯è¯´å°±æ˜¯ï¼šâ€œé‚£å®¶ä¼™ï¼Œé‚£åœºé¢ï¼ŒçœŸæ˜¯äººå±±äººæµ·ï¼Œé”£é¼“å–§å¤©ï¼Œé­ç‚®é½å‘¤ï¼Œçº¢æ——æ‹›å±•ã€‚é‚£å¯çœŸæ˜¯ç›¸å½“çš„å£®è§‚å•Šï¼â€ã€‚å¥½å¥‡çš„å°æ˜èµ°è¿‡å»ï¼Œå¥‹åŠ›æŒ¤è¿‡äººç¾¤ï¼Œå‘ç°è¶…å¸‚é—¨å£è´´äº†ä¸€å¼ é€šçŸ¥ï¼Œå†…å®¹å¦‚ä¸‹</p>
<p>å€¼æ­¤æ–°æ˜¥ä½³èŠ‚æ¥ä¸´ä¹‹é™…ï¼Œä¸ºäº†å›é¦ˆå¹¿å¤§é¡¾å®¢çš„æ”¯æŒå’Œåšçˆ±ï¼Œç‰¹ä¸¾è¡Œæ˜¥èŠ‚å¤§é…¬å®¾ã€ä¼˜æƒ å¤§æ”¾é€æ´»åŠ¨ã€‚å‡¡æ˜¯éƒ½å°šä¼šå‘˜éƒ½å¯ç”¨ä¼šå‘˜ç§¯åˆ†å…‘æ¢å•†å“ï¼Œå‡¡æ˜¯éƒ½å°šä¼šå‘˜éƒ½å¯<strong>å…è´¹æ‹¿ k ä»¶å•†å“</strong>ï¼Œå‡¡æ˜¯è´­ç‰©é¡¾å®¢å‡æœ‰å¥½ç¤¼ç›¸é€ã€‚æ»¡ 100 å…ƒé€ bla bla bla blaï¼Œæ»¡ 200 å…ƒé€ bla bla bla bla blaâ€¦blablablaâ€¦.</p>
<p>è¿˜æ²¡çœ‹å®Œé€šçŸ¥ï¼Œå°æ˜å°±é«˜å…´çš„è¦æ­»ï¼Œå› ä¸ºä»–å°±æ˜¯éƒ½å°šçš„ä¼šå‘˜å•Šã€‚è¿«ä¸åŠå¾…çš„å°æ˜åœ¨è¶…å¸‚é€›äº†ä¸€åœˆå‘ç°è¶…å¸‚é‡Œæœ‰** n ä»¶ä»–æƒ³è¦çš„å•†å“<strong>ã€‚å°æ˜é¡ºä¾¿å¯¹è¿™ n ä»¶å•†å“æ‰“äº†åˆ†ï¼Œè¡¨ç¤ºå•†å“çš„å®é™…ä»·å€¼ã€‚å°æ˜å‘ç°èº«ä¸Šå¸¦äº†</strong> v1 çš„äººæ°‘å¸<strong>ï¼Œä¼šå‘˜å¡é‡Œé¢æœ‰</strong> v2 çš„ç§¯åˆ†**ã€‚ä»–æƒ³çŸ¥é“ä»–æœ€å¤šèƒ½ä¹°å¤šå¤§ä»·å€¼çš„å•†å“ã€‚</p>
<p>ç”±äºå°æ˜æƒ³è¦çš„å•†å“å®åœ¨å¤ªå¤šäº†ï¼Œä»–ç®—äº†åŠå¤©å¤´éƒ½ç–¼äº†ä¹Ÿæ²¡ç®—å‡ºæ¥ï¼Œæ‰€ä»¥è¯·ä½ è¿™ä½èªæ˜çš„ç¨‹åºå‘˜æ¥å¸®å¸®ä»–å§ã€‚</p>
<p><strong>Input</strong></p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">è¾“å…¥åŒ…å«å¤šç»„æµ‹è¯•ç”¨ä¾‹ã€‚</span><br><span class="line">æ¯ç»„æ•°æ®çš„ç¬¬ä¸€è¡Œæ˜¯å››ä¸ªæ•´æ•° nï¼Œv1ï¼Œv2ï¼Œkï¼›</span><br><span class="line">ç„¶åæ˜¯ n è¡Œï¼Œæ¯è¡Œä¸‰ä¸ªæ•´æ•° aï¼Œbï¼Œvalï¼Œåˆ†åˆ«è¡¨ç¤ºæ¯ä¸ªå•†å“çš„ä»·é’±ï¼Œå…‘æ¢æ‰€éœ€ç§¯åˆ†ï¼Œå®é™…ä»·å€¼ã€‚</span><br><span class="line">[Technical Specification]</span><br><span class="line"><span class="number">1</span> &lt;= n &lt;= <span class="number">100</span></span><br><span class="line"><span class="number">0</span> &lt;= v1, v2 &lt;= <span class="number">100</span></span><br><span class="line"><span class="number">0</span> &lt;= k &lt;= <span class="number">5</span></span><br><span class="line"><span class="number">0</span> &lt;= a, b, val &lt;= <span class="number">100</span></span><br><span class="line"></span><br><span class="line">Ps. åªè¦é’±æˆ–è€…ç§¯åˆ†æ»¡è¶³è´­ä¹°ä¸€ä»¶å•†å“çš„è¦æ±‚ï¼Œé‚£ä¹ˆå°±å¯ä»¥ä¹°ä¸‹è¿™ä»¶å•†å“ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>Output</strong></p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">å¯¹äºæ¯ç»„æ•°æ®ï¼Œè¾“å‡ºèƒ½ä¹°çš„æœ€å¤§ä»·å€¼ã€‚</span><br><span class="line">è¯¦ç»†ä¿¡æ¯è§ Sampleã€‚</span><br></pre></td></tr></table></figure>
<p><strong>Sample Input</strong></p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="number">5</span> <span class="number">1</span> <span class="number">6</span> <span class="number">1</span></span><br><span class="line"><span class="number">4</span> <span class="number">3</span> <span class="number">3</span></span><br><span class="line"><span class="number">0</span> <span class="number">3</span> <span class="number">2</span></span><br><span class="line"><span class="number">2</span> <span class="number">3</span> <span class="number">3</span></span><br><span class="line"><span class="number">3</span> <span class="number">3</span> <span class="number">2</span></span><br><span class="line"><span class="number">1</span> <span class="number">0</span> <span class="number">2</span></span><br><span class="line"><span class="number">4</span> <span class="number">2</span> <span class="number">5</span> <span class="number">0</span></span><br><span class="line"><span class="number">0</span> <span class="number">1</span> <span class="number">0</span></span><br><span class="line"><span class="number">4</span> <span class="number">4</span> <span class="number">1</span></span><br><span class="line"><span class="number">3</span> <span class="number">3</span> <span class="number">4</span></span><br><span class="line"><span class="number">3</span> <span class="number">4</span> <span class="number">4</span></span><br></pre></td></tr></table></figure>

<p><strong>Sample Output</strong></p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="number">12</span></span><br><span class="line"><span class="number">4</span></span><br></pre></td></tr></table></figure>
<p>Source<br>2013 è…¾è®¯ç¼–ç¨‹é©¬æ‹‰æ¾åˆèµ›ç¬¬ã€‡åœºï¼ˆ3 æœˆ 20 æ—¥ï¼‰</p>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>ä¸‰ç»´è´¹ç”¨çš„èƒŒåŒ…ï¼Œä½†æ˜¯å’Œå‰é¢çš„ <a href="#474-%E4%B8%80%E5%92%8C%E9%9B%B6">474. ä¸€å’Œé›¶</a>è¿˜æœ‰ç‚¹ä¸ä¸€æ ·ï¼Œä¸‰ä¸ªç»´åº¦çš„è´¹ç”¨æ˜¯æ— å…³çš„ï¼Œè€Œ 1 å’Œ 0 ä¸­ 1 çš„ä¸ªæ•°å’Œ 0 çš„ä¸ªæ•°æ˜¯ç›¸å…³çš„</p>
<blockquote>
<p>ä»£ç ä½¿ç”¨äº† Petr çš„è¾“å…¥æ¨¡æ¿ï¼Œè‡ªå·±æ”¹è¿›äº†ä¸‹ï¼Œå¢åŠ äº†è¾“å…¥ç»“æŸåˆ¤æ–­ï¼Œæ‰€ä»¥çœ‹èµ·æ¥ç‰¹åˆ«é•¿</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">import</span> java.io.*;<span class="comment">// petr çš„è¾“å…¥æ¨¡æ¿</span></span><br><span class="line"><span class="keyword">import</span> java.math.*; <span class="comment">// ä¸æ˜¯å¤§æ•°é¢˜å¯ä»¥ä¸è¦è¿™ä¸ª</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Solve_HDOJ_4501</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">PrintWriter</span> <span class="variable">out</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">PrintWriter</span>(<span class="keyword">new</span> <span class="title class_">OutputStreamWriter</span>(System.out));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception&#123;</span><br><span class="line">        <span class="type">InputReader</span> <span class="variable">in</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">InputReader</span>(System.in);</span><br><span class="line">        <span class="comment">//InputReader in = new InputReader(new FileInputStream(&quot;./input.txt&quot;));</span></span><br><span class="line">        <span class="keyword">while</span>(!in.EOF()) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> in.nextInt();</span><br><span class="line">            <span class="type">int</span> <span class="variable">v1</span> <span class="operator">=</span> in.nextInt();</span><br><span class="line">            <span class="type">int</span> <span class="variable">v2</span> <span class="operator">=</span> in.nextInt();</span><br><span class="line">            <span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> in.nextInt();</span><br><span class="line">            <span class="type">int</span>[][] cost = <span class="keyword">new</span> <span class="title class_">int</span>[n][<span class="number">3</span>];</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">                cost[i][<span class="number">0</span>] = in.nextInt();</span><br><span class="line">                cost[i][<span class="number">1</span>] = in.nextInt();</span><br><span class="line">                cost[i][<span class="number">2</span>] = in.nextInt();</span><br><span class="line">            &#125;</span><br><span class="line">            solve(n, v1, v2, k, cost);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//åˆ«å¿˜äº† flush</span></span><br><span class="line">        out.flush();</span><br><span class="line">        out.close();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å› ä¸ºæ•°æ®é‡ä¸å¤§ï¼Œå°±ç›´æ¥ Scanner äº†</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">solve</span><span class="params">(<span class="type">int</span> n, <span class="type">int</span> v1, <span class="type">int</span> v2, <span class="type">int</span> k, <span class="type">int</span>[][] cost)</span> &#123;</span><br><span class="line">        <span class="type">int</span>[][][] dp = <span class="keyword">new</span> <span class="title class_">int</span>[k+<span class="number">1</span>][v1+<span class="number">1</span>][v2+<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> k; j &gt;= <span class="number">0</span>; j--) &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">u</span> <span class="operator">=</span> v1; u &gt;= <span class="number">0</span>; u--) &#123;</span><br><span class="line">                    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">w</span> <span class="operator">=</span> v2; w &gt;= <span class="number">0</span>; w--) &#123;</span><br><span class="line">                        <span class="comment">//è¿™é‡Œä¸èƒ½ç›´æ¥ u&gt;=cost[i][0] w &gt;= cost[i][1]ï¼Œå› ä¸ºç§¯åˆ†å’Œé’±å’Œå…è´¹æ‹¿æ˜¯åˆ†å¼€çš„ï¼Œæ²¡æœ‰å…³è”çš„</span></span><br><span class="line">                        <span class="comment">//å³ä½¿æˆ‘ä¸èƒ½å…è´¹æ‹¿ï¼Œä½†æ˜¯æˆ‘èƒ½ç”¨ç§¯åˆ†æ‹¿ï¼Œå³ä½¿ä¸èƒ½ç”¨ç§¯åˆ†æ‹¿ï¼Œæˆ‘å¯ä»¥ç”¨é’±ä¹°</span></span><br><span class="line">                        <span class="comment">//dp[j][u][w] = Math.max(dp[j][u][w], dp[j-1][u-cost[i][0]][w-cost[i][1]] + cost[i][2]);</span></span><br><span class="line">                        <span class="type">int</span> <span class="variable">ans</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">                        <span class="keyword">if</span> (j &gt;= <span class="number">1</span>) &#123; <span class="comment">//å…è´¹æ‹¿</span></span><br><span class="line">                            ans = Math.max(ans, dp[j-<span class="number">1</span>][u][w] + cost[i][<span class="number">2</span>]);</span><br><span class="line">                        &#125;</span><br><span class="line">                        <span class="keyword">if</span> (u &gt;= cost[i][<span class="number">0</span>]) &#123; <span class="comment">//é’±</span></span><br><span class="line">                            ans = Math.max(ans, dp[j][u-cost[i][<span class="number">0</span>]][w] + cost[i][<span class="number">2</span>]);</span><br><span class="line">                        &#125;</span><br><span class="line">                        <span class="keyword">if</span> (w &gt;= cost[i][<span class="number">1</span>]) &#123; <span class="comment">//ç§¯åˆ†</span></span><br><span class="line">                            ans = Math.max(ans, dp[j][u][w-cost[i][<span class="number">1</span>]] + cost[i][<span class="number">2</span>]);</span><br><span class="line">                        &#125;</span><br><span class="line">                        dp[j][u][w] = Math.max(ans, dp[j][u][w]);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        out.println(dp[k][v1][v2]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">InputReader</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> BufferedReader reader;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> StringTokenizer tokenizer;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">InputReader</span><span class="params">(InputStream stream)</span> &#123;</span><br><span class="line">        <span class="comment">//char[32768]</span></span><br><span class="line">        reader = <span class="keyword">new</span> <span class="title class_">BufferedReader</span>(<span class="keyword">new</span> <span class="title class_">InputStreamReader</span>(stream), <span class="number">32768</span>);</span><br><span class="line">        tokenizer = <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//é»˜è®¤ä»¥&quot; &quot;ä½œä¸ºåˆ†éš”ç¬¦ï¼Œè¯»ä¸€ä¸ª</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">next</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">while</span> (tokenizer == <span class="literal">null</span> || !tokenizer.hasMoreTokens()) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                tokenizer = <span class="keyword">new</span> <span class="title class_">StringTokenizer</span>(reader.readLine());</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> tokenizer.nextToken();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æœ‰çš„é¢˜ç›®ä¸ç»™æœ‰å¤šå°‘ç»„æµ‹è¯•ç”¨ä¾‹ï¼Œåªèƒ½ä¸€ç›´è¯»ï¼Œè¯»åˆ°ç»“å°¾ï¼Œéœ€è¦è‡ªå·±åˆ¤æ–­ç»“æŸ</span></span><br><span class="line">    <span class="comment">//è¯¥å‡½æ•°ä¹Ÿä¼šè¯»å–ä¸€è¡Œï¼Œå¹¶åˆå§‹åŒ– tokenizerï¼Œååºç›´æ¥ nextInt.. ç­‰å°±å¯ä»¥è¯»åˆ°è¯¥è¡Œ</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">EOF</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            str = reader.readLine();</span><br><span class="line">            <span class="keyword">if</span> (str == <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//åˆ›å»º tokenizer</span></span><br><span class="line">            tokenizer = <span class="keyword">new</span> <span class="title class_">StringTokenizer</span>(str);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> <span class="title function_">nextInt</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> Integer.parseInt(next());</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="type">long</span> <span class="title function_">nextLong</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> Long.parseLong(next());</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="type">double</span> <span class="title function_">nextDouble</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> Double.parseDouble(next());</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    BigInteger <span class="title function_">nextBigInteger</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">BigInteger</span>(next());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    BigDecimal <span class="title function_">nextBigDecimal</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">BigDecimal</span>(next());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
        
            <div class="donate-container">
    <div class="donate-button">
        <button id="donate-button">èµèµ</button>
    </div>
    <div class="donate-img-container hide" id="donate-img-container">
        <img id="donate-img" src="" data-src="">
        <p> æ„Ÿè°¢é¼“åŠ± </p>
    </div>
</div>
        
        <br />
        <div id="comment-container">
        </div>
        <div id="disqus_thread"></div>
        <div id="lv-container"></div>
        <div class="giscus"></div>
    </div>
</div>

    </div>
</div>


<footer class="footer">
    <ul class="list-inline text-center">
        
        

        

        

        
        <li>
            <a target="_blank"  href="https://github.com/imlgw">
                            <span class="fa-stack fa-lg">
                                <i class="iconfont icon-github"></i>
                            </span>
            </a>
        </li>
        

        

    </ul>
    
    <p>
        <span>/</span>
        
        <span><a href="https://imlgw.top">Tadow</a></span>
        <span>/</span>
        
        <span><a target="_blank" rel="noopener" href="http://beian.miit.gov.cn/publish/query/indexFirst.action">é„‚ICPå¤‡18011208å·</a></span>
        <span>/</span>
        
    </p>
    
    <p>
        <span id="busuanzi_container_site_pv">
            <span id="busuanzi_value_site_pv"></span>PV
        </span>
        <span id="busuanzi_container_site_uv">
            <span id="busuanzi_value_site_uv"></span>UV
        </span>
        Created By <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>  Theme <a target="_blank" rel="noopener" href="https://github.com/aircloud/hexo-theme-aircloud">AirCloud</a></p>
</footer>




<script src="https://cdn.jsdelivr.net/npm/live2d-widget@3.x/lib/L2Dwidget.min.js"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"https://cdn.jsdelivr.net/npm/live2d-widget-model-hijiki@1.0.5/assets/hijiki.model.json"},"display":{"superSample":2,"width":160,"height":320,"position":"right","hOffset":0,"vOffset":-70},"mobile":{"show":false,"scale":0.2},"log":false});</script></body>

<script>
    // We expose some of the variables needed by the front end
    window.hexo_search_path = "search.json"
    window.hexo_root = "/"
    window.isPost = true
</script>
<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>

<script src="/js/index.js"></script>

<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>




    <script src="https://giscus.app/client.js"
  data-repo="imlgw/imlgw.github.io"
  data-repo-id="MDEwOlJlcG9zaXRvcnkxMzMyMDY4NDg="
  data-category="Announcements"
  data-category-id="DIC_kwDOB_CTQM4CQ7v8"
  data-mapping="pathname"
  data-strict="0"
  data-reactions-enabled="1"
  data-emit-metadata="0"
  data-input-position="top"
  data-theme="light"
  data-lang="zh-CN"
  data-loading="lazy"
  crossorigin="anonymous"
  async>
</script>



</html>
