<!DOCTYPE html>
<html lang=zh-CN>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta property="og:description" content="Tadow çš„åšå®¢">
    <meta property="og:type" content="website">
    <meta name="description" content="Tadow çš„åšå®¢">
    <meta name="keyword"  content="Tadow, Resolmi, imlgw, åŠå²›é“ç›’, ç®—æ³•, Java, Golang">
    <link rel="shortcut icon" href="https://fav.farm/ğŸ’­">

    <title>
        
        LeetCode æ ˆ&amp;é˜Ÿåˆ— - Tadow ç¢ç¢å¿µ
        
    </title>

    <!-- Custom CSS -->
    
<link rel="stylesheet" href="/css/aircloud.css">

    
<link rel="stylesheet" href="/css/gitment.css">

    <!--<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">-->
    <link href="//at.alicdn.com/t/font_620856_28hi1hpxx24.css" rel="stylesheet" type="text/css">
    <!-- ga & ba script hoook -->
    <script></script>
<meta name="generator" content="Hexo 5.4.2"><link rel="alternate" href="/atom.xml" title="Tadow ç¢ç¢å¿µ" type="application/atom+xml">
</head>

<body>

<div class="site-nav-toggle" id="site-nav-toggle">
    <button>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
    </button>
</div>

<div class="index-about">
    <i> Keep It Simple, Stupid </i>
</div>

<div class="index-container">
    
    <div class="index-left">
        
<div class="nav" id="nav">
    <div class="avatar-name">
        <div class="avatar radius">
            <img src="https://static.imlgw.top/blog/20220821160037.png" />
        </div>
        <div class="name">
            <i>Tadow</i>
        </div>
    </div>
    <div class="contents" id="nav-content">
        <ul>
            <li >
                <a href="/">
                    <i class="iconfont icon-shouye1"></i>
                    <span>ä¸»é¡µ</span>
                </a>
            </li>
            <!-- <li >
                <a href="/tags">
                    <i class="iconfont icon-biaoqian1"></i>
                    <span>æ ‡ç­¾</span>
                </a>
            </li> -->
            <li >
                <a href="/categories">
                    <i class="iconfont icon-biaoqian1"></i>
                    <span>åˆ†ç±»</span>
                </a>
            </li>
            <li >
                <a href="/archives">
                    <i class="iconfont icon-guidang2"></i>
                    <span>å­˜æ¡£</span>
                </a>
            </li>
            
            <li >
                <a href="/selfhosted">
                    <i class="iconfont icon-guidang1"></i>
                    <span>è‡ªå»º</span>
                </a>
            </li>

            <li >
                <a href="/collect/">
                    <i class="iconfont icon-shoucang1"></i>
                    <span>æ”¶è—</span>
                </a>
            </li>

            <li >
                <a href="/about/">
                    <i class="iconfont icon-guanyu2"></i>
                    <span>å…³äº</span>
                </a>
            </li>
            
            <li>
                <a id="search">
                    <i class="iconfont icon-sousuo1"></i>
                    <span>æœç´¢</span>
                </a>
            </li>
            
        </ul>
    </div>
    
        <div id="toc" class="toc-article">
    <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#20-%E6%9C%89%E6%95%88%E7%9A%84%E6%8B%AC%E5%8F%B7"><span class="toc-text">20. æœ‰æ•ˆçš„æ‹¬å·</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#678-%E6%9C%89%E6%95%88%E7%9A%84%E6%8B%AC%E5%8F%B7%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-text">678. æœ‰æ•ˆçš„æ‹¬å·å­—ç¬¦ä¸²</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#921-%E4%BD%BF%E6%8B%AC%E5%8F%B7%E6%9C%89%E6%95%88%E7%9A%84%E6%9C%80%E5%B0%91%E6%B7%BB%E5%8A%A0"><span class="toc-text">921. ä½¿æ‹¬å·æœ‰æ•ˆçš„æœ€å°‘æ·»åŠ </span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#394-%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%A7%A3%E7%A0%81"><span class="toc-text">394. å­—ç¬¦ä¸²è§£ç </span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#344-%E5%8F%8D%E8%BD%AC%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-text">344. åè½¬å­—ç¬¦ä¸²</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#150-%E9%80%86%E6%B3%A2%E5%85%B0%E8%A1%A8%E8%BE%BE%E5%BC%8F%E6%B1%82%E5%80%BC"><span class="toc-text">150. é€†æ³¢å…°è¡¨è¾¾å¼æ±‚å€¼</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#71-%E7%AE%80%E5%8C%96%E8%B7%AF%E5%BE%84"><span class="toc-text">71. ç®€åŒ–è·¯å¾„</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#225-%E7%94%A8%E9%98%9F%E5%88%97%E5%AE%9E%E7%8E%B0%E6%A0%88"><span class="toc-text">225. ç”¨é˜Ÿåˆ—å®ç°æ ˆ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#232-%E7%94%A8%E6%A0%88%E5%AE%9E%E7%8E%B0%E9%98%9F%E5%88%97"><span class="toc-text">232. ç”¨æ ˆå®ç°é˜Ÿåˆ—</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#155-%E6%9C%80%E5%B0%8F%E6%A0%88"><span class="toc-text">155. æœ€å°æ ˆ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#779-%E7%AC%AC-K-%E4%B8%AA%E8%AF%AD%E6%B3%95%E7%AC%A6%E5%8F%B7"><span class="toc-text">779. ç¬¬ K ä¸ªè¯­æ³•ç¬¦å·</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#50-Pow-x-n"><span class="toc-text">50. Pow(x, n)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5222-%E5%88%86%E5%89%B2%E5%B9%B3%E8%A1%A1%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-text">5222. åˆ†å‰²å¹³è¡¡å­—ç¬¦ä¸²</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1249-%E7%A7%BB%E9%99%A4%E6%97%A0%E6%95%88%E7%9A%84%E6%8B%AC%E5%8F%B7"><span class="toc-text">1249. ç§»é™¤æ— æ•ˆçš„æ‹¬å·</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#856-%E6%8B%AC%E5%8F%B7%E7%9A%84%E5%88%86%E6%95%B0"><span class="toc-text">856. æ‹¬å·çš„åˆ†æ•°</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#946-%E9%AA%8C%E8%AF%81%E6%A0%88%E5%BA%8F%E5%88%97"><span class="toc-text">946. éªŒè¯æ ˆåºåˆ—</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#NC560-%E6%89%93%E5%AD%97"><span class="toc-text">NC560. æ‰“å­—</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#BFS-%E5%B9%BF%E6%90%9C"><span class="toc-text">BFS å¹¿æœ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#279-%E5%AE%8C%E5%85%A8%E5%B9%B3%E6%96%B9%E6%95%B0"><span class="toc-text">279. å®Œå…¨å¹³æ–¹æ•°</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#127-%E5%8D%95%E8%AF%8D%E6%8E%A5%E9%BE%99"><span class="toc-text">127. å•è¯æ¥é¾™</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#542-01-%E7%9F%A9%E9%98%B5"><span class="toc-text">542. 01 çŸ©é˜µ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1306-%E8%B7%B3%E8%B7%83%E6%B8%B8%E6%88%8F-III"><span class="toc-text">1306. è·³è·ƒæ¸¸æˆ III</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5314-%E8%B7%B3%E8%B7%83%E6%B8%B8%E6%88%8F-IV"><span class="toc-text">5314. è·³è·ƒæ¸¸æˆ IV</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#690-%E5%91%98%E5%B7%A5%E7%9A%84%E9%87%8D%E8%A6%81%E6%80%A7"><span class="toc-text">690. å‘˜å·¥çš„é‡è¦æ€§</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1311-%E8%8E%B7%E5%8F%96%E4%BD%A0%E5%A5%BD%E5%8F%8B%E5%B7%B2%E8%A7%82%E7%9C%8B%E7%9A%84%E8%A7%86%E9%A2%91"><span class="toc-text">1311. è·å–ä½ å¥½å‹å·²è§‚çœ‹çš„è§†é¢‘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#399-%E9%99%A4%E6%B3%95%E6%B1%82%E5%80%BC"><span class="toc-text">399. é™¤æ³•æ±‚å€¼</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#301-%E5%88%A0%E9%99%A4%E6%97%A0%E6%95%88%E7%9A%84%E6%8B%AC%E5%8F%B7"><span class="toc-text">301. åˆ é™¤æ— æ•ˆçš„æ‹¬å·</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#994-%E8%85%90%E7%83%82%E7%9A%84%E6%A9%98%E5%AD%90"><span class="toc-text">994. è…çƒ‚çš„æ©˜å­</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1162-%E5%9C%B0%E5%9B%BE%E5%88%86%E6%9E%90"><span class="toc-text">1162. åœ°å›¾åˆ†æ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#207-%E8%AF%BE%E7%A8%8B%E8%A1%A8"><span class="toc-text">207. è¯¾ç¨‹è¡¨</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#210-%E8%AF%BE%E7%A8%8B%E8%A1%A8-II"><span class="toc-text">210. è¯¾ç¨‹è¡¨ II</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#365-%E6%B0%B4%E5%A3%B6%E9%97%AE%E9%A2%98"><span class="toc-text">365. æ°´å£¶é—®é¢˜</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%95%E8%B0%83%E6%A0%88"><span class="toc-text">å•è°ƒæ ˆ</span></a></li></ol>
</div>
    
</div>


<div class="search-field" id="search-field">
    <div class="search-bg" id="search-bg"></div>
    <div class="search-container">
        <div class="search-input">
            <span id="esc-search"> <i class="icon-fanhui iconfont"></i></span>
            <input id="search-input"/>
            <span id="begin-search">æœç´¢</span>
        </div>
        <div class="search-result-container" id="search-result-container">

        </div>
    </div>
</div>

        <div class="index-about-mobile">
            <i> Keep It Simple, Stupid </i>
        </div>
    </div>
    
    <div class="index-middle">
        <!-- Main Content -->
        


<div class="post-container">
    <div class="post-title">
        LeetCode æ ˆ&amp;é˜Ÿåˆ—
    </div>

    <div class="post-meta">
        <span class="attr">å‘å¸ƒäºï¼š<span>2019-10-01 00:00:00</span></span>
        
        <span class="attr">æ ‡ç­¾ï¼š/
        
        <a class="tag" href="/tags/#LeetCode" title="LeetCode">LeetCode</a>
        <span>/</span>
        
        
        </span>
        <span class="attr">è®¿é—®ï¼š<span id="busuanzi_value_page_pv"></span>
</span>
</span>
    </div>
    <div class="post-content no-indent">
        <h2 id="20-æœ‰æ•ˆçš„æ‹¬å·"><a href="#20-æœ‰æ•ˆçš„æ‹¬å·" class="headerlink" title="20. æœ‰æ•ˆçš„æ‹¬å·"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/valid-parentheses/">20. æœ‰æ•ˆçš„æ‹¬å·</a></h2><p>Given a string containing just the characters <code>&#39;(&#39;</code>, <code>&#39;)&#39;</code>, <code>&#39;&#123;&#39;</code>, <code>&#39;&#125;&#39;</code>, <code>&#39;[&#39;</code> and <code>&#39;]&#39;</code>, determine if the input string is valid.</p>
<p>An input string is valid if:</p>
<ol>
<li>Open brackets must be closed by the same type of brackets.</li>
<li>Open brackets must be closed in the correct order.</li>
</ol>
<p>Note that an empty string is also considered valid.</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Input: <span class="string">&quot;()&quot;</span></span><br><span class="line">Output: <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<p><strong>Example 2:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Input: <span class="string">&quot;()[]&#123;&#125;&quot;</span></span><br><span class="line">Output: <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<p><strong>Example 3:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Input: <span class="string">&quot;(]&quot;</span></span><br><span class="line">Output: <span class="literal">false</span></span><br></pre></td></tr></table></figure>

<p><strong>Example 4:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Input: <span class="string">&quot;([)]&quot;</span></span><br><span class="line">Output: <span class="literal">false</span></span><br></pre></td></tr></table></figure>

<p><strong>Example 5:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Input: <span class="string">&quot;&#123;[]&#125;&quot;</span></span><br><span class="line">Output: <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•ä¸€</strong></p>
<p>è¿™é“é¢˜åªè¦å­¦è¿‡æ•°æ®ç»“æ„çš„è‚¯å®šä¼šåšï¼Œå…¸å‹çš„åˆ©ç”¨æ ˆçš„é¢˜</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isValid2</span><span class="params">(String s)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span>(s.length()&lt;=<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    Stack&lt;Character&gt; stack=<span class="keyword">new</span> <span class="title class_">Stack</span>();</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;s.length();i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(s.charAt(i)==<span class="string">&#x27;(&#x27;</span> || s.charAt(i)==<span class="string">&#x27;&#123;&#x27;</span> || s.charAt(i)==<span class="string">&#x27;[&#x27;</span>)&#123;</span><br><span class="line">            stack.push(s.charAt(i));</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="comment">//æ³¨æ„è¿™ç§æƒ…å†µï¼Œä¸€å¼€å§‹å°±æ˜¯])&#125;</span></span><br><span class="line">            <span class="keyword">if</span>(stack.isEmpty())&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="type">char</span> p=s.charAt(i);</span><br><span class="line">            <span class="keyword">if</span>( (p==<span class="string">&#x27;)&#x27;</span> &amp;&amp; stack.pop()!=<span class="string">&#x27;(&#x27;</span>) || (p==<span class="string">&#x27;]&#x27;</span> &amp;&amp; stack.pop()!=<span class="string">&#x27;[&#x27;</span>) || (p==<span class="string">&#x27;&#125;&#x27;</span> &amp;&amp; stack.pop()!=<span class="string">&#x27;&#123;&#x27;</span>))&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> stack.isEmpty();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>è§£æ³•äºŒ</strong></p>
<p>å…¶å®å’Œä¸Šé¢çš„è§£æ³•æ˜¯ä¸€æ ·çš„ï¼Œåªä¸è¿‡æ˜¯ç”¨çš„ stack æ˜¯è‡ªå·±ç”¨æ•°ç»„ç®€å•å°è£…çš„æ ˆ</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyStack</span>&lt;T&gt;&#123;</span><br><span class="line"></span><br><span class="line">    T [] objValues=<span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> top=-<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">MyStack</span><span class="params">(<span class="type">int</span> size)</span>&#123;</span><br><span class="line">        objValues= (T[]) <span class="keyword">new</span> <span class="title class_">Object</span>[size];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">push</span><span class="params">(T obj)</span>&#123;</span><br><span class="line">        objValues[++top]=obj;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> T <span class="title function_">peek</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (top&lt;<span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(<span class="string">&quot;stack is isEmpty&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> objValues[top];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> T <span class="title function_">pop</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (top&lt;<span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(<span class="string">&quot;stack is isEmpty&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//è¦†ç›–</span></span><br><span class="line">        <span class="keyword">return</span> objValues[top--];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isEmpty</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> top&lt;<span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>3msï¼Œ94%ï¼Œæ¯”ä¹‹å‰å¿«äº†ä¸€ç‚¹ï¼Œå»çœ‹äº†ä¸‹ Stack çš„æºç ï¼Œå®ƒçš„ pop æ˜¯çœŸçš„åˆ é™¤ï¼Œæˆ‘çš„åªæ˜¯ç§»åŠ¨äº†æŒ‡é’ˆï¼Œæ‰€ä»¥æ•ˆç‡ä¼šé«˜å¾ˆå¤š</p>
<blockquote>
<p>åé¢çš„é¢˜å¯èƒ½è¿˜ä¼šåˆ©ç”¨è¿™ä¸ª<code>MyStack</code></p>
</blockquote>
<p><strong>è§£æ³•ä¸‰</strong></p>
<p>ä»Šå¤©çœ‹é¢ç­‹çœ‹åˆ°ä¸€ä¸ªå†™è¿™é“é¢˜ï¼Œè¦æ±‚ O(1) çš„ç©ºé—´å¤æ‚åº¦</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isValid</span><span class="params">(String s)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span>(s.length()&lt;=<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(<span class="literal">true</span>)&#123;</span><br><span class="line">        <span class="type">int</span> len=s.length();</span><br><span class="line">        s=s.replace(<span class="string">&quot;&#123;&#125;&quot;</span>,<span class="string">&quot;&quot;</span>);</span><br><span class="line">        s=s.replace(<span class="string">&quot;()&quot;</span>,<span class="string">&quot;&quot;</span>);</span><br><span class="line">        s=s.replace(<span class="string">&quot;[]&quot;</span>,<span class="string">&quot;&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span> (len==s.length()) &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;&quot;</span>.equals(s);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>100msï¼Œæ•ˆç‡æ„Ÿäººï¼Œæ„Ÿè§‰åº”è¯¥è¯´çš„æ˜¯è¿™ç§åšæ³•å§ï¼Œå½“ç„¶è¿˜å¯ä»¥å†™æ­£åˆ™è¡¨è¾¾å¼æ¥åŒ¹é…ï¼Œä½†æ˜¯æˆ‘ä¸å¤ªä¼šå†™ã€‚</p>
<h2 id="678-æœ‰æ•ˆçš„æ‹¬å·å­—ç¬¦ä¸²"><a href="#678-æœ‰æ•ˆçš„æ‹¬å·å­—ç¬¦ä¸²" class="headerlink" title="678. æœ‰æ•ˆçš„æ‹¬å·å­—ç¬¦ä¸²"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/valid-parenthesis-string/">678. æœ‰æ•ˆçš„æ‹¬å·å­—ç¬¦ä¸²</a></h2><p>ç»™å®šä¸€ä¸ªåªåŒ…å«ä¸‰ç§å­—ç¬¦çš„å­—ç¬¦ä¸²ï¼šï¼ˆ ï¼Œï¼‰ å’Œ *ï¼Œå†™ä¸€ä¸ªå‡½æ•°æ¥æ£€éªŒè¿™ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ä¸ºæœ‰æ•ˆå­—ç¬¦ä¸²ã€‚æœ‰æ•ˆå­—ç¬¦ä¸²å…·æœ‰å¦‚ä¸‹è§„åˆ™ï¼š</p>
<ol>
<li>ä»»ä½•å·¦æ‹¬å· <code>(</code> å¿…é¡»æœ‰ç›¸åº”çš„å³æ‹¬å· <code>)</code>ã€‚</li>
<li>ä»»ä½•å³æ‹¬å· <code>)</code> å¿…é¡»æœ‰ç›¸åº”çš„å·¦æ‹¬å· <code>(</code> ã€‚</li>
<li>å·¦æ‹¬å· <code>(</code> å¿…é¡»åœ¨å¯¹åº”çš„å³æ‹¬å·ä¹‹å‰ <code>)</code>ã€‚</li>
<li><code>*</code> å¯ä»¥è¢«è§†ä¸ºå•ä¸ªå³æ‹¬å· <code>)</code> ï¼Œæˆ–å•ä¸ªå·¦æ‹¬å· <code>(</code> ï¼Œæˆ–ä¸€ä¸ªç©ºå­—ç¬¦ä¸²ã€‚</li>
<li>ä¸€ä¸ªç©ºå­—ç¬¦ä¸²ä¹Ÿè¢«è§†ä¸ºæœ‰æ•ˆå­—ç¬¦ä¸²ã€‚</li>
</ol>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š<span class="string">&quot;()&quot;</span></span><br><span class="line">è¾“å‡ºï¼šTrue</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š<span class="string">&quot;(*)&quot;</span></span><br><span class="line">è¾“å‡ºï¼šTrue</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š<span class="string">&quot;(*))&quot;</span></span><br><span class="line">è¾“å‡ºï¼šTrue</span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„ï¼š</strong></p>
<ol>
<li>å­—ç¬¦ä¸²å¤§å°å°†åœ¨ [1ï¼Œ100] èŒƒå›´å†…ã€‚</li>
</ol>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>çœ‹é¢ç­‹çœ‹åˆ°çš„è¿™ä¸€é¢˜ï¼Œè¿˜æ˜¯æŒºæœ‰æ„æ€çš„ï¼Œè¯„è®ºåŒºæœ‰äººè¯´äº†åŒæ ˆï¼Œç„¶åä»Šå¤©æ¥è¯•äº†ä¸‹</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">checkValidString</span><span class="params">(String s)</span> &#123;</span><br><span class="line">    Stack&lt;Integer&gt; bracketStack=<span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();</span><br><span class="line">    Stack&lt;Integer&gt; starStack=<span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>;i&lt;s.length();i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (s.charAt(i)==<span class="string">&#x27;(&#x27;</span>) &#123;</span><br><span class="line">            bracketStack.push(i);</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(s.charAt(i)==<span class="string">&#x27;*&#x27;</span>)&#123;</span><br><span class="line">            starStack.push(i);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">if</span> (bracketStack.isEmpty()) &#123;</span><br><span class="line">                <span class="keyword">if</span> (starStack.isEmpty()) &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                starStack.pop();</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                bracketStack.pop();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//æ¶ˆé™¤å·¦æ‹¬å·</span></span><br><span class="line">    <span class="keyword">while</span>(!starStack.isEmpty() &amp;&amp; !bracketStack.isEmpty())&#123;</span><br><span class="line">        <span class="keyword">if</span>(starStack.peek()&gt;bracketStack.peek())&#123; <span class="comment">//è¿™é‡Œçš„é€»è¾‘ä¸å¤ªå¥½ï¼Œå…¶å®å¯ä»¥å¾ˆç®€å•</span></span><br><span class="line">            bracketStack.pop();</span><br><span class="line">        &#125;</span><br><span class="line">        starStack.pop();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> bracketStack.isEmpty();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¾ˆå¯æƒœæ²¡æœ‰<code>bugfree</code>ï¼Œæœ€åå¯¹å·¦æ‹¬å·çš„åˆ¤æ–­æ”¹äº†å¥½å‡ æ¬¡ï¼Œä¸€å¼€å§‹å†™çš„<code>bracketStack.size()&lt;=starStack().size()</code>  ç„¶åæäº¤åæ‰æ„è¯†åˆ°è¿˜è¦ <code>&quot;*(&quot;</code> è¿™æ ·çš„æƒ…å†µï¼Œç„¶åè¦æ¶ˆé™¤è¿™ç§æƒ…å†µä¹Ÿç®€å•ï¼Œä¸€å¼€å§‹æˆ‘å†æ ˆä¸­å­˜çš„å°±æ˜¯ indexï¼Œä» star æ ˆé‡Œé¢å–æ¯” bracket æ ˆ index å¤§çš„ï¼Œç„¶åæ¶ˆé™¤ï¼Œæœ€åå†çœ‹æ‹¬å·æ ˆæ˜¯ä¸æ˜¯ç©º</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//2020.4.10 é‡å†™ä¸€ä¸‹</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">checkValidString</span><span class="params">(String s)</span> &#123;</span><br><span class="line">    Deque&lt;Integer&gt; stack=<span class="keyword">new</span> <span class="title class_">ArrayDeque</span>&lt;&gt;();</span><br><span class="line">    Deque&lt;Integer&gt; helpStack=<span class="keyword">new</span> <span class="title class_">ArrayDeque</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;s.length();i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(s.charAt(i)==<span class="string">&#x27;(&#x27;</span>)&#123;</span><br><span class="line">            stack.push(i);</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(s.charAt(i)==<span class="string">&#x27;)&#x27;</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(!stack.isEmpty())&#123;</span><br><span class="line">                stack.pop();</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="keyword">if</span>(helpStack.isEmpty())&#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                helpStack.pop();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            helpStack.push(i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(!stack.isEmpty() &amp;&amp; !helpStack.isEmpty())&#123;</span><br><span class="line">        <span class="keyword">if</span>(stack.pop()&gt;helpStack.pop())&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> stack.isEmpty();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="921-ä½¿æ‹¬å·æœ‰æ•ˆçš„æœ€å°‘æ·»åŠ "><a href="#921-ä½¿æ‹¬å·æœ‰æ•ˆçš„æœ€å°‘æ·»åŠ " class="headerlink" title="921. ä½¿æ‹¬å·æœ‰æ•ˆçš„æœ€å°‘æ·»åŠ "></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/minimum-add-to-make-parentheses-valid/">921. ä½¿æ‹¬å·æœ‰æ•ˆçš„æœ€å°‘æ·»åŠ </a></h2><p>ç»™å®šä¸€ä¸ªç”± <code>&#39;(&#39;</code> å’Œ <code>&#39;)&#39;</code> æ‹¬å·ç»„æˆçš„å­—ç¬¦ä¸² <code>S</code>ï¼Œæˆ‘ä»¬éœ€è¦æ·»åŠ æœ€å°‘çš„æ‹¬å·ï¼ˆ <code>&#39;(&#39;</code> æˆ–æ˜¯ <code>&#39;)&#39;</code>ï¼Œå¯ä»¥åœ¨ä»»ä½•ä½ç½®ï¼‰ï¼Œä»¥ä½¿å¾—åˆ°çš„æ‹¬å·å­—ç¬¦ä¸²æœ‰æ•ˆã€‚</p>
<p>ä»å½¢å¼ä¸Šè®²ï¼Œåªæœ‰æ»¡è¶³ä¸‹é¢å‡ ç‚¹ä¹‹ä¸€ï¼Œæ‹¬å·å­—ç¬¦ä¸²æ‰æ˜¯æœ‰æ•ˆçš„ï¼š</p>
<ul>
<li>å®ƒæ˜¯ä¸€ä¸ªç©ºå­—ç¬¦ä¸²ï¼Œæˆ–è€…</li>
<li>å®ƒå¯ä»¥è¢«å†™æˆ <code>AB</code> ï¼ˆ<code>A</code> ä¸ <code>B</code> è¿æ¥ï¼‰, å…¶ä¸­ <code>A</code> å’Œ <code>B</code> éƒ½æ˜¯æœ‰æ•ˆå­—ç¬¦ä¸²ï¼Œæˆ–è€…</li>
<li>å®ƒå¯ä»¥è¢«å†™ä½œ <code>(A)</code>ï¼Œå…¶ä¸­ <code>A</code> æ˜¯æœ‰æ•ˆå­—ç¬¦ä¸²ã€‚</li>
</ul>
<p>ç»™å®šä¸€ä¸ªæ‹¬å·å­—ç¬¦ä¸²ï¼Œè¿”å›ä¸ºä½¿ç»“æœå­—ç¬¦ä¸²æœ‰æ•ˆè€Œå¿…é¡»æ·»åŠ çš„æœ€å°‘æ‹¬å·æ•°ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š<span class="string">&quot;())&quot;</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">1</span></span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š<span class="string">&quot;(((&quot;</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">3</span></span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š<span class="string">&quot;()&quot;</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">0</span></span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 4ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š<span class="string">&quot;()))((&quot;</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">4</span></span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ol>
<li><code>S.length &lt;= 1000</code></li>
<li><code>S</code> åªåŒ…å« <code>&#39;(&#39;</code> å’Œ <code>&#39;)&#39;</code> å­—ç¬¦ã€‚</li>
</ol>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>æ²¡å•¥å¥½è¯´çš„ï¼Œeasy é¢˜</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">minAddToMakeValid</span><span class="params">(String S)</span> &#123;</span><br><span class="line">    <span class="type">int</span> left=<span class="number">0</span>,right=<span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> wa=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;S.length();i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(S.charAt(i)==<span class="string">&#x27;(&#x27;</span>)&#123;</span><br><span class="line">            left++;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(left&gt;<span class="number">0</span>)&#123;</span><br><span class="line">                left--;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                wa++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> wa+left;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="394-å­—ç¬¦ä¸²è§£ç "><a href="#394-å­—ç¬¦ä¸²è§£ç " class="headerlink" title="394. å­—ç¬¦ä¸²è§£ç "></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/decode-string/">394. å­—ç¬¦ä¸²è§£ç </a></h2><p>ç»™å®šä¸€ä¸ªç»è¿‡ç¼–ç çš„å­—ç¬¦ä¸²ï¼Œè¿”å›å®ƒè§£ç åçš„å­—ç¬¦ä¸²ã€‚</p>
<p>ç¼–ç è§„åˆ™ä¸ºï¼š<code>k[encoded_string]</code>ï¼Œè¡¨ç¤ºå…¶ä¸­æ–¹æ‹¬å·å†…éƒ¨çš„ <code>encoded_string</code> æ­£å¥½é‡å¤ k æ¬¡ã€‚æ³¨æ„ k ä¿è¯ä¸ºæ­£æ•´æ•°ã€‚</p>
<p>ä½ å¯ä»¥è®¤ä¸ºè¾“å…¥å­—ç¬¦ä¸²æ€»æ˜¯æœ‰æ•ˆçš„ï¼›è¾“å…¥å­—ç¬¦ä¸²ä¸­æ²¡æœ‰é¢å¤–çš„ç©ºæ ¼ï¼Œä¸”è¾“å…¥çš„æ–¹æ‹¬å·æ€»æ˜¯ç¬¦åˆæ ¼å¼è¦æ±‚çš„ã€‚</p>
<p>æ­¤å¤–ï¼Œä½ å¯ä»¥è®¤ä¸ºåŸå§‹æ•°æ®ä¸åŒ…å«æ•°å­—ï¼Œæ‰€æœ‰çš„æ•°å­—åªè¡¨ç¤ºé‡å¤çš„æ¬¡æ•° k ï¼Œä¾‹å¦‚ä¸ä¼šå‡ºç°åƒ 3a æˆ– 2[4] çš„è¾“å…¥ã€‚</p>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">s = <span class="string">&quot;3[a]2[bc]&quot;</span>, è¿”å› <span class="string">&quot;aaabcbc&quot;</span>.</span><br><span class="line">s = <span class="string">&quot;3[a2[c]]&quot;</span>, è¿”å› <span class="string">&quot;accaccacc&quot;</span>.</span><br><span class="line">s = <span class="string">&quot;2[abc]3[cd]ef&quot;</span>, è¿”å› <span class="string">&quot;abcabccdcdcdef&quot;</span>.</span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•ä¸€</strong></p>
<p>å€ŸåŠ©æ ˆç›´æ¥åœ¨åŸå­—ç¬¦ä¸Šåšæ”¹åŠ¨</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> String <span class="title function_">decodeString</span><span class="params">(String s)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (s==<span class="literal">null</span> || s.length()&lt;=<span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//è½¬æ¢ä¸º StringBuilder æ¯”è¾ƒå¥½å¤„ç†ï¼Œä¸”æ•ˆç‡è¾ƒé«˜</span></span><br><span class="line">    StringBuilder sb=<span class="keyword">new</span> <span class="title class_">StringBuilder</span>(s);</span><br><span class="line">    Stack&lt;Integer&gt;  stack=<span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();</span><br><span class="line">    <span class="type">int</span> i=<span class="number">0</span>;<span class="comment">//éå†ç´¢å¼•</span></span><br><span class="line">    <span class="keyword">while</span>(i&lt;sb.length()) &#123;</span><br><span class="line">        <span class="keyword">if</span> (sb.charAt(i)==<span class="string">&#x27;[&#x27;</span>) &#123;</span><br><span class="line">            stack.push(i);</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(sb.charAt(i)==<span class="string">&#x27;]&#x27;</span>)&#123;</span><br><span class="line">            <span class="type">int</span> left=stack.pop();<span class="comment">//å¯¹åº”å·¦æ‹¬å·ç´¢å¼•</span></span><br><span class="line">            String temp=sb.substring(left+<span class="number">1</span>,i);<span class="comment">//ç›¸é‚»æ‹¬å·ä¸­çš„å­—ç¬¦</span></span><br><span class="line">            <span class="type">int</span> preInt=left;</span><br><span class="line">            <span class="comment">//&#x27;[&#x27;å‰çš„æ•°å­—ï¼Œä¸€å¼€å§‹ä»¥ä¸ºåªæ˜¯ä¸ªä½æ•°ï¼Œè¿˜æ˜¯æŒºéº»çƒ¦çš„</span></span><br><span class="line">            <span class="keyword">while</span>(preInt-<span class="number">1</span>&gt;=<span class="number">0</span> &amp;&amp; sb.charAt(preInt-<span class="number">1</span>)&gt;=<span class="string">&#x27;0&#x27;</span> &amp;&amp; sb.charAt(preInt-<span class="number">1</span>) &lt;=<span class="string">&#x27;9&#x27;</span>)&#123;</span><br><span class="line">                preInt--;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//repeat æ¬¡æ•°</span></span><br><span class="line">            <span class="type">int</span> repeat=Integer.valueOf(sb.substring(preInt,left));</span><br><span class="line">            <span class="comment">//åˆ é™¤ k[encoded_string] </span></span><br><span class="line">            sb.delete(preInt,Math.min(i+<span class="number">1</span>,sb.length()));</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> j=<span class="number">0</span>;j&lt;repeat;j++) &#123;</span><br><span class="line">                <span class="comment">//ä» k ä½ç½®é‡æ–°æ’å…¥å­—ç¬¦</span></span><br><span class="line">                sb.insert(preInt,temp);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//é‡æ–°å®šä½ç´¢å¼•åˆ°å°¾éƒ¨</span></span><br><span class="line">            i=preInt+(repeat*temp.length())-<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        i++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sb.toString();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸€å¼€å§‹æ˜¯æƒ³ç”¨ä¸€ä¸ªé¢å¤–çš„ String æ¥ä¿å­˜ç»“æœï¼Œç»“æœå‘ç°æ¯”è¾ƒéº»çƒ¦ï¼Œç´¢æ€§ç›´æ¥å°†åŸå­—ç¬¦è½¬æ¢ä¸º StringBuilderï¼Œç„¶åå€ŸåŠ© api ç›´æ¥åœ¨åŸå­—ç¬¦ä¸Šåšæ”¹åŠ¨ï¼Œå› ä¸ºæ˜¯åœ¨åŸå­—ç¬¦ä¸Šåšæ”¹åŠ¨ï¼Œæ‰€ä»¥ç´¢å¼•çš„å˜åŒ–éœ€è¦é¢å¤–çš„æ³¨æ„ï¼Œè¿™ä¹Ÿæ˜¯æœ€éº»çƒ¦çš„ä¸€ç‚¹ï¼Œéœ€è¦åœä¸‹æ¥ç¨å¾®æ€è€ƒä¸‹æ‰èƒ½ç¡®å®šï¼Œå…¶ä»–çš„è¿˜å¥½ï¼Œæ­£å¸¸çš„æ€è·¯ï¼Œæœ€åˆ WA äº†ä¸€å‘æ˜¯å› ä¸ºå¿½ç•¥äº†å‰é¢çš„æ•°å­—å¯èƒ½æ˜¯å¤šä½æ•°ğŸ˜‚</p>
<p><strong>è§£æ³•äºŒ</strong></p>
<p>é€’å½’çš„æ–¹å¼ï¼Œæ”¹æˆ<code>StringBuilder</code>åº”è¯¥ä¼šå¥½ä¸€ç‚¹ğŸ˜‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="type">int</span> index=<span class="number">0</span>; <span class="comment">//å­—ç¬¦ç´¢å¼•ä¸‹æ ‡</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">decodeString</span><span class="params">(String s)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (s==<span class="literal">null</span> || s.length()&lt;=<span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    String sb=<span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="keyword">while</span>(index&lt;s.length())&#123;</span><br><span class="line">        <span class="keyword">if</span> (s.charAt(index)==<span class="string">&#x27;]&#x27;</span>) &#123; <span class="comment">//é‡åˆ°å³æ‹¬å·å°±ç»“æŸ</span></span><br><span class="line">            index++;<span class="comment">//index å®šä½åˆ°å³æ‹¬å·ä¸‹ä¸€ä¸ª</span></span><br><span class="line">            <span class="keyword">return</span> sb;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(s.charAt(index)&gt;=<span class="string">&#x27;0&#x27;</span> &amp;&amp; s.charAt(index)&lt;=<span class="string">&#x27;9&#x27;</span>)&#123;</span><br><span class="line">            <span class="type">int</span> temp=index;</span><br><span class="line">            <span class="keyword">while</span>(index&lt;s.length() &amp;&amp; s.charAt(index)!=<span class="string">&#x27;[&#x27;</span>)&#123;</span><br><span class="line">                index++;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="type">int</span> repeat=Integer.valueOf(s.substring(temp,index));</span><br><span class="line">            index++;<span class="comment">//è·³è¿‡&#x27;[&#x27;</span></span><br><span class="line">            String rs=decodeString(s);<span class="comment">//ä»å·¦æ‹¬å·å¼€å§‹</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>;i&lt;repeat;i++) &#123;</span><br><span class="line">                sb+=rs;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            sb+=s.charAt(index++);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sb;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="344-åè½¬å­—ç¬¦ä¸²"><a href="#344-åè½¬å­—ç¬¦ä¸²" class="headerlink" title="344. åè½¬å­—ç¬¦ä¸²"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/reverse-string/">344. åè½¬å­—ç¬¦ä¸²</a></h2><p>ç¼–å†™ä¸€ä¸ªå‡½æ•°ï¼Œå…¶ä½œç”¨æ˜¯å°†è¾“å…¥çš„å­—ç¬¦ä¸²åè½¬è¿‡æ¥ã€‚è¾“å…¥å­—ç¬¦ä¸²ä»¥å­—ç¬¦æ•°ç»„ char[] çš„å½¢å¼ç»™å‡ºã€‚</p>
<p>ä¸è¦ç»™å¦å¤–çš„æ•°ç»„åˆ†é…é¢å¤–çš„ç©ºé—´ï¼Œä½ å¿…é¡»<strong>åŸåœ°ä¿®æ”¹è¾“å…¥æ•°ç»„</strong>ã€ä½¿ç”¨ O(1) çš„é¢å¤–ç©ºé—´è§£å†³è¿™ä¸€é—®é¢˜ã€‚</p>
<p>ä½ å¯ä»¥å‡è®¾æ•°ç»„ä¸­çš„æ‰€æœ‰å­—ç¬¦éƒ½æ˜¯ ASCII ç è¡¨ä¸­çš„å¯æ‰“å°å­—ç¬¦ã€‚</p>
<p> <strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š[<span class="string">&quot;h&quot;</span>,<span class="string">&quot;e&quot;</span>,<span class="string">&quot;l&quot;</span>,<span class="string">&quot;l&quot;</span>,<span class="string">&quot;o&quot;</span>]</span><br><span class="line">è¾“å‡ºï¼š[<span class="string">&quot;o&quot;</span>,<span class="string">&quot;l&quot;</span>,<span class="string">&quot;l&quot;</span>,<span class="string">&quot;e&quot;</span>,<span class="string">&quot;h&quot;</span>]</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š[<span class="string">&quot;H&quot;</span>,<span class="string">&quot;a&quot;</span>,<span class="string">&quot;n&quot;</span>,<span class="string">&quot;n&quot;</span>,<span class="string">&quot;a&quot;</span>,<span class="string">&quot;h&quot;</span>]</span><br><span class="line">è¾“å‡ºï¼š[<span class="string">&quot;h&quot;</span>,<span class="string">&quot;a&quot;</span>,<span class="string">&quot;n&quot;</span>,<span class="string">&quot;n&quot;</span>,<span class="string">&quot;a&quot;</span>,<span class="string">&quot;H&quot;</span>]</span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•ä¸€</strong></p>
<p>å¾ˆä¹…ä¹‹å‰åšçš„äº†ï¼Œæœ¬æ¥æ˜¯æƒ³å•ç‹¬æä¸€ä¸ªé€’å½’ä¸“é¢˜ï¼Œæ„Ÿè§‰æ²¡å•¥å¿…è¦å°±ç›´æ¥åŠ åˆ°ä¸€èµ·äº†</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">reverseString</span><span class="params">(<span class="type">char</span>[] s)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span>(s==<span class="literal">null</span>||s.length&lt;=<span class="number">1</span>)<span class="keyword">return</span>;</span><br><span class="line">    reverseString(s,<span class="number">0</span>,s.length-<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">reverseString</span><span class="params">(<span class="type">char</span>[] s,<span class="type">int</span> l,<span class="type">int</span> r)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span>(l&gt;=r)&#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">char</span> temp=s[l];</span><br><span class="line">    s[l]=s[r];</span><br><span class="line">    s[r]=temp;</span><br><span class="line">    reverseString(s,++l,--r);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="150-é€†æ³¢å…°è¡¨è¾¾å¼æ±‚å€¼"><a href="#150-é€†æ³¢å…°è¡¨è¾¾å¼æ±‚å€¼" class="headerlink" title="150. é€†æ³¢å…°è¡¨è¾¾å¼æ±‚å€¼"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/evaluate-reverse-polish-notation/">150. é€†æ³¢å…°è¡¨è¾¾å¼æ±‚å€¼</a></h2><p>æ ¹æ® <a target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E9%80%86%E6%B3%A2%E5%85%B0%E5%BC%8F/128437">é€†æ³¢å…°è¡¨ç¤ºæ³•</a>ï¼Œæ±‚è¡¨è¾¾å¼çš„å€¼ã€‚</p>
<p>æœ‰æ•ˆçš„è¿ç®—ç¬¦åŒ…æ‹¬ <code>+, -, *, /</code> ã€‚æ¯ä¸ªè¿ç®—å¯¹è±¡å¯ä»¥æ˜¯æ•´æ•°ï¼Œä¹Ÿå¯ä»¥æ˜¯å¦ä¸€ä¸ªé€†æ³¢å…°è¡¨è¾¾å¼</p>
<p>è¯´æ˜ï¼š</p>
<ul>
<li>æ•´æ•°é™¤æ³•åªä¿ç•™æ•´æ•°éƒ¨åˆ†ã€‚</li>
<li>ç»™å®šé€†æ³¢å…°è¡¨è¾¾å¼æ€»æ˜¯æœ‰æ•ˆçš„ã€‚æ¢å¥è¯è¯´ï¼Œè¡¨è¾¾å¼æ€»ä¼šå¾—å‡ºæœ‰æ•ˆæ•°å€¼ä¸”ä¸å­˜åœ¨é™¤æ•°ä¸º 0 çš„æƒ…å†µã€‚</li>
</ul>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š[<span class="string">&quot;2&quot;</span>, <span class="string">&quot;1&quot;</span>, <span class="string">&quot;+&quot;</span>, <span class="string">&quot;3&quot;</span>, <span class="string">&quot;*&quot;</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">9</span></span><br><span class="line">è§£é‡Šï¼š((<span class="number">2</span> + <span class="number">1</span>) * <span class="number">3</span>) = <span class="number">9</span></span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š[<span class="string">&quot;4&quot;</span>, <span class="string">&quot;13&quot;</span>, <span class="string">&quot;5&quot;</span>, <span class="string">&quot;/&quot;</span>, <span class="string">&quot;+&quot;</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">6</span></span><br><span class="line">è§£é‡Šï¼š(<span class="number">4</span> + (<span class="number">13</span> / <span class="number">5</span>)) = <span class="number">6</span></span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š[<span class="string">&quot;10&quot;</span>, <span class="string">&quot;6&quot;</span>, <span class="string">&quot;9&quot;</span>, <span class="string">&quot;3&quot;</span>, <span class="string">&quot;+&quot;</span>, <span class="string">&quot;-11&quot;</span>, <span class="string">&quot;*&quot;</span>, <span class="string">&quot;/&quot;</span>, <span class="string">&quot;*&quot;</span>, <span class="string">&quot;17&quot;</span>, <span class="string">&quot;+&quot;</span>, <span class="string">&quot;5&quot;</span>, <span class="string">&quot;+&quot;</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">22</span></span><br><span class="line">è§£é‡Šï¼š</span><br><span class="line">  ((<span class="number">10</span> * (<span class="number">6</span> / ((<span class="number">9</span> + <span class="number">3</span>) * -<span class="number">11</span>))) + <span class="number">17</span>) + <span class="number">5</span></span><br><span class="line">= ((<span class="number">10</span> * (<span class="number">6</span> / (<span class="number">12</span> * -<span class="number">11</span>))) + <span class="number">17</span>) + <span class="number">5</span></span><br><span class="line">= ((<span class="number">10</span> * (<span class="number">6</span> / -<span class="number">132</span>)) + <span class="number">17</span>) + <span class="number">5</span></span><br><span class="line">= ((<span class="number">10</span> * <span class="number">0</span>) + <span class="number">17</span>) + <span class="number">5</span></span><br><span class="line">= (<span class="number">0</span> + <span class="number">17</span>) + <span class="number">5</span></span><br><span class="line">= <span class="number">17</span> + <span class="number">5</span></span><br><span class="line">= <span class="number">22</span></span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•ä¸€</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">evalRPN</span><span class="params">(String[] tokens)</span> &#123;</span><br><span class="line">    <span class="comment">//ä¸Šé¢è‡ªå·±å°è£…çš„ Stack</span></span><br><span class="line">    MyStack&lt;Integer&gt; stack=<span class="keyword">new</span> <span class="title class_">MyStack</span>&lt;&gt;(tokens.length);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>;i&lt;tokens.length;i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="string">&quot;+&quot;</span>.equals(tokens[i]))&#123;</span><br><span class="line">            stack.push(stack.pop()+stack.pop());</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span>(<span class="string">&quot;-&quot;</span>.equals(tokens[i]))&#123;</span><br><span class="line">            <span class="type">int</span> rd1=stack.pop();</span><br><span class="line">            <span class="type">int</span> rd2=stack.pop();</span><br><span class="line">            stack.push(rd2-rd1);</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="string">&quot;*&quot;</span>.equals(tokens[i]))&#123;</span><br><span class="line">            stack.push(stack.pop()*stack.pop());</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="string">&quot;/&quot;</span>.equals(tokens[i]))&#123;</span><br><span class="line">            <span class="type">int</span> div1=stack.pop();</span><br><span class="line">            <span class="type">int</span> div2=stack.pop();</span><br><span class="line">            stack.push(div2/div1);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            stack.push(Integer.valueOf(tokens[i]));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> stack.peek();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>12msï¼Œ90%ï¼Œå…¶å®ä¸€å¼€å§‹çœ‹åˆ°è¿™ä¸ªé¢˜æˆ‘æ˜¯æ‹’ç»çš„ï¼Œæˆ‘ä»¥ä¸ºåˆæ˜¯å•¥æ•°å­¦é¢˜ï¼Œç„¶åä»”ç»†çœ‹äº†ä¸‹å‘ç°æŒºç®€å•çš„ï¼Œæ€è·¯å°±æ˜¯åˆ©ç”¨æ ˆï¼Œæ¯æ¬¡é‡åˆ°ç¬¦å·å°± pop ä¸¤ä¸ªå‡ºæ¥è¿›è¡Œè¿ç®—ï¼Œç„¶åå†å…¥æ ˆï¼Œå€¼å¾—æ³¨æ„çš„åœ°æ–¹å°±æ˜¯å‡æ³•å’Œé™¤æ³•çš„é¡ºåº</p>
<h2 id="71-ç®€åŒ–è·¯å¾„"><a href="#71-ç®€åŒ–è·¯å¾„" class="headerlink" title="71. ç®€åŒ–è·¯å¾„"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/simplify-path/">71. ç®€åŒ–è·¯å¾„</a></h2><p>ä»¥ Unix é£æ ¼ç»™å‡ºä¸€ä¸ªæ–‡ä»¶çš„ç»å¯¹è·¯å¾„ï¼Œä½ éœ€è¦ç®€åŒ–å®ƒã€‚æˆ–è€…æ¢å¥è¯è¯´ï¼Œå°†å…¶è½¬æ¢ä¸ºè§„èŒƒè·¯å¾„ã€‚</p>
<p>åœ¨ Unix é£æ ¼çš„æ–‡ä»¶ç³»ç»Ÿä¸­ï¼Œä¸€ä¸ªç‚¹ï¼ˆ.ï¼‰è¡¨ç¤ºå½“å‰ç›®å½•æœ¬èº«ï¼›æ­¤å¤–ï¼Œä¸¤ä¸ªç‚¹ ï¼ˆ..ï¼‰ è¡¨ç¤ºå°†ç›®å½•åˆ‡æ¢åˆ°ä¸Šä¸€çº§ï¼ˆæŒ‡å‘çˆ¶ç›®å½•ï¼‰ï¼›ä¸¤è€…éƒ½å¯ä»¥æ˜¯å¤æ‚ç›¸å¯¹è·¯å¾„çš„ç»„æˆéƒ¨åˆ†ã€‚æ›´å¤šä¿¡æ¯è¯·å‚é˜…ï¼š<a target="_blank" rel="noopener" href="https://blog.csdn.net/u011327334/article/details/50355600">Linux / Unix ä¸­çš„ç»å¯¹è·¯å¾„ vs ç›¸å¯¹è·¯å¾„</a></p>
<p>è¯·æ³¨æ„ï¼Œè¿”å›çš„è§„èŒƒè·¯å¾„å¿…é¡»å§‹ç»ˆä»¥æ–œæ  / å¼€å¤´ï¼Œå¹¶ä¸”ä¸¤ä¸ªç›®å½•åä¹‹é—´å¿…é¡»åªæœ‰ä¸€ä¸ªæ–œæ  <code>/</code>ã€‚æœ€åä¸€ä¸ªç›®å½•åï¼ˆå¦‚æœå­˜åœ¨ï¼‰<strong>ä¸èƒ½</strong>ä»¥ / ç»“å°¾ã€‚æ­¤å¤–ï¼Œè§„èŒƒè·¯å¾„å¿…é¡»æ˜¯è¡¨ç¤ºç»å¯¹è·¯å¾„çš„<strong>æœ€çŸ­</strong>å­—ç¬¦ä¸²</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š<span class="string">&quot;/home/&quot;</span></span><br><span class="line">è¾“å‡ºï¼š<span class="string">&quot;/home&quot;</span></span><br><span class="line">è§£é‡Šï¼šæ³¨æ„ï¼Œæœ€åä¸€ä¸ªç›®å½•ååé¢æ²¡æœ‰æ–œæ ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š<span class="string">&quot;/../&quot;</span></span><br><span class="line">è¾“å‡ºï¼š<span class="string">&quot;/&quot;</span></span><br><span class="line">è§£é‡Šï¼šä»æ ¹ç›®å½•å‘ä¸Šä¸€çº§æ˜¯ä¸å¯è¡Œçš„ï¼Œå› ä¸ºæ ¹æ˜¯ä½ å¯ä»¥åˆ°è¾¾çš„æœ€é«˜çº§ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š<span class="string">&quot;/home//foo/&quot;</span></span><br><span class="line">è¾“å‡ºï¼š<span class="string">&quot;/home/foo&quot;</span></span><br><span class="line">è§£é‡Šï¼šåœ¨è§„èŒƒè·¯å¾„ä¸­ï¼Œå¤šä¸ªè¿ç»­æ–œæ éœ€è¦ç”¨ä¸€ä¸ªæ–œæ æ›¿æ¢ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 4ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š<span class="string">&quot;/a/./b/../../c/&quot;</span></span><br><span class="line">è¾“å‡ºï¼š<span class="string">&quot;/c&quot;</span></span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 5ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š<span class="string">&quot;/a/../../b/../c//.//&quot;</span></span><br><span class="line">è¾“å‡ºï¼š<span class="string">&quot;/c&quot;</span></span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 6ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š<span class="string">&quot;/a//b////c/d//././/..&quot;</span></span><br><span class="line">è¾“å‡ºï¼š<span class="string">&quot;/a/b/c&quot;</span></span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•ä¸€</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">simplifyPath</span><span class="params">(String path)</span> &#123;</span><br><span class="line">    MyStack&lt;String&gt; stack=<span class="keyword">new</span> <span class="title class_">MyStack</span>&lt;&gt;(path.length());</span><br><span class="line">    StringBuilder str=<span class="keyword">new</span> <span class="title class_">StringBuilder</span>(path);</span><br><span class="line">    <span class="comment">//è¿™é‡Œåˆ’åˆ†å‡ºæ¥æœ‰ä¸€éƒ¨åˆ†æ˜¯ç©ºçš„ &quot;&quot;</span></span><br><span class="line">    String[] s=path.split(<span class="string">&quot;/&quot;</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>;i&lt;s.length;i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!stack.isEmpty() &amp;&amp; s[i].equals(<span class="string">&quot;..&quot;</span>)) &#123;</span><br><span class="line">            <span class="comment">//.. å›æº¯</span></span><br><span class="line">            stack.pop();</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span> (!<span class="string">&quot;.&quot;</span>.equals(s[i]) &amp;&amp; !<span class="string">&quot;&quot;</span>.equals(s[i]) &amp;&amp; !s[i].equals(<span class="string">&quot;..&quot;</span>) ) &#123;</span><br><span class="line">            <span class="comment">//æ™®é€šçš„è‹±æ–‡å­—ç¬¦ abcd</span></span><br><span class="line">            stack.push(s[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (stack.isEmpty()) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;/&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    StringBuilder res=<span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>;i&lt;stack.size(); i++) &#123;</span><br><span class="line">        res.append(<span class="string">&quot;/&quot;</span>+stack.get(i));   </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res.toString();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è‡ªå·±å°è£…çš„ stack</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyStack</span>&lt;T&gt;&#123;</span><br><span class="line"></span><br><span class="line">    T [] objValues=<span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> top=-<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">MyStack</span><span class="params">(<span class="type">int</span> size)</span>&#123;</span><br><span class="line">        objValues= (T[]) <span class="keyword">new</span> <span class="title class_">Object</span>[size];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">push</span><span class="params">(T obj)</span>&#123;</span><br><span class="line">        objValues[++top]=obj;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> T <span class="title function_">peek</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (top&lt;<span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(<span class="string">&quot;stack is isEmpty&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> objValues[top];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> T <span class="title function_">pop</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (top&lt;<span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(<span class="string">&quot;stack is isEmpty&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//è¦†ç›–</span></span><br><span class="line">        <span class="keyword">return</span> objValues[top--];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> T <span class="title function_">get</span><span class="params">(<span class="type">int</span> index)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (index&gt;top || index &lt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(<span class="string">&quot;index is wrong&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> objValues[index];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isEmpty</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> top&lt;<span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">size</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> top+<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™é¢˜æœ¬æ¥æ˜¯å¾ˆç®€å•çš„ï¼Œä½†æ˜¯æˆ‘é’»åˆ°ç‰›è§’å°–å»äº†ï¼Œä¸€ç›´æƒ³ç€æ€ä¹ˆåœ¨éå†è¿‡ç¨‹ä¸­å¤„ç†ï¼Œå†™äº†ä¸€å † ifelseã€‚è¿˜æ˜¯å¤ªèœäº†å•Šï¼Œå…¶å®ç›´æ¥æŒ‰ç…§<code>&quot;/&quot;</code> åˆ’åˆ† split å­—ç¬¦ä¸²ç„¶åå¤„ç†é‚£ä¸ªæ•°ç»„å°±å¯ä»¥äº†</p>
<h2 id="225-ç”¨é˜Ÿåˆ—å®ç°æ ˆ"><a href="#225-ç”¨é˜Ÿåˆ—å®ç°æ ˆ" class="headerlink" title="225. ç”¨é˜Ÿåˆ—å®ç°æ ˆ"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/implement-stack-using-queues/">225. ç”¨é˜Ÿåˆ—å®ç°æ ˆ</a></h2><p>Implement the following operations of a stack using queues.</p>
<ul>
<li>push(x) â€“ Push element x onto stack.</li>
<li>pop() â€“ Removes the element on top of the stack.</li>
<li>top() â€“ Get the top element.</li>
<li>empty() â€“ Return whether the stack is empty.</li>
</ul>
<p><strong>Example:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">MyStack</span> <span class="variable">stack</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyStack</span>();</span><br><span class="line"></span><br><span class="line">stack.push(<span class="number">1</span>);</span><br><span class="line">stack.push(<span class="number">2</span>);  </span><br><span class="line">stack.top();   <span class="comment">// returns 2</span></span><br><span class="line">stack.pop();   <span class="comment">// returns 2</span></span><br><span class="line">stack.empty(); <span class="comment">// returns false</span></span><br></pre></td></tr></table></figure>

<p><strong>Notes:</strong></p>
<ul>
<li>You must use <em>only</em> standard operations of a queue â€“ which means only <code>push to back</code>, <code>peek/pop from front</code>, <code>size</code>, and <code>is empty</code> operations are valid.</li>
<li>Depending on your language, queue may not be supported natively. You may simulate a queue by using a list or deque (double-ended queue), as long as you use only standard operations of a queue.</li>
<li>You may assume that all operations are valid (for example, no pop or top operations will be called on an empty stack).</li>
</ul>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>å¾ˆç»å…¸çš„é¢˜</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MyStack</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> ArrayDeque&lt;Integer&gt; queue=<span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** Initialize your data structure here. */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">MyStack</span><span class="params">()</span> &#123;</span><br><span class="line">        queue=<span class="keyword">new</span> <span class="title class_">ArrayDeque</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** Push element x onto stack. */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">push</span><span class="params">(<span class="type">int</span> x)</span> &#123;</span><br><span class="line">        queue.add(x);</span><br><span class="line">        <span class="type">int</span> size=queue.size();</span><br><span class="line">        <span class="comment">//é™¤äº†æ–°åŠ å…¥çš„å…ƒç´ ï¼Œå…¶ä»–çš„å…ƒç´ éƒ½å‡ºé˜Ÿå†å…¥é˜Ÿï¼Œå°†æ–°åŠ å…¥çš„å…ƒç´ æ¨ç½®é˜Ÿåˆ—å¤´</span></span><br><span class="line">        <span class="keyword">while</span>(size-- &gt;<span class="number">1</span>)&#123;</span><br><span class="line">            queue.add(queue.pop());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** Removes the element on top of the stack and returns that element. */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">pop</span><span class="params">()</span> &#123;</span><br><span class="line">       <span class="keyword">return</span>  queue.pop();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** Get the top element. */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">top</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> queue.peek();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** Returns whether the stack is empty. */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">empty</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> queue.isEmpty();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¾ˆå·§å¦™çš„åšæ³•ï¼Œå°†å…ƒç´ å‰ n-1 ä¸ªå‡ºé˜Ÿåå†é‡æ–°å…¥é˜Ÿï¼Œ<code>1 2 --&gt; 2 1</code> ç›´æ¥å°†å †é¡¶æ¨ç½®é˜Ÿåˆ—å¤´ ï¼Œå°†æ¯æ¬¡æ–°åŠ å…¥çš„å…ƒç´ éƒ½æ”¾ç½®é˜Ÿåˆ—å¤´è€Œä¸æ˜¯é˜Ÿå°¾ï¼Œè¿™æ ·å®é™…ä¸Šå°±å®Œæˆäº†é€†åºçš„æ“ä½œ</p>
<p>è¿™æ · push å‹æ ˆæ—¶é—´å¤æ‚åº¦<code>O(N)</code> ï¼Œ<code>pop/peek</code> æ—¶é—´å¤æ‚åº¦<code>O(1)</code></p>
<p><strong>è§£æ³•äºŒ</strong></p>
<p>é€‚ç”¨äº push é¢‘ç¹çš„ stack</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyStack</span>&#123;</span><br><span class="line">   <span class="comment">//å½¢å¼ä¸Š q1 æ˜¯è´Ÿè´£è¿›æ ˆ q2 è´Ÿè´£å‡ºæ ˆ</span></span><br><span class="line">    <span class="keyword">private</span> LinkedList inQueue=<span class="keyword">new</span> <span class="title class_">LinkedList</span>(); </span><br><span class="line">    <span class="keyword">private</span> LinkedList outQueue=<span class="keyword">new</span> <span class="title class_">LinkedList</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span>  <span class="keyword">void</span>  <span class="title function_">add</span><span class="params">(Object obj)</span>&#123;</span><br><span class="line">        inQueue.add(obj);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Object <span class="title function_">pop</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">// q1 ----&gt; q2 ç•™ä¸€ä¸ª</span></span><br><span class="line">        <span class="keyword">while</span>(inQueue.size()&gt;<span class="number">1</span>)&#123;</span><br><span class="line">            outQueue.add(inQueue.poll());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//äº¤æ¢ q1,q2 çš„å¼•ç”¨</span></span><br><span class="line">        LinkedList temp;</span><br><span class="line">        temp=inQueue;</span><br><span class="line">        inQueue=outQueue;</span><br><span class="line">        outQueue=temp;</span><br><span class="line">        <span class="keyword">return</span> outQueue.poll();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Object <span class="title function_">peek</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">//q1 ---&gt;q2 ç•™ä¸€ä¸ªï¼Œæœ€åä¸€ä¸ªä¸ poll, æœ€å poll</span></span><br><span class="line">        <span class="keyword">while</span>(inQueue.size()&gt;<span class="number">1</span>)&#123;</span><br><span class="line">            outQueue.add(inQueue.poll());</span><br><span class="line">            <span class="keyword">if</span>(inQueue.size()==<span class="number">1</span>)&#123;</span><br><span class="line">                outQueue.add(inQueue.peek());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//äº¤æ¢ q1,q2 çš„å¼•ç”¨</span></span><br><span class="line">        LinkedList temp;</span><br><span class="line">        temp=inQueue;</span><br><span class="line">        inQueue=outQueue;</span><br><span class="line">        outQueue=temp;</span><br><span class="line">        <span class="keyword">return</span> outQueue.poll();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸¤ä¸ªé˜Ÿåˆ—ï¼Œpush å‹æ ˆæ—¶é—´å¤æ‚åº¦<code>O(1)</code>ï¼Œpop/push å‡ºæ ˆæ—¶é—´å¤æ‚åº¦<code>O(N)</code> ï¼Œå‡ºæ ˆçš„æ—¶å€™å°†ä¸€ä¸ªé˜Ÿåˆ—çš„å‰ n-1 ä¸ªå…ƒç´ å…¨éƒ¨åŠ å…¥åˆ°å¦ä¸€ä¸ªé˜Ÿåˆ—ä¸­ä½œä¸ºç¼“å­˜ï¼Œç„¶åå°†æœ€åä¸€ä¸ªå…ƒç´ å‡ºæ ˆï¼Œæœ€ååˆ«å¿˜äº†äº¤æ¢ä¸¤ä¸ªé˜Ÿåˆ—çš„å¼•ç”¨ï¼Œä¸ç„¶ push çš„æ—¶å€™å°±ä¼šå‡ºé—®é¢˜ï¼Œè¦ä¿è¯<code>inQueue</code> ä¸€ç›´æ˜¯å…¥æ ˆçš„é˜Ÿåˆ—ï¼Œå…¶ä¸­å­˜æ”¾ç€æ‰€æœ‰çš„å…ƒç´ </p>
<h2 id="232-ç”¨æ ˆå®ç°é˜Ÿåˆ—"><a href="#232-ç”¨æ ˆå®ç°é˜Ÿåˆ—" class="headerlink" title="232. ç”¨æ ˆå®ç°é˜Ÿåˆ—"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/implement-queue-using-stacks/">232. ç”¨æ ˆå®ç°é˜Ÿåˆ—</a></h2><p>Implement the following operations of a queue using stacks.</p>
<ul>
<li>push(x) â€“ Push element x to the back of queue.</li>
<li>pop() â€“ Removes the element from in front of queue.</li>
<li>peek() â€“ Get the front element.</li>
<li>empty() â€“ Return whether the queue is empty.</li>
</ul>
<p><strong>Example:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">MyQueue</span> <span class="variable">queue</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyQueue</span>();</span><br><span class="line"></span><br><span class="line">queue.push(<span class="number">1</span>);</span><br><span class="line">queue.push(<span class="number">2</span>);  </span><br><span class="line">queue.peek();  <span class="comment">// returns 1</span></span><br><span class="line">queue.pop();   <span class="comment">// returns 1</span></span><br><span class="line">queue.empty(); <span class="comment">// returns false</span></span><br></pre></td></tr></table></figure>

<p><strong>Notes:</strong></p>
<ul>
<li>You must use <em>only</em> standard operations of a stack â€“ which means only <code>push to top</code>, <code>peek/pop from top</code>, <code>size</code>, and <code>is empty</code> operations are valid.</li>
<li>Depending on your language, stack may not be supported natively. You may simulate a stack by using a list or deque (double-ended queue), as long as you use only standard operations of a stack.</li>
<li>You may assume that all operations are valid (for example, no pop or peek operations will be called on an empty queue).</li>
</ul>
<p><strong>è§£æ³•ä¸€</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MyQueue</span> &#123;</span><br><span class="line"></span><br><span class="line">    Stack&lt;Integer&gt; inStack=<span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    Stack&lt;Integer&gt; outStack=<span class="literal">null</span>;</span><br><span class="line">    <span class="comment">/** Initialize your data structure here. */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Stack2Queue232</span><span class="params">()</span> &#123;</span><br><span class="line">        inStack=<span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();</span><br><span class="line">        outStack=<span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** Push element x to the back of queue. */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">push</span><span class="params">(<span class="type">int</span> x)</span> &#123;</span><br><span class="line">        inStack.push(x);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** Removes the element from in front of queue and returns that element. */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">pop</span><span class="params">()</span> &#123;</span><br><span class="line">        s2s();</span><br><span class="line">        <span class="keyword">return</span> outStack.pop();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** Get the front element. */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">peek</span><span class="params">()</span> &#123;</span><br><span class="line">        s2s();</span><br><span class="line">        <span class="keyword">return</span> outStack.peek();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** Returns whether the queue is empty. */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">empty</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> outStack.isEmpty() &amp;&amp; inStack.isEmpty();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">s2s</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (outStack.isEmpty()) &#123;</span><br><span class="line">            <span class="keyword">while</span>(!inStack.isEmpty()) &#123;</span><br><span class="line">                outStack.push(inStack.pop());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;     </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¾ˆä¸Šé¢ä¸€é¢˜æ˜¯å§Šå¦¹é¢˜ï¼Œéœ€è¦æ³¨æ„çš„åœ°æ–¹å°±æ˜¯<code>s2s</code>çš„æ—¶å€™è¦ç¡®ä¿ stack2 æ ˆæ˜¯ç©ºçš„æ‰èƒ½ push</p>
<h2 id="155-æœ€å°æ ˆ"><a href="#155-æœ€å°æ ˆ" class="headerlink" title="155. æœ€å°æ ˆ"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/min-stack/">155. æœ€å°æ ˆ</a></h2><p>è®¾è®¡ä¸€ä¸ªæ”¯æŒ pushï¼Œpopï¼Œtop æ“ä½œï¼Œå¹¶èƒ½åœ¨å¸¸æ•°æ—¶é—´å†…æ£€ç´¢åˆ°æœ€å°å…ƒç´ çš„æ ˆã€‚</p>
<ul>
<li><p>push(x) â€“ å°†å…ƒç´  x æ¨å…¥æ ˆä¸­ã€‚</p>
</li>
<li><p>pop() â€“ åˆ é™¤æ ˆé¡¶çš„å…ƒç´ ã€‚</p>
</li>
<li><p>top() â€“ è·å–æ ˆé¡¶å…ƒç´ ã€‚</p>
</li>
<li><p>getMin() â€“ æ£€ç´¢æ ˆä¸­çš„æœ€å°å…ƒç´ ã€‚</p>
</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">MinStack</span> <span class="variable">minStack</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MinStack</span>();</span><br><span class="line">minStack.push(-<span class="number">2</span>);</span><br><span class="line">minStack.push(<span class="number">0</span>);</span><br><span class="line">minStack.push(-<span class="number">3</span>);</span><br><span class="line">minStack.getMin();   --&gt; è¿”å› -<span class="number">3.</span></span><br><span class="line">minStack.pop();</span><br><span class="line">minStack.top();      --&gt; è¿”å› <span class="number">0.</span></span><br><span class="line">minStack.getMin();   --&gt; è¿”å› -<span class="number">2.</span></span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•ä¸€</strong></p>
<p>åˆ©ç”¨è¾…åŠ©æ ˆï¼ŒåŒæ­¥çš„ push å’Œ pop</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MinStack</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** initialize your data structure here. */</span></span><br><span class="line">    <span class="keyword">private</span> Stack&lt;Integer&gt; stack=<span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Stack&lt;Integer&gt; helpStack=<span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">MinStack</span><span class="params">()</span> &#123;</span><br><span class="line">        stack=<span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();</span><br><span class="line">        helpStack=<span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">push</span><span class="params">(<span class="type">int</span> x)</span> &#123;</span><br><span class="line">        stack.push(x);</span><br><span class="line">        <span class="keyword">if</span> (helpStack.isEmpty()) &#123;</span><br><span class="line">            helpStack.push(x);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">if</span> (helpStack.peek()&gt;x) &#123;</span><br><span class="line">                helpStack.push(x);</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                helpStack.push(helpStack.peek());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">pop</span><span class="params">()</span> &#123;</span><br><span class="line">        stack.pop();</span><br><span class="line">        helpStack.pop();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">top</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> stack.peek();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getMin</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> helpStack.peek();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•äºŒ</strong></p>
<p>åœ¨ä¸Šé¢çš„åŸºç¡€ä¸Šè¿›è¡Œç©ºé—´çš„ä¼˜åŒ–</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MinStack</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** initialize your data structure here. */</span></span><br><span class="line">    <span class="keyword">private</span> Stack&lt;Integer&gt; stack=<span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Stack&lt;Integer&gt; helpStack=<span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">MinStack</span><span class="params">()</span> &#123;</span><br><span class="line">        stack=<span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();</span><br><span class="line">        helpStack=<span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">push</span><span class="params">(<span class="type">int</span> x)</span> &#123;</span><br><span class="line">        stack.push(x);</span><br><span class="line">        <span class="keyword">if</span> (helpStack.isEmpty()) &#123;</span><br><span class="line">            helpStack.push(x);</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span> (x&lt;=helpStack.peek()) &#123;</span><br><span class="line">            <span class="comment">//ç›¸ç­‰çš„ä¹Ÿè¦å…¥æ ˆï¼Œä¸ç„¶ä¸å¥½æ§åˆ¶åé¢å‡ºæ ˆ</span></span><br><span class="line">            helpStack.push(x);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">pop</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">int</span> top=stack.pop();</span><br><span class="line">        <span class="comment">//å’Œè¾…åŠ©æ ˆæ ˆé¡¶ç›¸åŒå°±å‡ºæ ˆ</span></span><br><span class="line">        <span class="keyword">if</span>(top==helpStack.peek())&#123;</span><br><span class="line">            helpStack.pop();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        if(stack.pop()==helpStack.peek())&#123;</span></span><br><span class="line"><span class="comment">            helpStack.pop();</span></span><br><span class="line"><span class="comment">        &#125;*/</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">top</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> stack.peek();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getMin</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> helpStack.peek();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å…¶å®è¿™é‡Œæœ‰ä¸€ä¸ªåœ°æ–¹æŠŠæˆ‘å¡äº†ä¸€ä¼šå„¿ï¼Œå°±æ˜¯å‡ºæ ˆçš„æ—¶å€™ï¼Œæˆ‘å¼€å§‹ä¸ºäº†ç®€æ´ if çš„æ¡ä»¶å†™çš„</p>
<p><code>stack.pop()==helpStack.peek()</code> ç„¶åå¡åœ¨äº†ä¸€ä¸ª case ä¸Šï¼Œæƒ³äº†åŠå¤©æ‰æ„è¯†åˆ°æ˜¯<code>Integer</code>çš„é—®é¢˜ï¼Œè¿™é‡Œå¼¹å‡ºæ¥çš„æ˜¯ä¸¤ä¸ª<code>Integer</code>å¹¶ä¸ä¼šè‡ªåŠ¨æ‹†ç®±ï¼Œè€Œä¸”å€¼æ˜¯ä¸åœ¨ -128~127 ä¹‹é—´çš„ï¼Œæ‰€ä»¥å°± false äº†</p>
<p><strong>è§£æ³•ä¸‰</strong></p>
<p>å¸…åœ°ä¸Šçœ‹è§çš„è§£æ³•ï¼Œåœ¨æ ˆä¸­å­˜ä¸€ä¸ª diff å·®å€¼ï¼Œä»£è¡¨å½“å‰å…ƒç´ å’Œå…¥æ ˆå‰çš„ min çš„å·®å€¼ï¼Œç©ºé—´å¤æ‚åº¦ä¸º O(1)ï¼Œä½†æ˜¯è¿™ç§åšæ³•é™åˆ¶æ¯”è¾ƒå¤šï¼Œæ¯”å¦‚æ•°æ®çš„å¤§å°ä¼šæœ‰é™åˆ¶ï¼ŒåŒæ—¶è²Œä¼¼ä¹Ÿæ— æ³•åš<code>peek()</code>æ“ä½œ</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MinStack155_2</span>&#123;</span><br><span class="line">    <span class="comment">/** initialize your data structure here. */</span></span><br><span class="line">    <span class="keyword">private</span> Stack&lt;Integer&gt; stack=<span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> min=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">MinStack155_2</span><span class="params">()</span> &#123;</span><br><span class="line">        stack=<span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">push</span><span class="params">(<span class="type">int</span> x)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (stack.isEmpty()) &#123;</span><br><span class="line">            min=x;</span><br><span class="line">            stack.push(<span class="number">0</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="type">int</span> diff=x-min;</span><br><span class="line">            min=diff&gt;<span class="number">0</span>?min:x;</span><br><span class="line">            stack.push(diff);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">pop</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">int</span> diff=stack.pop();</span><br><span class="line">        <span class="comment">//å°äºç­‰äº 0 è¯´æ˜ min å°±æ˜¯å½“å‰çœŸå®çš„æ ˆé¡¶å…ƒç´ ï¼Œä¹Ÿå°±æ˜¯è¯´ min-minPre=diff</span></span><br><span class="line">        min=diff&lt;=<span class="number">0</span>?min-diff:min;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/*public int top() &#123;</span></span><br><span class="line"><span class="comment">        int diff=stack.peek();</span></span><br><span class="line"><span class="comment">        return diff&lt;=0?min:diff-min;</span></span><br><span class="line"><span class="comment">    &#125;*/</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getMin</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> min;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="779-ç¬¬-K-ä¸ªè¯­æ³•ç¬¦å·"><a href="#779-ç¬¬-K-ä¸ªè¯­æ³•ç¬¦å·" class="headerlink" title="779. ç¬¬ K ä¸ªè¯­æ³•ç¬¦å·"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/k-th-symbol-in-grammar/">779. ç¬¬ K ä¸ªè¯­æ³•ç¬¦å·</a></h2><p>On the first row, we write a <code>0</code>. Now in every subsequent row, we look at the previous row and replace each occurrence of <code>0</code> with <code>01</code>, and each occurrence of <code>1</code> with <code>10</code>.</p>
<p>Given row <code>N</code> and index <code>K</code>, return the <code>K</code>-th indexed symbol in row <code>N</code>. (The values of <code>K</code> are 1-indexed.) (1 indexed).</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Examples:</span><br><span class="line">Input: N = <span class="number">1</span>, K = <span class="number">1</span></span><br><span class="line">Output: <span class="number">0</span></span><br><span class="line"></span><br><span class="line">Input: N = <span class="number">2</span>, K = <span class="number">1</span></span><br><span class="line">Output: <span class="number">0</span></span><br><span class="line"></span><br><span class="line">Input: N = <span class="number">2</span>, K = <span class="number">2</span></span><br><span class="line">Output: <span class="number">1</span></span><br><span class="line"></span><br><span class="line">Input: N = <span class="number">4</span>, K = <span class="number">5</span></span><br><span class="line">Output: <span class="number">1</span></span><br><span class="line"></span><br><span class="line">Explanation:</span><br><span class="line">row <span class="number">1</span>: <span class="number">0</span></span><br><span class="line">row <span class="number">2</span>: <span class="number">01</span></span><br><span class="line">row <span class="number">3</span>: <span class="number">0110</span></span><br><span class="line">row <span class="number">4</span>: <span class="number">01101001</span></span><br></pre></td></tr></table></figure>

<p><strong>Note:</strong></p>
<ol>
<li><code>N</code> will be an integer in the range <code>[1, 30]</code>.</li>
<li><code>K</code> will be an integer in the range <code>[1, 2^(N-1)]</code>.</li>
</ol>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>æ‰¾è§„å¾‹ï¼Œå‰åŠéƒ¨åˆ†å’ŒååŠéƒ¨åˆ†æ˜¯æœ‰ä¸€å®šè§„å¾‹çš„ï¼ŒæŠŠå‰å…­è¡Œéƒ½å†™å‡ºæ¥</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">ç¬¬ä¸€è¡Œï¼š<span class="number">0</span></span><br><span class="line">ç¬¬äºŒè¡Œï¼š<span class="number">01</span></span><br><span class="line">ç¬¬ä¸‰è¡Œï¼š<span class="number">01</span>|<span class="number">10</span></span><br><span class="line">ç¬¬å››è¡Œï¼š<span class="number">01</span> <span class="number">10</span>|<span class="number">10</span> <span class="number">01</span></span><br><span class="line">ç¬¬äº”è¡Œï¼š<span class="number">01</span> <span class="number">10</span> <span class="number">10</span> <span class="number">01</span>|<span class="number">10</span> <span class="number">01</span> <span class="number">01</span> <span class="number">10</span></span><br><span class="line">ç¬¬å…­è¡Œï¼š<span class="number">01</span> <span class="number">10</span> <span class="number">10</span> <span class="number">01</span> <span class="number">10</span> <span class="number">01</span> <span class="number">01</span> <span class="number">10</span> | <span class="number">10</span> <span class="number">01</span> <span class="number">01</span> <span class="number">10</span> <span class="number">01</span> <span class="number">10</span> <span class="number">10</span> <span class="number">01</span></span><br></pre></td></tr></table></figure>

<p>  N%2!=0 å¯¹ç§°ï¼Œç¬¬ K ä¸ªç­‰äº 2^(N-1)-K+1<br>  N%2==0 äº’è¡¥å¯¹ç§°</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">kthGrammar</span><span class="params">(<span class="type">int</span> N, <span class="type">int</span> K)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span>(K==<span class="number">1</span> || N==<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(K==<span class="number">2</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> len=<span class="number">1</span>&lt;&lt;(N-<span class="number">1</span>); <span class="comment">//å½“å‰è¡Œé•¿åº¦</span></span><br><span class="line">    <span class="keyword">if</span>(K&gt;len/<span class="number">2</span>)&#123; <span class="comment">//å¤§äº 1/2</span></span><br><span class="line">        <span class="comment">//ç»“åˆä¸Šé¢çš„è§„å¾‹ï¼Œæ‰¾å‰åŠéƒ¨åˆ†å’Œè‡ªå·±ç­‰ä»·çš„ä½ç½®</span></span><br><span class="line">        <span class="keyword">if</span>(N%<span class="number">2</span>!=<span class="number">0</span>)&#123; </span><br><span class="line">            K=len-K+<span class="number">1</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(K%<span class="number">2</span>==<span class="number">0</span>)&#123;</span><br><span class="line">                K=len-K+<span class="number">2</span>;  </span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                K=len-K;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//å»ä¸Šä¸€è¡Œç»§ç»­</span></span><br><span class="line">    <span class="keyword">return</span> kthGrammar(N-<span class="number">1</span>,K);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ—¶é—´å¤æ‚ç¬¬ O(N)ï¼Œæ€è·¯è¿˜ç®—æ¸…æ™°ï¼Œæœ€å¼€å§‹æ²¡æƒ³åˆ°ç”¨<code>ä½è¿ç®—</code>æ¥ç®—é•¿åº¦ï¼Œç”¨çš„<code>pow()</code>æœ€åæ•ˆç‡å·®ä¸å¤šï¼Œå¯èƒ½æ˜¯åº•å±‚åšäº†ä¼˜åŒ–ã€‚</p>
<p><strong>è§£æ³•äºŒ</strong></p>
<p>è¿™ç§è§£æ³•å®é™…ä¸Šå°±æ˜¯æŠŠæ•´ä¸ªåºåˆ—çœ‹ä½œä¸€é¢—æ»¡äºŒå‰æ ‘ï¼Œæ¯ä¸ªèŠ‚ç‚¹çš„å€¼å’Œçˆ¶èŠ‚ç‚¹å…¶å®æ˜¯æœ‰å¯¹åº”å…³ç³»çš„ï¼Œå¦‚æœ K æ˜¯å¶æ•°é‚£ä¹ˆå°±å’Œçˆ¶èŠ‚ç‚¹çš„å€¼ç›¸åï¼Œå¦åˆ™å°±ç›¸åŒï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€’å½’çš„å»æ‰¾çˆ¶èŠ‚ç‚¹å¯¹åº”çš„ index çš„å€¼ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//01 æ’åˆ—</span></span><br><span class="line"><span class="comment">//              0</span></span><br><span class="line"><span class="comment">//          /        \   </span></span><br><span class="line"><span class="comment">//      0                1</span></span><br><span class="line"><span class="comment">//    /   \            /    \</span></span><br><span class="line"><span class="comment">//  0       1        1       0</span></span><br><span class="line"><span class="comment">// / \     /  \     /  \    / \ </span></span><br><span class="line"><span class="comment">//0   1   1    0   1    0  0   1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">kthGrammar</span><span class="params">(<span class="type">int</span> N, <span class="type">int</span> K)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (K==<span class="number">1</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="comment">//(K+1)/2 æ˜¯å¯¹åº”çˆ¶èŠ‚ç‚¹çš„ index</span></span><br><span class="line">    <span class="type">int</span> parent=kthGrammar(N-<span class="number">1</span>,(K+<span class="number">1</span>)/<span class="number">2</span>);</span><br><span class="line">    <span class="comment">//å–å</span></span><br><span class="line">    <span class="type">int</span> f_parent=-(parent-<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">if</span> (K%<span class="number">2</span>==<span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> f_parent;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> parent;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ—¶é—´å¤æ‚åº¦ä¾ç„¶æ˜¯<code>O(N)</code> ä½†æ˜¯æ¯”ä¸Šé¢é‚£ç§è¦æ›´æ¸…æ™°æ˜äº†</p>
<p><strong>è§£æ³•ä¸‰</strong></p>
<p>è¿™ä¸ªè§£æ³•å…¶å®å’Œä¸Šé¢çš„æ€è·¯æ˜¯ä¸€æ ·çš„ï¼Œéƒ½æ˜¯åˆ©ç”¨çˆ¶èŠ‚ç‚¹å’Œ K çš„å¥‡å¶æ¥åˆ¤æ–­ï¼Œå…¶å®ä»”ç»†çœ‹ä¸Šé¢çš„ä»£ç ä½ ä¼šå‘ç° N å…¶å®å¹¶æ²¡æœ‰å®é™…çš„æ„ä¹‰ï¼Œå…·ä½“ K çš„å€¼åªå’Œ K æœ¬èº«æœ‰å…³ï¼Œä¸‹é¢çš„è§£æ³•å°±æ²¡æœ‰ç”¨åˆ° N.</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">kthGrammar3</span><span class="params">(<span class="type">int</span> N, <span class="type">int</span> K)</span> &#123;</span><br><span class="line">    <span class="type">boolean</span> r=<span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">while</span>(K&gt;<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span> (K%<span class="number">2</span>==<span class="number">0</span>) &#123;</span><br><span class="line">            K=K/<span class="number">2</span>;</span><br><span class="line">            r=!r;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            K=(K+<span class="number">1</span>)/<span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> r?<span class="number">1</span>:<span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™é¢˜å…¶å®è¿˜æœ‰ä¸€ç§è§£æ³•ï¼Œåˆ©ç”¨äºŒè¿›åˆ¶ï¼Œå¯¹ K åšå¥‡å¶æ£€éªŒï¼Œè²Œä¼¼æ—¶é—´å¤æ‚åº¦æ˜¯ O(1)ã€‚</p>
<h2 id="50-Pow-x-n"><a href="#50-Pow-x-n" class="headerlink" title="50. Pow(x, n)"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/powx-n/">50. Pow(x, n)</a></h2><p>å®ç° pow(<em>x</em>, <em>n</em>) ï¼Œå³è®¡ç®— x çš„ n æ¬¡å¹‚å‡½æ•°ã€‚</p>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>è¿™é‡Œå°±è¦ä»‹ç»ä¸€ç§å¿«é€Ÿå¹‚ç®—æ³•äº†</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">double</span> <span class="title function_">fastPow</span><span class="params">(<span class="type">double</span> x,<span class="type">int</span> n)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(n==<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(n&lt;<span class="number">0</span>)&#123;</span><br><span class="line">        x=<span class="number">1</span>/x;</span><br><span class="line">        n=-n;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">double</span> res=fastPow(x,n/<span class="number">2</span>);</span><br><span class="line">    <span class="keyword">if</span>(n%<span class="number">2</span>==<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> res*res;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res*res*x;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ ¸å¿ƒæ€æƒ³å°±æ˜¯ <code>x^n=(x^2/n)^2</code>ï¼Œå¸¸è§„ç´¯ä¹˜çš„æ–¹å¼è®¡ç®—æ—¶é—´å¤æ‚åº¦æ˜¯ O(N) å› ä¸ºè¦éå†æ‰€æœ‰çš„å…ƒç´ ï¼Œä½†æ˜¯å…¶å®çŸ¥é“äº†<code>x^n/2</code>ä¹‹å <code>x^n</code>å°±å¯ä»¥ç›´æ¥å¹³æ–¹å¾—åˆ°äº†ä¸ç”¨ç»§ç»­éå†ï¼Œæ•´ä½“æ—¶é—´å¤æ‚åº¦ä¸º O(logN) </p>
<p>2019.8.20ï¼Œåˆå†™äº†ä¸€éï¼Œæäº¤ç„¶åæ²¡è¿‡ã€‚çœ‹äº†ä¸‹ç»™çš„æµ‹è¯•ç”¨ä¾‹ï¼Œæœ€åä¸€ä¸ªç»™çš„ n æ˜¯ <code>-2^31</code> ä¹Ÿå°±æ˜¯ int æ•´æ•°çš„æœ€å°å€¼ï¼Œint ç±»å‹çš„å–å€¼èŒƒå›´æ˜¯ <code>-2^31 ~ 2^31-1</code> è€Œè¿™ä¸ªè´Ÿå€¼åœ¨è¿™é‡Œå–åä¹‹åä¼šç›´æ¥æº¢å‡ºæœ€åå¾—åˆ°çš„è¿˜æ˜¯ <code>-2^31</code> ï¼Œæ‰€ä»¥è¿™é‡Œè¿™æ ·å†™ if ä¼šæ‰§è¡Œä¸¤æ¬¡ï¼Œx å°±åˆä¼šå˜å›æ¥ï¼Œæ‰€ä»¥ç»“æœç›´æ¥å°±æ˜¯<code>Infinity</code>æ— ç©·å¤§äº†ï¼Œæ‰€ä»¥ä¸ºäº†ä¿è¯ if åªä¼šæ‰§è¡Œä¸€æ¬¡å¯ä»¥å°†å…¶å°è£…ä¸€ä¸‹</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">double</span> <span class="title function_">myPow</span><span class="params">(<span class="type">double</span> x, <span class="type">int</span> n)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span>(n&lt;<span class="number">0</span>)&#123;</span><br><span class="line">        x=<span class="number">1</span>/x;</span><br><span class="line">        n=-n;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> fastPow(x,n);</span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">double</span> <span class="title function_">fastPow</span><span class="params">(<span class="type">double</span> x,<span class="type">int</span> n)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(n==<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1.0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">double</span>  half=fastPow(x,n/<span class="number">2</span>);</span><br><span class="line">    <span class="keyword">if</span>(n%<span class="number">2</span>==<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> half*half;</span><br><span class="line">    <span class="keyword">return</span> half*half*x;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="5222-åˆ†å‰²å¹³è¡¡å­—ç¬¦ä¸²"><a href="#5222-åˆ†å‰²å¹³è¡¡å­—ç¬¦ä¸²" class="headerlink" title="5222. åˆ†å‰²å¹³è¡¡å­—ç¬¦ä¸²"></a>5222. åˆ†å‰²å¹³è¡¡å­—ç¬¦ä¸²</h2><p>åœ¨ä¸€ä¸ªã€Œå¹³è¡¡å­—ç¬¦ä¸²ã€ä¸­ï¼Œâ€™Lâ€™ å’Œ â€˜Râ€™ å­—ç¬¦çš„æ•°é‡æ˜¯ç›¸åŒçš„ã€‚</p>
<p>ç»™å‡ºä¸€ä¸ªå¹³è¡¡å­—ç¬¦ä¸² <code>s</code>ï¼Œè¯·ä½ å°†å®ƒåˆ†å‰²æˆå°½å¯èƒ½å¤šçš„å¹³è¡¡å­—ç¬¦ä¸²ã€‚</p>
<p>è¿”å›å¯ä»¥é€šè¿‡åˆ†å‰²å¾—åˆ°çš„å¹³è¡¡å­—ç¬¦ä¸²çš„æœ€å¤§æ•°é‡</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = <span class="string">&quot;RLRRLLRLRL&quot;</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">4</span></span><br><span class="line">è§£é‡Šï¼šs å¯ä»¥åˆ†å‰²ä¸º <span class="string">&quot;RL&quot;</span>, <span class="string">&quot;RRLL&quot;</span>, <span class="string">&quot;RL&quot;</span>, <span class="string">&quot;RL&quot;</span>, æ¯ä¸ªå­å­—ç¬¦ä¸²ä¸­éƒ½åŒ…å«ç›¸åŒæ•°é‡çš„ <span class="string">&#x27;L&#x27;</span> å’Œ <span class="string">&#x27;R&#x27;</span>ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = <span class="string">&quot;RLLLLRRRLR&quot;</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">3</span></span><br><span class="line">è§£é‡Šï¼šs å¯ä»¥åˆ†å‰²ä¸º <span class="string">&quot;RL&quot;</span>, <span class="string">&quot;LLLRRR&quot;</span>, <span class="string">&quot;LR&quot;</span>, æ¯ä¸ªå­å­—ç¬¦ä¸²ä¸­éƒ½åŒ…å«ç›¸åŒæ•°é‡çš„ <span class="string">&#x27;L&#x27;</span> å’Œ <span class="string">&#x27;R&#x27;</span>ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = <span class="string">&quot;LLLLRRRR&quot;</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">1</span></span><br><span class="line">è§£é‡Šï¼šs åªèƒ½ä¿æŒåŸæ · <span class="string">&quot;LLLLRRRR&quot;</span>.</span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= s.length &lt;= 1000</code></li>
<li><code>s[i] = &#39;L&#39; æˆ– &#39;R&#39;</code></li>
</ul>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>19.10.13 çš„å‘¨èµ›çš„ç¬¬ 1 é¢˜ï¼Œæœç„¶æ¯”èµ›å’Œåˆ·é¢˜è¿˜æ˜¯ä¸ä¸€æ ·ï¼Œå·®ç‚¹æ²¡åšå‡ºæ¥ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">balancedStringSplit</span><span class="params">(String s)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (s.length()%<span class="number">2</span>==<span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    Stack&lt;Character&gt; stack=<span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();</span><br><span class="line">    <span class="type">int</span> count=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;s.length();i++)&#123;</span><br><span class="line">        <span class="keyword">if</span> (!stack.isEmpty() )&#123;</span><br><span class="line">            <span class="keyword">if</span>(s.charAt(i)==stack.peek()) &#123;</span><br><span class="line">                stack.push(s.charAt(i));    </span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                stack.pop();</span><br><span class="line">                <span class="keyword">if</span> (stack.isEmpty()) &#123;</span><br><span class="line">                    count++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            stack.push(s.charAt(i));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="1249-ç§»é™¤æ— æ•ˆçš„æ‹¬å·"><a href="#1249-ç§»é™¤æ— æ•ˆçš„æ‹¬å·" class="headerlink" title="1249. ç§»é™¤æ— æ•ˆçš„æ‹¬å·"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/minimum-remove-to-make-valid-parentheses/">1249. ç§»é™¤æ— æ•ˆçš„æ‹¬å·</a></h2><p>ç»™ä½ ä¸€ä¸ªç”± â€˜(â€˜ã€â€™)â€™ å’Œå°å†™å­—æ¯ç»„æˆçš„å­—ç¬¦ä¸² sã€‚</p>
<p>ä½ éœ€è¦ä»å­—ç¬¦ä¸²ä¸­åˆ é™¤æœ€å°‘æ•°ç›®çš„ â€˜(â€˜ æˆ–è€… â€˜)â€™ ï¼ˆå¯ä»¥åˆ é™¤ä»»æ„ä½ç½®çš„æ‹¬å·ï¼‰ï¼Œä½¿å¾—å‰©ä¸‹çš„ã€Œæ‹¬å·å­—ç¬¦ä¸²ã€æœ‰æ•ˆã€‚</p>
<p>è¯·è¿”å›ä»»æ„ä¸€ä¸ªåˆæ³•å­—ç¬¦ä¸²ã€‚</p>
<p>æœ‰æ•ˆã€Œæ‹¬å·å­—ç¬¦ä¸²ã€åº”å½“ç¬¦åˆä»¥ä¸‹ <strong>ä»»æ„ä¸€æ¡</strong> è¦æ±‚ï¼š</p>
<ul>
<li>ç©ºå­—ç¬¦ä¸²æˆ–åªåŒ…å«å°å†™å­—æ¯çš„å­—ç¬¦ä¸²</li>
<li>å¯ä»¥è¢«å†™ä½œ ABï¼ˆA è¿æ¥ Bï¼‰çš„å­—ç¬¦ä¸²ï¼Œå…¶ä¸­ A å’Œ B éƒ½æ˜¯æœ‰æ•ˆã€Œæ‹¬å·å­—ç¬¦ä¸²ã€</li>
<li>å¯ä»¥è¢«å†™ä½œ (A) çš„å­—ç¬¦ä¸²ï¼Œå…¶ä¸­ A æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„ã€Œæ‹¬å·å­—ç¬¦ä¸²ã€</li>
</ul>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = <span class="string">&quot;lee(t(c)o)de)&quot;</span></span><br><span class="line">è¾“å‡ºï¼š<span class="string">&quot;lee(t(c)o)de&quot;</span></span><br><span class="line">è§£é‡Šï¼š<span class="string">&quot;lee(t(co)de)&quot;</span> , <span class="string">&quot;lee(t(c)ode)&quot;</span> ä¹Ÿæ˜¯ä¸€ä¸ªå¯è¡Œç­”æ¡ˆã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = <span class="string">&quot;a)b(c)d&quot;</span></span><br><span class="line">è¾“å‡ºï¼š<span class="string">&quot;ab(c)d&quot;</span></span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = <span class="string">&quot;))((&quot;</span></span><br><span class="line">è¾“å‡ºï¼š<span class="string">&quot;&quot;</span></span><br><span class="line">è§£é‡Šï¼šç©ºå­—ç¬¦ä¸²ä¹Ÿæ˜¯æœ‰æ•ˆçš„</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 4ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = <span class="string">&quot;(a(b(c)d)&quot;</span></span><br><span class="line">è¾“å‡ºï¼š<span class="string">&quot;a(b(c)d)&quot;</span></span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= s.length &lt;= 10^5</code></li>
<li><code>s[i]</code> å¯èƒ½æ˜¯ <code>&#39;(&#39;</code>ã€<code>&#39;)&#39;</code> æˆ–è‹±æ–‡å°å†™å­—æ¯ </li>
</ul>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>11.3 å‘¨èµ›ç¬¬ä¸‰é¢˜ï¼Œè¿™é¢˜å€’æ˜¯æ²¡ä»€ä¹ˆéšœç¢ï¼Œç”¨æ ˆå°± okï¼Œä¸è¿‡æˆ‘è¿™é‡Œå®ç°çš„ä¸å¤ªå¥½ï¼Œreplace æ—¶é—´å¤æ‚åº¦ç•¥é«˜ï¼Œåº”è¯¥ç”¨ä¸€ä¸ªæ•°ç»„åš mark æœ€åç”¨ StringBuilder åš append åº”è¯¥æ•ˆç‡ä¼šé«˜å¾ˆå¤š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> String <span class="title function_">minRemoveToMakeValid</span><span class="params">(String s)</span> &#123;</span><br><span class="line">    StringBuilder sb=<span class="keyword">new</span> <span class="title class_">StringBuilder</span>(s);</span><br><span class="line">    Stack&lt;Integer&gt; stack=<span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>;i&lt;s.length();i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (s.charAt(i)&gt;=<span class="string">&#x27;a&#x27;</span> &amp;&amp; s.charAt(i)&lt;=<span class="string">&#x27;z&#x27;</span>) &#123;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (s.charAt(i)==<span class="string">&#x27;)&#x27;</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (stack.isEmpty()) &#123;</span><br><span class="line">                sb.replace(i,i+<span class="number">1</span>,<span class="string">&quot;*&quot;</span>);    </span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                stack.pop();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (s.charAt(i)==<span class="string">&#x27;(&#x27;</span>) &#123;</span><br><span class="line">            stack.push(i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (!stack.isEmpty()) &#123;</span><br><span class="line">        <span class="type">int</span> temp=stack.pop();</span><br><span class="line">        sb.replace(temp,temp+<span class="number">1</span>,<span class="string">&quot;*&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    String res=sb.toString().replace(<span class="string">&quot;*&quot;</span>,<span class="string">&quot;&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="856-æ‹¬å·çš„åˆ†æ•°"><a href="#856-æ‹¬å·çš„åˆ†æ•°" class="headerlink" title="856. æ‹¬å·çš„åˆ†æ•°"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/score-of-parentheses/">856. æ‹¬å·çš„åˆ†æ•°</a></h2><p>ç»™å®šä¸€ä¸ªå¹³è¡¡æ‹¬å·å­—ç¬¦ä¸² Sï¼ŒæŒ‰ä¸‹è¿°è§„åˆ™è®¡ç®—è¯¥å­—ç¬¦ä¸²çš„åˆ†æ•°ï¼š</p>
<ul>
<li>() å¾— 1 åˆ†ã€‚</li>
<li>AB å¾— A + B åˆ†ï¼Œå…¶ä¸­ A å’Œ B æ˜¯å¹³è¡¡æ‹¬å·å­—ç¬¦ä¸²ã€‚</li>
<li>(A) å¾— 2 * A åˆ†ï¼Œå…¶ä¸­ A æ˜¯å¹³è¡¡æ‹¬å·å­—ç¬¦ä¸²ã€‚</li>
</ul>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š <span class="string">&quot;()&quot;</span></span><br><span class="line">è¾“å‡ºï¼š <span class="number">1</span></span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š <span class="string">&quot;(())&quot;</span></span><br><span class="line">è¾“å‡ºï¼š <span class="number">2</span></span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š <span class="string">&quot;()()&quot;</span></span><br><span class="line">è¾“å‡ºï¼š <span class="number">2</span></span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 4ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š <span class="string">&quot;(()(()))&quot;</span></span><br><span class="line">è¾“å‡ºï¼š <span class="number">6</span></span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ol>
<li>S æ˜¯å¹³è¡¡æ‹¬å·å­—ç¬¦ä¸²ï¼Œä¸”åªå«æœ‰ ( å’Œ ) ã€‚</li>
<li>2 &lt;= S.length &lt;= 50</li>
</ol>
<p><strong>è§£æ³•ä¸€</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">scoreOfParentheses</span><span class="params">(String S)</span> &#123;</span><br><span class="line">    Stack&lt;Integer&gt; stack=<span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;S.length();i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(S.charAt(i)==<span class="string">&#x27;(&#x27;</span>)&#123;</span><br><span class="line">            stack.push(-<span class="number">11111</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="comment">//é‡åˆ°å³æ‹¬å·ï¼Œä¸‹é¢çš„åˆ†æ”¯éƒ½æ˜¯å¤„ç† &quot;)&quot;</span></span><br><span class="line">            <span class="type">int</span> top=stack.peek();</span><br><span class="line">            <span class="keyword">if</span>(top == -<span class="number">11111</span>)&#123; <span class="comment">//æ ˆé¡¶æ˜¯å·¦æ‹¬å·ï¼Œå°† ( --&gt; 1</span></span><br><span class="line">                stack.pop();</span><br><span class="line">                stack.push(<span class="number">1</span>);</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="type">int</span> sum=<span class="number">0</span>; <span class="comment">//é‡åˆ°æ•°å€¼äº†</span></span><br><span class="line">                <span class="keyword">while</span>(!stack.isEmpty())&#123;</span><br><span class="line">                    <span class="type">int</span> temp=stack.pop();</span><br><span class="line">                    <span class="comment">//å¼¹å‡ºå»ï¼Œç›´åˆ°é‡åˆ° &quot;(&quot;å°±* 2, å…¶å®å°±æ˜¯æŠŠ&quot;(1&quot;--&gt;2</span></span><br><span class="line">                    <span class="keyword">if</span>(temp==-<span class="number">11111</span>)&#123; </span><br><span class="line">                        sum*=<span class="number">2</span>;</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    sum+=temp;</span><br><span class="line">                &#125;</span><br><span class="line">                stack.push(sum);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> res=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(!stack.isEmpty()) res+=stack.pop();</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™ç§è§£æ³•ä¸€å¼€å§‹ä¹Ÿæ²¡æƒ³å‡ºæ¥ï¼Œå…¶å®è¿™ç§å°±ç±»ä¼¼äºæ¶ˆæ¶ˆä¹æ¸¸æˆä¸€æ ·ï¼Œå°±æŒ‰ç…§é¢˜ç›®çš„é€»è¾‘æ¥å†™ï¼Œä»å·¦å‘å³ï¼Œæ ˆä¸­å­˜æ ‡è¯†å·¦æ‹¬å·çš„æ•°å€¼ï¼Œè¿™é‡Œæˆ‘ç”¨çš„<code>-11111</code> è¡¨ç¤º<code>ï¼ˆ</code> ï¼Œç„¶åå‘å³ç§»åŠ¨ï¼Œä¸€è¾¹ç§»åŠ¨ä¸€è¾¹å°†<code>ï¼ˆï¼‰</code>ç»™æ¶ˆé™¤æ‰ï¼Œå…¶å®ä¸Šé¢çš„é€»è¾‘è‡ªå·±èµ°ä¸€è¾¹å°±é€šäº†</p>
<p><strong>è§£æ³•äºŒ</strong></p>
<p>è¿™ä¸ªè§£æ³•å°±å¸¦æœ‰ç‚¹æŠ€å·§æ€§äº†ï¼Œçœ‹æ‡‚ä¸Šé¢çš„æ³¨é‡Šï¼Œä¸‹é¢çš„ä»£ç å°±å¾ˆç®€å•äº†</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// (()(())) = 2*()+2*(())= (())+((()))</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">scoreOfParentheses</span><span class="params">(String S)</span> &#123;</span><br><span class="line">    <span class="type">int</span> k=<span class="number">0</span>,res=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>;i&lt;S.length();i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (S.charAt(i)==<span class="string">&#x27;(&#x27;</span>) &#123;</span><br><span class="line">            k++; <span class="comment">//k ç”¨æ¥è®¡ç®—æ‹¬å·çš„æ·±åº¦</span></span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            k--;</span><br><span class="line">            <span class="keyword">if</span> (S.charAt(i-<span class="number">1</span>)==<span class="string">&#x27;(&#x27;</span>) &#123;</span><br><span class="line">                <span class="comment">//&quot;()&quot;é—­åˆçš„æ—¶å€™è®¡ç®—ä¸€æ³¢</span></span><br><span class="line">                res+= <span class="number">1</span>&lt;&lt;k; <span class="comment">//2^k</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="946-éªŒè¯æ ˆåºåˆ—"><a href="#946-éªŒè¯æ ˆåºåˆ—" class="headerlink" title="946. éªŒè¯æ ˆåºåˆ—"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/validate-stack-sequences/">946. éªŒè¯æ ˆåºåˆ—</a></h2><p>ç»™å®š <code>pushed</code> å’Œ <code>popped</code> ä¸¤ä¸ªåºåˆ—ï¼Œæ¯ä¸ªåºåˆ—ä¸­çš„ å€¼éƒ½ä¸é‡å¤ï¼Œåªæœ‰å½“å®ƒä»¬å¯èƒ½æ˜¯åœ¨æœ€åˆç©ºæ ˆä¸Šè¿›è¡Œçš„æ¨å…¥ <code>push</code> å’Œå¼¹å‡º pop æ“ä½œåºåˆ—çš„ç»“æœæ—¶ï¼Œè¿”å› <code>true</code> å¦åˆ™ï¼Œè¿”å› <code>false</code> </p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼špushed = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>], popped = [<span class="number">4</span>,<span class="number">5</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">1</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="literal">true</span></span><br><span class="line">è§£é‡Šï¼šæˆ‘ä»¬å¯ä»¥æŒ‰ä»¥ä¸‹é¡ºåºæ‰§è¡Œï¼š</span><br><span class="line">push(<span class="number">1</span>), push(<span class="number">2</span>), push(<span class="number">3</span>), push(<span class="number">4</span>), pop() -&gt; <span class="number">4</span>,</span><br><span class="line">push(<span class="number">5</span>), pop() -&gt; <span class="number">5</span>, pop() -&gt; <span class="number">3</span>, pop() -&gt; <span class="number">2</span>, pop() -&gt; <span class="number">1</span></span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼špushed = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>], popped = [<span class="number">4</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">1</span>,<span class="number">2</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="literal">false</span></span><br><span class="line">è§£é‡Šï¼š<span class="number">1</span> ä¸èƒ½åœ¨ <span class="number">2</span> ä¹‹å‰å¼¹å‡ºã€‚</span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ol>
<li><code>0 &lt;= pushed.length == popped.length &lt;= 1000</code></li>
<li><code>0 &lt;= pushed[i], popped[i] &lt; 1000</code></li>
<li><code>pushed</code> æ˜¯ <code>popped</code> çš„æ’åˆ—</li>
</ol>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>ç›´æ¥ç”¨æ ˆæ¨¡æ‹Ÿï¼Œå¯æƒœæ²¡æœ‰ bugfreeâ€¦</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">validateStackSequences</span><span class="params">(<span class="type">int</span>[] pushed, <span class="type">int</span>[] popped)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span>(pushed==<span class="literal">null</span> || pushed.length&lt;=<span class="number">0</span>) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    Deque&lt;Integer&gt; stack=<span class="keyword">new</span> <span class="title class_">ArrayDeque</span>&lt;&gt;();</span><br><span class="line">    <span class="type">int</span> popIndex=<span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> pushIndex=<span class="number">0</span>;</span><br><span class="line">    <span class="comment">//pushed = [1,2,3,4,5], popped = [4,5,3,2,1]</span></span><br><span class="line">    <span class="comment">//[1,2,3,4,5]      [4,3,5,1,2]</span></span><br><span class="line">    <span class="comment">//[1,0] [1,0]</span></span><br><span class="line">    <span class="keyword">while</span>(pushIndex&lt;pushed.length)&#123;</span><br><span class="line">        stack.push(pushed[pushIndex++]);</span><br><span class="line">        <span class="keyword">while</span>(!stack.isEmpty()&amp;&amp;popped[popIndex]==stack.peek())&#123;</span><br><span class="line">            stack.pop();</span><br><span class="line">            popIndex++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> stack.isEmpty();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ¯è¿›ä¸€ä¸ªå…ƒç´ å°±åˆ¤æ–­æ ˆé¡¶å’Œå‡ºæ ˆé¡ºåºçš„å¤´æ˜¯å¦ç›¸ç­‰ï¼Œç„¶åå‡ºæ ˆï¼Œæœ€åçœ‹æ ˆä¸­æ˜¯å¦ä¸ºç©ºå°± ok</p>
<h2 id="NC560-æ‰“å­—"><a href="#NC560-æ‰“å­—" class="headerlink" title="NC560. æ‰“å­—"></a><a target="_blank" rel="noopener" href="https://www.nowcoder.com/practice/7819ebf1369044e5bee2f9848d9c6c72">NC560. æ‰“å­—</a></h2><p>ç‰›å¦¹åœ¨ç»ƒä¹ æ‰“å­—ï¼Œç°åœ¨æŒ‰ç…§æ—¶é—´é¡ºåºç»™å‡ºç‰›å¦¹æŒ‰ä¸‹çš„é”®ï¼ˆä»¥å­—ç¬¦ä¸²å½¢å¼ç»™å‡ºï¼Œâ€™&lt;â€™ä»£è¡¨å›é€€ backspaceï¼Œå…¶ä½™å­—ç¬¦å‡æ˜¯ç‰›å¦¹æ‰“çš„å­—ç¬¦ï¼Œå­—ç¬¦åªåŒ…å«å°å†™å­—æ¯ä¸â€™&lt;â€™ï¼‰ï¼Œç‰›å¦¹æƒ³çŸ¥é“æœ€ååœ¨å±å¹•ä¸Šæ˜¾ç¤ºçš„æ–‡æœ¬å†…å®¹æ˜¯ä»€ä¹ˆã€‚<br>åœ¨æ–‡æœ¬å†…å®¹ä¸ºç©ºçš„æ—¶å€™ä¹Ÿå¯ä»¥æŒ‰å›é€€ backspaceï¼ˆåœ¨è¿™ç§æƒ…å†µä¸‹æ²¡æœ‰ä»»ä½•æ•ˆæœï¼‰ã€‚<br><strong>ç¤ºä¾‹ 1</strong></p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š<span class="string">&quot;acv&lt;&quot;</span></span><br><span class="line">è¾“å‡ºï¼š<span class="string">&quot;ac&quot;</span></span><br><span class="line">è¯´æ˜ï¼š</span><br><span class="line">ç‰›å¦¹åœ¨æ‰“å®Œ<span class="string">&quot;acv&quot;</span>ä¹‹åæŒ‰äº†å›é€€ï¼Œæ‰€ä»¥æœ€åæ˜¯<span class="string">&quot;ac&quot;</span></span><br></pre></td></tr></table></figure>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>ä¹Ÿå¯ä»¥ç›´æ¥æ•°ç»„æ¨¡æ‹Ÿ</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> String <span class="title function_">Typing</span> <span class="params">(String s)</span> &#123;</span><br><span class="line">    <span class="comment">// write code here</span></span><br><span class="line">    Deque&lt;Integer&gt; stack = <span class="keyword">new</span> <span class="title class_">ArrayDeque</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; s.length(); i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (s.charAt(i) == <span class="string">&#x27;&lt;&#x27;</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (stack.isEmpty()) &#123;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            stack.pop();</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            stack.push(i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">StringBuilder</span> <span class="variable">sb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">    <span class="keyword">while</span>(!stack.isEmpty())&#123;</span><br><span class="line">        sb.append(s.charAt(stack.pop()));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sb.reverse().toString();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="BFS-å¹¿æœ"><a href="#BFS-å¹¿æœ" class="headerlink" title="BFS å¹¿æœ"></a><em>BFS å¹¿æœ</em></h2><h2 id="279-å®Œå…¨å¹³æ–¹æ•°"><a href="#279-å®Œå…¨å¹³æ–¹æ•°" class="headerlink" title="279. å®Œå…¨å¹³æ–¹æ•°"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/perfect-squares/">279. å®Œå…¨å¹³æ–¹æ•°</a></h2><p>ç»™å®šæ­£æ•´æ•° nï¼Œæ‰¾åˆ°è‹¥å¹²ä¸ªå®Œå…¨å¹³æ–¹æ•°ï¼ˆæ¯”å¦‚ 1, 4, 9, 16, â€¦ï¼‰ä½¿å¾—å®ƒä»¬çš„å’Œç­‰äº nã€‚ä½ éœ€è¦è®©ç»„æˆå’Œçš„å®Œå…¨å¹³æ–¹æ•°çš„ä¸ªæ•°æœ€å°‘</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šn = <span class="number">12</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">3</span> </span><br><span class="line">è§£é‡Šï¼š<span class="number">12</span> = <span class="number">4</span> + <span class="number">4</span> + <span class="number">4.</span></span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šn = <span class="number">13</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">2</span></span><br><span class="line">è§£é‡Šï¼š<span class="number">13</span> = <span class="number">4</span> + <span class="number">9.</span></span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•ä¸€</strong></p>
<p>è¿™é¢˜åœ¨ä¸Šä¸€ç¯‡ <a href="http://imlgw.top/2019/09/01/leetcode-dong-tai-gui-hua/">dp ä¸“é¢˜</a> ä¸­æœ‰è®²è¿‡ï¼Œä¸è¿‡æ˜¯ dp çš„è§£æ³•ï¼Œè¿™é‡Œä¸»è¦è®°å½• BFS çš„è§£æ³•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">numSquares2</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">    Queue&lt;Pair&gt; queue=<span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    <span class="type">boolean</span>[] visit=<span class="keyword">new</span> <span class="title class_">boolean</span>[n+<span class="number">1</span>];</span><br><span class="line">    queue.add(<span class="keyword">new</span> <span class="title class_">Pair</span>(n,<span class="number">0</span>));</span><br><span class="line">    visit[n]=<span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">while</span>(!queue.isEmpty())&#123;</span><br><span class="line">        Pair pair=queue.poll();</span><br><span class="line">        <span class="type">int</span> num=pair.num;</span><br><span class="line">        <span class="type">int</span> step=pair.step;</span><br><span class="line">        <span class="comment">//nums=0 è¯´æ˜æ‰¾åˆ°äº†ï¼Œå¹¶ä¸”ä¸€å®šæ˜¯æœ€çŸ­çš„</span></span><br><span class="line">        <span class="keyword">if</span> (num==<span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> step;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">1</span>;i*i&lt;=num;i++) &#123;</span><br><span class="line">            <span class="type">int</span> temp=num-i*i;</span><br><span class="line">            <span class="comment">//æ³¨æ„ä¸è¦æ·»åŠ é‡å¤çš„å…ƒç´ </span></span><br><span class="line">            <span class="keyword">if</span> (!visit[temp]) &#123;</span><br><span class="line">                queue.add(<span class="keyword">new</span> <span class="title class_">Pair</span>(temp,step+<span class="number">1</span>));</span><br><span class="line">                visit[temp]=<span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">Pair</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> step;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> num;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Pair</span><span class="params">(<span class="type">int</span> num,<span class="type">int</span> step)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.num=num;</span><br><span class="line">        <span class="built_in">this</span>.step=step;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>30ms 90%ï¼Œæ¯” dp çš„æ–¹å¼ä¼šå¿«å¾ˆå¤šï¼Œæ€è·¯å°±æ˜¯å°†è¿™ä¸ªé—®é¢˜è½¬æ¢ä¸ºæ±‚å›¾çš„æœ€çŸ­è·¯å¾„çš„é—®é¢˜ï¼Œæ‰¾åˆ°ä¸€ä¸ªæœ€çŸ­çš„ä» n åˆ° 0 çš„ä»¥å¹³æ–¹æ•°ä¸ºå·®çš„è·¯å¾„</p>
<h2 id="127-å•è¯æ¥é¾™"><a href="#127-å•è¯æ¥é¾™" class="headerlink" title="127. å•è¯æ¥é¾™"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/word-ladder/">127. å•è¯æ¥é¾™</a></h2><p>Given two words (<em>beginWord</em> and <em>endWord</em>), and a dictionaryâ€™s word list, find the length of shortest transformation sequence from <em>beginWord</em> to <em>endWord</em>, such that:</p>
<ol>
<li>Only one letter can be changed at a time.</li>
<li>Each transformed word must exist in the word list. Note that <em>beginWord</em> is <em>not</em> a transformed word.</li>
</ol>
<p><strong>Note:</strong></p>
<ul>
<li>Return 0 if there is no such transformation sequence.</li>
<li>All words have the same length.</li>
<li>All words contain only lowercase alphabetic characters.</li>
<li>You may assume no duplicates in the word list.</li>
<li>You may assume <em>beginWord</em> and <em>endWord</em> are non-empty and are not the same.</li>
</ul>
<p><strong>Example 1:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Input:</span><br><span class="line">beginWord = <span class="string">&quot;hit&quot;</span>,</span><br><span class="line">endWord = <span class="string">&quot;cog&quot;</span>,</span><br><span class="line">wordList = [<span class="string">&quot;hot&quot;</span>,<span class="string">&quot;dot&quot;</span>,<span class="string">&quot;dog&quot;</span>,<span class="string">&quot;lot&quot;</span>,<span class="string">&quot;log&quot;</span>,<span class="string">&quot;cog&quot;</span>]</span><br><span class="line"></span><br><span class="line">Output: <span class="number">5</span></span><br><span class="line"></span><br><span class="line">Explanation: As one shortest transformation is <span class="string">&quot;hit&quot;</span> -&gt; <span class="string">&quot;hot&quot;</span> -&gt; <span class="string">&quot;dot&quot;</span> -&gt; <span class="string">&quot;dog&quot;</span> -&gt; <span class="string">&quot;cog&quot;</span>,</span><br><span class="line"><span class="keyword">return</span> its length <span class="number">5.</span></span><br></pre></td></tr></table></figure>

<p><strong>Example 2:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Input:</span><br><span class="line">beginWord = <span class="string">&quot;hit&quot;</span></span><br><span class="line">endWord = <span class="string">&quot;cog&quot;</span></span><br><span class="line">wordList = [<span class="string">&quot;hot&quot;</span>,<span class="string">&quot;dot&quot;</span>,<span class="string">&quot;dog&quot;</span>,<span class="string">&quot;lot&quot;</span>,<span class="string">&quot;log&quot;</span>]</span><br><span class="line"></span><br><span class="line">Output: <span class="number">0</span></span><br><span class="line"></span><br><span class="line">Explanation: The endWord <span class="string">&quot;cog&quot;</span> is not in wordList, therefore no possible transformation.</span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•ä¸€</strong></p>
<p>è¿™é¢˜å…¶å®å¾ˆä¹…ä»¥å‰å°±å†™è¿‡äº†ï¼Œå½“æ—¶æ˜¯çœ‹äº†å•Šå“ˆç®—æ³•çš„ä¸€äº› BFS ç®—æ³•ç„¶åä»¿ç…§ä¹¦ä¸Šçš„å†™çš„ï¼Œä¹¦ä¸Šæ˜¯ C è¯­è¨€å†™çš„ï¼Œæ‰€ä»¥æœ€åæˆ‘å†™çš„æ—¶å€™ä¹ŸæŒ‰ç…§ C çš„æ ¼å¼å»å†™äº†ğŸ˜…ï¼Œå†™çš„è´¼å•°å—¦ï¼Œç°åœ¨åˆç”¨â€Javaâ€çš„æ–¹å¼åˆé‡æ–°å†™äº†ä¸€é</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span>[] mark;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="variable">min</span> <span class="operator">=</span> Integer.MAX_VALUE;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">ladderLength</span><span class="params">(String beginWord, String endWord, List&lt;String&gt; wordList)</span>     &#123;</span><br><span class="line">    <span class="comment">// ä¸å­˜åœ¨</span></span><br><span class="line">    mark = <span class="keyword">new</span> <span class="title class_">int</span>[wordList.size() + <span class="number">1</span>];</span><br><span class="line">    <span class="keyword">if</span> (!wordList.contains(endWord)) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// BFS</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">head</span> <span class="operator">=</span> <span class="number">0</span>, tail = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// åˆå§‹åŒ–é˜Ÿåˆ—</span></span><br><span class="line">    Que[] que = <span class="keyword">new</span> <span class="title class_">Que</span>[wordList.size() + <span class="number">1</span>];</span><br><span class="line">    <span class="comment">// å¾ªç¯ä¿ƒä½¿è¯è¿°ç¥–</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; que.length; i++) &#123;</span><br><span class="line">        que[i] = <span class="keyword">new</span> <span class="title class_">Que</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    que[tail].word = beginWord;</span><br><span class="line">    que[tail].step = <span class="number">1</span>;</span><br><span class="line">    tail++;</span><br><span class="line">    <span class="type">int</span> flag=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (head &lt; tail) &#123;</span><br><span class="line">        <span class="comment">// éå†å­—å…¸</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; wordList.size(); i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (mark[i] == <span class="number">0</span> &amp;&amp; cmp(wordList.get(i), que[head].word)) &#123;</span><br><span class="line">                que[tail].word = wordList.get(i);</span><br><span class="line">                <span class="comment">//è¿™é‡Œæ˜¯ä» head å¼€å§‹çš„ï¼Œæ‰€ä»¥åº”è¯¥æ˜¯ head çš„æ­¥æ•°+1</span></span><br><span class="line">                que[tail].step=que[head].step+<span class="number">1</span>;</span><br><span class="line">                <span class="comment">// æ ‡è®°ä¸ºå·²ç»èµ°è¿‡</span></span><br><span class="line">                mark[i] = <span class="number">1</span>;</span><br><span class="line">                <span class="comment">// ç»Ÿè®¡æœ€å°æ­¥æ•°</span></span><br><span class="line">               <span class="keyword">if</span> (que[tail].word.equals(endWord)) &#123;</span><br><span class="line">                <span class="comment">//è·³å‡ºå¾ªç¯</span></span><br><span class="line">                    flag=<span class="number">1</span>;</span><br><span class="line">                   <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                tail++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(flag==<span class="number">1</span>)&#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// æ¯æ¬¡æ£€æŸ¥å®Œä¸€ä¸ªå•è¯å°±å°†å…¶å‡ºé˜Ÿåˆ—</span></span><br><span class="line">        head++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> que[tail].step;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å†™ä¸€ä¸ªå‡½æ•°åˆ¤æ®µæ²¡åƒæ˜¯å¦åªå˜åŒ–äº†ä¸€ä¸ªå­—æ¯</span></span><br><span class="line"><span class="keyword">private</span> <span class="type">boolean</span> <span class="title function_">cmp</span><span class="params">(String s1, String s2)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; s1.length(); i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (s1.charAt(i) != s2.charAt(i)) &#123;</span><br><span class="line">            count++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> count == <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å†…éƒ¨ç±»</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Que</span> &#123;</span><br><span class="line">    String word;</span><br><span class="line">    <span class="type">int</span> step;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™å°±æ˜¯å½“æ—¶å†™çš„è§£æ³•ï¼Œæ€è·¯å°±æ˜¯ BFSï¼Œåªä¸è¿‡å†™çš„å¤æ‚äº†</p>
<p><strong>è§£æ³•äºŒ</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">ladderLength</span><span class="params">(String beginWord, String endWord, List&lt;String&gt; wordList)</span>     &#123;</span><br><span class="line">    <span class="comment">//visit æ•°ç»„</span></span><br><span class="line">    <span class="type">boolean</span>[] visit=<span class="keyword">new</span> <span class="title class_">boolean</span>[wordList.size()];</span><br><span class="line">    <span class="keyword">if</span> (!wordList.contains(endWord)) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Queue&lt;Pair&gt; queue=<span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    queue.add(<span class="keyword">new</span> <span class="title class_">Pair</span>(beginWord,<span class="number">1</span>));</span><br><span class="line">    <span class="comment">//int flag=0;</span></span><br><span class="line">    <span class="keyword">while</span> (!queue.isEmpty()) &#123;</span><br><span class="line">        Pair pair=queue.poll();</span><br><span class="line">        <span class="comment">// ç»Ÿè®¡æœ€å°æ­¥æ•°ï¼Œæ”¾åœ¨å†…å¾ªç¯ä¸­ä¼šå¿«ä¸€ç‚¹</span></span><br><span class="line">        <span class="comment">/*if (pair.word.equals(endWord)) &#123;</span></span><br><span class="line"><span class="comment">            return pair.step;</span></span><br><span class="line"><span class="comment">        &#125;*/</span></span><br><span class="line">        <span class="comment">// éå†å­—å…¸</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; wordList.size(); i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (!visit[i] &amp;&amp; cmp(wordList.get(i),pair.word)) &#123;</span><br><span class="line">                <span class="keyword">if</span> (wordList.get(i).equals(endWord)) &#123;</span><br><span class="line">                    <span class="comment">//è¿™é‡ŒåŠ  1 æ˜¯å› ä¸ºå–çš„æ˜¯ pair çš„ step</span></span><br><span class="line">                    <span class="comment">//åˆ°å½“å‰è¿™ä¸ªå•è¯è¿˜è¦å¤šèµ°ä¸€æ­¥</span></span><br><span class="line">                    <span class="keyword">return</span> pair.step+<span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                queue.add(<span class="keyword">new</span> <span class="title class_">Pair</span>(wordList.get(i),pair.step+<span class="number">1</span>));</span><br><span class="line">                <span class="comment">//æ ‡è®°ä¸ºå·²ç»èµ°è¿‡</span></span><br><span class="line">                visit[i] = <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ˜¯å¦åªå˜åŒ–äº†ä¸€ä¸ªå­—ç¬¦</span></span><br><span class="line"><span class="keyword">private</span> <span class="type">boolean</span> <span class="title function_">cmp</span><span class="params">(String s1, String s2)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; s1.length(); i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (s1.charAt(i) != s2.charAt(i)) &#123;</span><br><span class="line">            count++;</span><br><span class="line">            <span class="keyword">if</span> (count&gt;<span class="number">1</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> count == <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//Pair</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Pair</span> &#123;</span><br><span class="line">    String word;</span><br><span class="line">    <span class="type">int</span> step;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Pair</span><span class="params">(String word,<span class="type">int</span> step)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.word=word;</span><br><span class="line">        <span class="built_in">this</span>.step=step;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>273msï¼Œ47%ä¸­è§„ä¸­çŸ©çš„åšæ³•ï¼Œè¿ç»­å†™äº†å¥½å‡ é¢˜ BFS çš„ï¼Œæ€»ç®—æ˜¯å¯¹ BFS çš„æ¿å­æœ‰ç‚¹ç†Ÿæ‚‰äº†ï¼Œè¿™é¢˜è¿˜æœ‰ä¸¤ä¸ªå¯ä»¥ä¼˜åŒ–çš„ç‚¹ â‘  <em>åŒç«¯ BFS</em> â‘¡ _å¯»æ‰¾ä¸‹ä¸€ä¸ªå­—ç¬¦ä¸²çš„æ–¹å¼_ï¼Œåªä¸è¿‡æˆ‘æ²¡å’‹çœ‹æ‡‚ï¼Œç­‰çœ‹æ‡‚äº†å†æ¥è¡¥å……ï¼Œé‚£ç§æ–¹å¼æ—¶é—´å¥½åƒå¯ä»¥ç¼©å‡åˆ° 20ms å†…ã€‚â€¦.</p>
<blockquote>
<p>è¿™é¢˜æœ‰ä¸ªå›°éš¾ç‰ˆæœ¬ï¼Œéœ€è¦æ‰“å°å‡ºæ‰€æœ‰çš„æœ€çŸ­åºåˆ—ï¼Œè¿™ä¸ªåœ¨æˆ‘å¾ˆä¹…ä¹‹å‰çš„ä¸€ç¯‡æ–‡ç« ä¸­ä¹Ÿæœ‰è®²ï¼Œä½†æ˜¯è‡³ä»Šæˆ‘ä¹Ÿè¿˜æ²¡æœ‰ ACï¼Œä¸€ç›´æ˜¯ TLEï¼Œç°åœ¨å›å¤´çœ‹æˆ‘ä¹‹å‰çš„ä»£ç å·²ç»çœ‹ä¸æ‡‚äº†ã€‚å†™äº† 100 å¤šè¡Œï¼Œç•¥å¤æ‚ BFS+DFS çš„åšæ³•ï¼Œå¯èƒ½æ˜¯æ²¡å¤„ç†å¥½æ‰€ä»¥ TLE äº†ï¼Œæ„Ÿå…´è¶£å¯ä»¥çœ‹çœ‹ <a href="http://imlgw.top/2018/10/31/yi-dao-leetcode-yin-fa-de-can-an/#2-%E5%8A%A0%E5%BC%BA%E7%89%88-%E5%8D%95%E8%AF%8D%E6%8E%A5%E9%BE%99-2">é‚£ç¯‡æ–‡ç« </a></p>
</blockquote>
<h2 id="542-01-çŸ©é˜µ"><a href="#542-01-çŸ©é˜µ" class="headerlink" title="542. 01 çŸ©é˜µ"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/01-matrix/">542. 01 çŸ©é˜µ</a></h2><p>ç»™å®šä¸€ä¸ªç”± 0 å’Œ 1 ç»„æˆçš„çŸ©é˜µï¼Œæ‰¾å‡ºæ¯ä¸ªå…ƒç´ åˆ°æœ€è¿‘çš„ 0 çš„è·ç¦»ã€‚</p>
<p>ä¸¤ä¸ªç›¸é‚»å…ƒç´ é—´çš„è·ç¦»ä¸º 1 </p>
<p><strong>ç¤ºä¾‹ 1:</strong><br>è¾“å…¥ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="number">0</span> <span class="number">0</span> <span class="number">0</span></span><br><span class="line"><span class="number">0</span> <span class="number">1</span> <span class="number">0</span></span><br><span class="line"><span class="number">0</span> <span class="number">0</span> <span class="number">0</span></span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="number">0</span> <span class="number">0</span> <span class="number">0</span></span><br><span class="line"><span class="number">0</span> <span class="number">1</span> <span class="number">0</span></span><br><span class="line"><span class="number">0</span> <span class="number">0</span> <span class="number">0</span></span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2:</strong><br>è¾“å…¥ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="number">0</span> <span class="number">0</span> <span class="number">0</span></span><br><span class="line"><span class="number">0</span> <span class="number">1</span> <span class="number">0</span></span><br><span class="line"><span class="number">1</span> <span class="number">1</span> <span class="number">1</span></span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="number">0</span> <span class="number">0</span> <span class="number">0</span></span><br><span class="line"><span class="number">0</span> <span class="number">1</span> <span class="number">0</span></span><br><span class="line"><span class="number">1</span> <span class="number">2</span> <span class="number">1</span></span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„ï¼š</strong></p>
<ul>
<li>ç»™å®šçŸ©é˜µçš„å…ƒç´ ä¸ªæ•°ä¸è¶…è¿‡ 10000</li>
<li>ç»™å®šçŸ©é˜µä¸­è‡³å°‘æœ‰ä¸€ä¸ªå…ƒç´ æ˜¯ 0</li>
<li>çŸ©é˜µä¸­çš„å…ƒç´ åªåœ¨å››ä¸ªæ–¹å‘ä¸Šç›¸é‚»ï¼šä¸Šã€ä¸‹ã€å·¦ã€å³</li>
</ul>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>æ†¨æ†¨çš„ BFS è§£æ³•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//éå†æ¯ä¸€ä¸ª 1,BFS å¯»æ‰¾ç¦»ä»–æœ€è¿‘çš„ 0, ä¸€æ¬¡åªèƒ½ç¡®å®šä¸€ä¸ª 1, æ•ˆç‡ç•¥ä½</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span>[][] updateMatrix(<span class="type">int</span>[][] matrix) &#123;</span><br><span class="line">    <span class="keyword">if</span> (matrix == <span class="literal">null</span> || matrix.length &lt;=<span class="number">0</span> || matrix[<span class="number">0</span>].length &lt;=<span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">int</span>[][]&#123;&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>;i&lt;matrix.length;i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j=<span class="number">0</span>;j&lt;matrix[<span class="number">0</span>].length;j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (matrix[i][j] == <span class="number">1</span>) &#123;</span><br><span class="line">                matrix[i][j]=findMinDis(matrix,i,j);   </span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> matrix;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="type">int</span>[][] direction=&#123;&#123;<span class="number">1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">0</span>,<span class="number">1</span>&#125;,&#123;-<span class="number">1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">0</span>,-<span class="number">1</span>&#125;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">findMinDis</span><span class="params">(<span class="type">int</span>[][] matrix,<span class="type">int</span> x,<span class="type">int</span> y)</span>&#123;</span><br><span class="line">    Queue&lt;Pair&gt; queue=<span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    <span class="comment">//boolean[][] visit=new boolean[matrix.length][matrix[0].length];</span></span><br><span class="line">    queue.add(<span class="keyword">new</span> <span class="title class_">Pair</span>(x,y,<span class="number">0</span>));</span><br><span class="line">    <span class="comment">//visit[x][y]=true;</span></span><br><span class="line">    <span class="keyword">while</span>(!queue.isEmpty())&#123;</span><br><span class="line">        Pair pair=queue.poll();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>;i&lt;direction.length;i++) &#123;</span><br><span class="line">            <span class="type">int</span> nx=pair.x + direction[i][<span class="number">0</span>];</span><br><span class="line">            <span class="type">int</span> ny=pair.y + direction[i][<span class="number">1</span>];</span><br><span class="line">            <span class="keyword">if</span> (isValid(matrix,nx,ny) <span class="comment">/*&amp;&amp; !visit[nx][ny]*/</span>) &#123;</span><br><span class="line">                <span class="comment">//visit[nx][ny]=true;</span></span><br><span class="line">                <span class="keyword">if</span> (matrix[nx][ny] == <span class="number">0</span>) &#123;</span><br><span class="line">                    <span class="keyword">return</span> pair.step+<span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                queue.add(<span class="keyword">new</span> <span class="title class_">Pair</span>(nx,ny,pair.step+<span class="number">1</span>));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>; <span class="comment">//é¢˜ç›®è¯´äº†ä¸€å®šæœ‰ 0, æ‰€ä»¥ä¸ä¼šèµ°åˆ°è¿™é‡Œ</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isValid</span><span class="params">(<span class="type">int</span>[][] matrix,<span class="type">int</span> x,<span class="type">int</span> y)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x&gt;=<span class="number">0</span> &amp;&amp; x&lt;matrix.length &amp;&amp; y&gt;=<span class="number">0</span> &amp;&amp; y&lt;matrix[<span class="number">0</span>].length;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Pair</span>&#123;</span><br><span class="line">    <span class="type">int</span> x;</span><br><span class="line">    <span class="type">int</span> y;</span><br><span class="line">    <span class="type">int</span> step;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Pair</span><span class="params">(<span class="type">int</span> x,<span class="type">int</span> y,<span class="type">int</span> step)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.x=x;</span><br><span class="line">        <span class="built_in">this</span>.y=y;</span><br><span class="line">        <span class="built_in">this</span>.step=step;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¯ä»¥çœ‹åˆ°ä»£ç ä¸­æœ‰å¾ˆæ˜æ˜¾çš„æ”¹åŠ¨ç—•è¿¹ï¼Œæœ€å¼€å§‹æ˜¯ç”¨ visit æ•°ç»„ä¿è¯æ¯ä¸€ä¸ªå…ƒç´ åªä¼šè¿›é˜Ÿåˆ—ä¸€æ¬¡ï¼Œä¸ä¼šé‡å¤çš„è¿›é˜Ÿåˆ—ï¼Œä½†æ˜¯è¿™é‡Œä¸ºä»€ä¹ˆæˆ‘å»æ‰äº†å‘¢ï¼Ÿ</p>
<p>å…¶å®ä¸»è¦æ˜¯ä¸€å¼€å§‹æäº¤çš„è§£æ³•è¶…æ—¶äº†ï¼ŒæŠŠ visit æ•°ç»„å»æ‰å°±è¿‡äº†ï¼Œåœ¨æ•°ç»„è¿‡å¤§çš„æ—¶å€™æ¯æ¬¡ BFS éƒ½è¦å¼€è¾Ÿä¸€ä¸ª matrix å¤§å°çš„ boolean æ•°ç»„ï¼Œè¿™æ— ç–‘ä¼šæå…¶è€—è´¹æ—¶é—´ï¼Œä½†æ˜¯ä¸ºä»€ä¹ˆä¸åŠ  visit æ•°ç»„ä¸ä¼šæ­»å¾ªç¯å‘¢ï¼Ÿ</p>
<p>ç¡®å®ï¼Œå¦‚æœä¸åŠ  visit æ•°ç»„é‚£ä¹ˆç¡®å®æ˜¯æœ‰å¯èƒ½ä¼šå¯¼è‡´æ­»å¾ªç¯çš„ï¼Œä¸¤ä¸ªèŠ‚ç‚¹äº’ç›¸é‡å¤æ·»åŠ å¯¹æ–¹ï¼Œä½†æ˜¯è¿™ä¸€é¢˜æœ‰ä¸ªå¾ˆå…³é”®çš„åœ°æ–¹ï¼Œé¢˜ç›®è¯´æ˜äº†ä¸€å®šä¼šæœ‰ 0ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸€å®šä¼šè§£ï¼Œé‚£ä¹ˆå°±ä¸ä¼šæ­»å¾ªç¯ï¼Œä¸¾ä¸€ä¸ªå¾ˆç®€å•çš„ä¾‹å­</p>
<p><code>ã€0ï¼Œ1ï¼Œ1ã€‘</code> è¿™é‡Œæˆ‘ä»¬å…ˆè€ƒè™‘ä¸­é—´çš„ 1ï¼Œç„¶åæˆ‘ä»¬æŒ‰ç…§ä¸‹å³ä¸Šå·¦çš„é¡ºåºå»æ·»åŠ å‘¨å›´çš„èŠ‚ç‚¹ï¼Œé‚£ä¹ˆé˜Ÿåˆ—ä¸­å°±ä¸ºæœ«å°¾çš„<code>[1]</code> ï¼Œå½“éå†åˆ°å³çš„æ—¶å€™å‘ç°æ˜¯ 0ï¼Œç›´æ¥ returnï¼Œç„¶åæˆ‘ä»¬è€ƒè™‘ä¸‹ä¸€ä¸ª 1ï¼Œè½¬äº†ä¸€åœˆé˜Ÿåˆ—ä¸­åªæœ‰ä¸€ä¸ªä¸­é—´çš„<code>[1]</code> ï¼Œ ç„¶åæˆ‘ä»¬åˆé‡å¤åˆšåˆšçš„æ­¥éª¤ä¼šå°†æœ«å°¾çš„ 1 åˆåŠ å…¥é˜Ÿåˆ—ï¼Œä½†æ˜¯ä¸‹ä¸€æ¬¡éå†å°±ä¼šæ‰¾åˆ°æœ€å·¦è¾¹çš„ 0ï¼Œç„¶åè¿”å›ï¼Œæ‰€ä»¥å¹¶ä¸ä¼šæ­»å¾ªç¯ï¼Œå½“ç„¶è¿™æ ·åšçš„å‰ææ˜¯ä¸€å®šè¦æœ‰è§£ï¼</p>
<p><strong>è§£æ³•äºŒ</strong></p>
<p>å¦ä¸€ç§æ›´å¥½çš„åšæ³•ï¼Œä»¥ 0 ä½œä¸ºæºï¼Œå‘å››å‘¨ BFSï¼ŒåŒæ—¶æ›´æ–°å‘¨å›´çš„ 1 çš„å€¼</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//update: 2020.4.15</span></span><br><span class="line"><span class="keyword">private</span> <span class="type">int</span>[][] dir=&#123;&#123;<span class="number">1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">0</span>,<span class="number">1</span>&#125;,&#123;-<span class="number">1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">0</span>,-<span class="number">1</span>&#125;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span>[][] updateMatrix(<span class="type">int</span>[][] matrix) &#123;</span><br><span class="line">    <span class="keyword">if</span>(matrix==<span class="literal">null</span> || matrix.length&lt;=<span class="number">0</span>) <span class="keyword">return</span> matrix;</span><br><span class="line">    <span class="type">boolean</span>[][] visit=<span class="keyword">new</span> <span class="title class_">boolean</span>[matrix.length][matrix[<span class="number">0</span>].length];</span><br><span class="line">    Queue&lt;Pair&gt; queue=<span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;matrix.length;i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;matrix[<span class="number">0</span>].length;j++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(matrix[i][j]==<span class="number">0</span>)&#123;</span><br><span class="line">                queue.add(<span class="keyword">new</span> <span class="title class_">Pair</span>(i,j,<span class="number">0</span>));</span><br><span class="line">                visit[i][j]=<span class="literal">true</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                matrix[i][j]=Integer.MAX_VALUE;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(!queue.isEmpty())&#123;</span><br><span class="line">        Pair pair=queue.poll();</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;dir.length;i++)&#123;</span><br><span class="line">            <span class="type">int</span> nx=pair.x+dir[i][<span class="number">0</span>];</span><br><span class="line">            <span class="type">int</span> ny=pair.y+dir[i][<span class="number">1</span>];</span><br><span class="line">            <span class="keyword">if</span>(valid(matrix,nx,ny) &amp;&amp; !visit[nx][ny])&#123;</span><br><span class="line">                queue.add(<span class="keyword">new</span> <span class="title class_">Pair</span>(nx,ny,pair.step+<span class="number">1</span>));</span><br><span class="line">                matrix[nx][ny]=pair.step+<span class="number">1</span>; <span class="comment">//è¿™é‡Œä¸ç”¨åˆ¤æ–­æ˜¯ä¸æ˜¯å˜å°ï¼Œç¬¬ä¸€æ¬¡é‡åˆ°çš„å°±æ˜¯æœ€è¿‘çš„</span></span><br><span class="line">                visit[nx][ny]=<span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> matrix;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">valid</span><span class="params">(<span class="keyword">final</span> <span class="type">int</span>[][] matrix,<span class="type">int</span> x,<span class="type">int</span> y)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x&gt;=<span class="number">0</span> &amp;&amp; x&lt;matrix.length &amp;&amp; y&gt;=<span class="number">0</span> &amp;&amp; y&lt;matrix[<span class="number">0</span>].length;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Pair</span>&#123;</span><br><span class="line">    <span class="type">int</span> x,y;</span><br><span class="line">    <span class="type">int</span> step;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Pair</span><span class="params">(<span class="type">int</span> x,<span class="type">int</span> y,<span class="type">int</span> step)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.x=x;</span><br><span class="line">        <span class="built_in">this</span>.y=y;</span><br><span class="line">        <span class="built_in">this</span>.step=step;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ ¸å¿ƒæ€æƒ³å°±æ˜¯ æŠŠæ‰€æœ‰ 1 éƒ½ç½®ä¸ºæœ€å¤§å€¼ï¼ŒæŠŠæ‰€æœ‰ä¸º 0 çš„ä½ç½®åŠ å…¥é˜Ÿåˆ—ä¸­ï¼Œæ¯æ¬¡ä»é˜Ÿåˆ—ä¸­ poll ä¸€ä¸ªèŠ‚ç‚¹ï¼Œæ›´æ–°å…¶å››å‘¨çš„èŠ‚ç‚¹ï¼Œ<del>å¦‚æœè¢«æ›´æ–°çš„èŠ‚ç‚¹è·ç¦»å˜å°äº†å°±å°†å…¶ä¹ŸåŠ å…¥é˜Ÿåˆ—å‡†å¤‡æ›´æ–°å…¶é‚»æ¥ç‚¹</del> step æ˜¯é€’å¢çš„ï¼Œç¬¬ä¸€æ¬¡é‡åˆ°çš„ä¸€å®šæ˜¯æœ€è¿‘çš„</p>
<p>å¤šæº BFSï¼Œå‚è€ƒä¸‹é¢çš„ <a href="">994. è…çƒ‚çš„æ©˜å­</a>  å’Œ <a href="">1162. åœ°å›¾åˆ†æ</a></p>
<p><strong>è§£æ³•ä¸‰</strong></p>
<blockquote>
<p>è¿™é¢˜çš„æœ€ä¼˜è§£åº”è¯¥æ˜¯åŠ¨æ€è§„åˆ’çš„è§£æ³•ï¼Œæˆ‘å®åœ¨æ˜¯æ‡’å¾—å†™ï¼ˆèœï¼‰ï¼Œå…¶å®å’Œå“ªä¸ª ä¸åŒè·¯å¾„æœ‰ç‚¹ç±»ä¼¼ï¼Œæ¯ä¸ª 1 ç¦»ä»–æœ€è¿‘çš„ 0 çš„è·ç¦»å…¶å®å°±æ˜¯å®ƒå‘¨å›´çš„å…ƒç´ ç¦» 0 æœ€è¿‘çš„è·ç¦»+1</p>
<p>ä¹Ÿå°±æ˜¯ <code>matrix[i][j] =min(dp[i][j-1],dp[i-1][j],dp[i+1][j],dp[i][j+1]) + 1</code> ä½†æ˜¯æˆ‘ä»¬ä¸å¯èƒ½åŒæ—¶æ±‚å‡ºæ˜¯ä¸ªæ–¹å‘çš„æœ€å°å€¼ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä¸¤æ¬¡éå†ï¼Œç¬¬ä¸€éä»å·¦ä¸Šåˆ°å³ä¸‹ï¼Œç¬¬äºŒéä»å³ä¸‹åˆ°å·¦ä¸Šï¼Œä¸¤æ¬¡éå†å°±å¯ä»¥ç¡®å®šæ¯ä¸ªèŠ‚ç‚¹çš„å€¼ï¼Œä»£ç ä»¥åæœ‰æ—¶é—´å†æ¥å†™</p>
</blockquote>
<h2 id="1306-è·³è·ƒæ¸¸æˆ-III"><a href="#1306-è·³è·ƒæ¸¸æˆ-III" class="headerlink" title="1306. è·³è·ƒæ¸¸æˆ III"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/jump-game-iii/">1306. è·³è·ƒæ¸¸æˆ III</a></h2><p>è¿™é‡Œæœ‰ä¸€ä¸ªéè´Ÿæ•´æ•°æ•°ç»„ <code>arr</code>ï¼Œä½ æœ€å¼€å§‹ä½äºè¯¥æ•°ç»„çš„èµ·å§‹ä¸‹æ ‡ <code>start</code> å¤„ã€‚å½“ä½ ä½äºä¸‹æ ‡ i å¤„æ—¶ï¼Œä½ å¯ä»¥è·³åˆ° <code>i + arr[i]</code> æˆ–è€… <code>i - arr[i]</code>ã€‚</p>
<p>è¯·ä½ åˆ¤æ–­è‡ªå·±æ˜¯å¦èƒ½å¤Ÿè·³åˆ°å¯¹åº”å…ƒç´ å€¼ä¸º 0 çš„ <code>ä»»æ„</code> ä¸‹æ ‡å¤„ã€‚</p>
<p>æ³¨æ„ï¼Œä¸ç®¡æ˜¯ä»€ä¹ˆæƒ…å†µä¸‹ï¼Œä½ éƒ½æ— æ³•è·³åˆ°æ•°ç»„ä¹‹å¤–</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šarr = [<span class="number">4</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">0</span>,<span class="number">3</span>,<span class="number">1</span>,<span class="number">2</span>], start = <span class="number">5</span></span><br><span class="line">è¾“å‡ºï¼š<span class="literal">true</span></span><br><span class="line">è§£é‡Šï¼š</span><br><span class="line">åˆ°è¾¾å€¼ä¸º <span class="number">0</span> çš„ä¸‹æ ‡ <span class="number">3</span> æœ‰ä»¥ä¸‹å¯èƒ½æ–¹æ¡ˆï¼š </span><br><span class="line">ä¸‹æ ‡ <span class="number">5</span> -&gt; ä¸‹æ ‡ <span class="number">4</span> -&gt; ä¸‹æ ‡ <span class="number">1</span> -&gt; ä¸‹æ ‡ <span class="number">3</span> </span><br><span class="line">ä¸‹æ ‡ <span class="number">5</span> -&gt; ä¸‹æ ‡ <span class="number">6</span> -&gt; ä¸‹æ ‡ <span class="number">4</span> -&gt; ä¸‹æ ‡ <span class="number">1</span> -&gt; ä¸‹æ ‡ <span class="number">3</span> </span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šarr = [<span class="number">4</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">0</span>,<span class="number">3</span>,<span class="number">1</span>,<span class="number">2</span>], start = <span class="number">0</span></span><br><span class="line">è¾“å‡ºï¼š<span class="literal">true</span> </span><br><span class="line">è§£é‡Šï¼š</span><br><span class="line">åˆ°è¾¾å€¼ä¸º <span class="number">0</span> çš„ä¸‹æ ‡ <span class="number">3</span> æœ‰ä»¥ä¸‹å¯èƒ½æ–¹æ¡ˆï¼š </span><br><span class="line">ä¸‹æ ‡ <span class="number">0</span> -&gt; ä¸‹æ ‡ <span class="number">4</span> -&gt; ä¸‹æ ‡ <span class="number">1</span> -&gt; ä¸‹æ ‡ <span class="number">3</span></span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šarr = [<span class="number">3</span>,<span class="number">0</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">2</span>], start = <span class="number">2</span></span><br><span class="line">è¾“å‡ºï¼š<span class="literal">false</span></span><br><span class="line">è§£é‡Šï¼šæ— æ³•åˆ°è¾¾å€¼ä¸º <span class="number">0</span> çš„ä¸‹æ ‡ <span class="number">1</span> å¤„ã€‚ </span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= arr.length &lt;= 5 * 10^4</code></li>
<li><code>0 &lt;= arr[i] &lt; arr.length</code></li>
<li><code>0 &lt;= start &lt; arr.length</code></li>
</ul>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>BFSï¼ŒæŸæ¬¡å‘¨èµ›çš„ç¬¬ 3 é¢˜ï¼Œè¿˜æ˜¯æŒºç®€å•çš„ï¼Œå¯æƒœé‚£æ¬¡æ²¡å‚åŠ </p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">canReach</span><span class="params">(<span class="type">int</span>[] arr, <span class="type">int</span> start)</span> &#123;</span><br><span class="line">    <span class="type">boolean</span>[] visit=<span class="keyword">new</span> <span class="title class_">boolean</span>[arr.length];</span><br><span class="line">    Queue&lt;Integer&gt; queue=<span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    queue.add(start);</span><br><span class="line">    visit[start]=<span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">while</span>(!queue.isEmpty())&#123;</span><br><span class="line">        <span class="type">int</span> cur=queue.poll();</span><br><span class="line">        <span class="keyword">if</span> (arr[cur] == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (cur-arr[cur]&gt;=<span class="number">0</span> &amp;&amp; !visit[cur-arr[cur]]) &#123;</span><br><span class="line">            queue.add(cur-arr[cur]);</span><br><span class="line">            visit[cur-arr[cur]]=<span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (cur+arr[cur]&lt;arr.length &amp;&amp; !visit[cur+arr[cur]]) &#123;</span><br><span class="line">            queue.add(cur+arr[cur]);</span><br><span class="line">            visit[cur+arr[cur]]=<span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•äºŒ</strong></p>
<p>DFS è§£æ³•ï¼Œæ²¡å•¥å¥½è¯´çš„</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">canReach</span><span class="params">(<span class="type">int</span>[] arr,<span class="type">int</span> start)</span>&#123;</span><br><span class="line">    <span class="type">boolean</span>[] visit=<span class="keyword">new</span> <span class="title class_">boolean</span>[arr.length];</span><br><span class="line">    <span class="keyword">return</span> dfs(arr,start,visit);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span>[] arr,<span class="type">int</span> index,<span class="type">boolean</span>[] visit)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (arr[index] == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    visit[index]=<span class="literal">true</span>;</span><br><span class="line">    <span class="type">boolean</span> b=<span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">if</span> (index-arr[index] &gt;=<span class="number">0</span> &amp;&amp; !visit[index-arr[index]]) &#123;</span><br><span class="line">        b=dfs(arr,index-arr[index],visit);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (index+arr[index] &lt;arr.length &amp;&amp; !visit[index+arr[index]]) &#123;</span><br><span class="line">        <span class="keyword">return</span> b|dfs(arr,index+arr[index],visit);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="5314-è·³è·ƒæ¸¸æˆ-IV"><a href="#5314-è·³è·ƒæ¸¸æˆ-IV" class="headerlink" title="5314. è·³è·ƒæ¸¸æˆ IV"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/jump-game-iv/">5314. è·³è·ƒæ¸¸æˆ IV</a></h2><p>ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ arr ï¼Œä½ ä¸€å¼€å§‹åœ¨æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ å¤„ï¼ˆä¸‹æ ‡ä¸º 0ï¼‰ã€‚</p>
<p>æ¯ä¸€æ­¥ï¼Œä½ å¯ä»¥ä»ä¸‹æ ‡ i è·³åˆ°ä¸‹æ ‡ï¼š</p>
<ul>
<li>i + 1 æ»¡è¶³ï¼ši + 1 &lt; arr.length</li>
<li>i - 1 æ»¡è¶³ï¼ši - 1 &gt;= 0</li>
<li>j æ»¡è¶³ï¼šarr[i] == arr[j] ä¸” i != j</li>
</ul>
<p>è¯·ä½ è¿”å›åˆ°è¾¾æ•°ç»„æœ€åä¸€ä¸ªå…ƒç´ çš„ä¸‹æ ‡å¤„æ‰€éœ€çš„ æœ€å°‘æ“ä½œæ¬¡æ•° ã€‚<br>æ³¨æ„ï¼šä»»ä½•æ—¶å€™ä½ éƒ½ä¸èƒ½è·³åˆ°æ•°ç»„å¤–é¢ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šarr = [<span class="number">100</span>,-<span class="number">23</span>,-<span class="number">23</span>,<span class="number">404</span>,<span class="number">100</span>,<span class="number">23</span>,<span class="number">23</span>,<span class="number">23</span>,<span class="number">3</span>,<span class="number">404</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">3</span></span><br><span class="line">è§£é‡Šï¼šé‚£ä½ éœ€è¦è·³è·ƒ <span class="number">3</span> æ¬¡ï¼Œä¸‹æ ‡ä¾æ¬¡ä¸º <span class="number">0</span> --&gt; <span class="number">4</span> --&gt; <span class="number">3</span> --&gt; <span class="number">9</span> ã€‚ä¸‹æ ‡ <span class="number">9</span> ä¸ºæ•°ç»„çš„æœ€åä¸€ä¸ªå…ƒç´ çš„ä¸‹æ ‡ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šarr = [<span class="number">7</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">0</span></span><br><span class="line">è§£é‡Šï¼šä¸€å¼€å§‹å°±åœ¨æœ€åä¸€ä¸ªå…ƒç´ å¤„ï¼Œæ‰€ä»¥ä½ ä¸éœ€è¦è·³è·ƒã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šarr = [<span class="number">7</span>,<span class="number">6</span>,<span class="number">9</span>,<span class="number">6</span>,<span class="number">9</span>,<span class="number">6</span>,<span class="number">9</span>,<span class="number">7</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">1</span></span><br><span class="line">è§£é‡Šï¼šä½ å¯ä»¥ç›´æ¥ä»ä¸‹æ ‡ <span class="number">0</span> å¤„è·³åˆ°ä¸‹æ ‡ <span class="number">7</span> å¤„ï¼Œä¹Ÿå°±æ˜¯æ•°ç»„çš„æœ€åä¸€ä¸ªå…ƒç´ å¤„ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 4ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šarr = [<span class="number">6</span>,<span class="number">1</span>,<span class="number">9</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">2</span></span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 5ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šarr = [<span class="number">11</span>,<span class="number">22</span>,<span class="number">7</span>,<span class="number">7</span>,<span class="number">7</span>,<span class="number">7</span>,<span class="number">7</span>,<span class="number">7</span>,<span class="number">7</span>,<span class="number">22</span>,<span class="number">13</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">3</span></span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= arr.length &lt;= 5 * 10^4</code></li>
<li><code>-10^8 &lt;= arr[i] &lt;= 10^8</code></li>
</ul>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>19 åŒå‘¨èµ›çš„æœ€åä¸€é¢˜ï¼Œè®²é“ç†æŒºç®€å•çš„ï¼ˆå¯æˆ‘è¿˜æ˜¯ TLE äº†å¥½é•¿æ—¶é—´ï¼‰</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">minJumps</span><span class="params">(<span class="type">int</span>[] arr)</span> &#123;</span><br><span class="line">    Queue&lt;Pair&gt; queue=<span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    <span class="type">boolean</span>[] visit=<span class="keyword">new</span> <span class="title class_">boolean</span>[arr.length];</span><br><span class="line">    HashMap&lt;Integer,List&lt;Integer&gt;&gt; map=<span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">    <span class="comment">//æ„å»ºç­‰å€¼çš„ç´¢å¼• è¿ç»­ç›¸åŒçš„åªä¿ç•™å¤´å°¾</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>;i&lt;arr.length;i++) &#123;</span><br><span class="line">        List&lt;Integer&gt; lis=map.computeIfAbsent(arr[i],k-&gt;<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;());</span><br><span class="line">        <span class="keyword">if</span> (!((i-<span class="number">1</span>&gt;=<span class="number">0</span>&amp;&amp;arr[i-<span class="number">1</span>]==arr[i]) &amp;&amp; (i+<span class="number">1</span>&lt;arr.length&amp;&amp;arr[i+<span class="number">1</span>]==arr[i])))&#123;</span><br><span class="line">            lis.add(i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    queue.add(<span class="keyword">new</span> <span class="title class_">Pair</span>(<span class="number">0</span>,<span class="number">0</span>));</span><br><span class="line">    visit[<span class="number">0</span>]=<span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">while</span>(!queue.isEmpty())&#123;</span><br><span class="line">        Pair pair=queue.poll();</span><br><span class="line">        <span class="keyword">if</span> (pair.index==arr.length-<span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> pair.step;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(pair.index+<span class="number">1</span>&lt;arr.length &amp;&amp; !visit[pair.index+<span class="number">1</span>])&#123;</span><br><span class="line">            queue.add(<span class="keyword">new</span> <span class="title class_">Pair</span>(pair.index+<span class="number">1</span>,pair.step+<span class="number">1</span>));</span><br><span class="line">            visit[pair.index+<span class="number">1</span>]=<span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (pair.index-<span class="number">1</span>&gt;=<span class="number">0</span> &amp;&amp; !visit[pair.index-<span class="number">1</span>]) &#123;</span><br><span class="line">            queue.add(<span class="keyword">new</span> <span class="title class_">Pair</span>(pair.index-<span class="number">1</span>,pair.step+<span class="number">1</span>));</span><br><span class="line">            visit[pair.index-<span class="number">1</span>]=<span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        List&lt;Integer&gt; list=map.get(arr[pair.index]);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i=list.size()-<span class="number">1</span>;i&gt;=<span class="number">0</span>;i--) &#123;</span><br><span class="line">            <span class="type">int</span> idx=list.get(i);</span><br><span class="line">            <span class="keyword">if</span> (!visit[idx]) &#123;</span><br><span class="line">                queue.add(<span class="keyword">new</span> <span class="title class_">Pair</span>(idx,pair.step+<span class="number">1</span>));</span><br><span class="line">                visit[idx]=<span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Pair</span>&#123;</span><br><span class="line">    <span class="type">int</span> index;</span><br><span class="line">    <span class="type">int</span> step;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Pair</span><span class="params">(<span class="type">int</span> index,<span class="type">int</span> step)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.index=index;</span><br><span class="line">        <span class="built_in">this</span>.step=step;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>çœ‹ä¸€ä¸‹æ•°æ®èŒƒå›´ï¼Œç›´æ¥ BFS éå†è·³åŒå€¼çš„è‚¯å®šä¸è¡Œï¼Œæ‰€ä»¥æƒ³åˆ°äº†ç”¨ map é¢„å¤„ç†åŒå€¼çš„ç´¢å¼•ï¼Œç»“æœè¿˜æ˜¯ TLE äº†ï¼Œåé¢ä¸€ä¸ª case æœ‰ 50000 ä¸ª 7ï¼Œè¿™é‡Œå³ä½¿åšäº† map ç´¢å¼•ä½†æ˜¯æ— å¥ˆå¤ªå¤šäº†ï¼Œä¾ç„¶ä¼šè¶…æ—¶ï¼Œè¿™é‡Œå…¶å®è¿™ä¹ˆå¤š 7ï¼Œåªæœ‰å¤´å’Œå°¾çš„ 7 æ˜¯ç”¨çš„ï¼Œå…¶ä»–ä½ç½®çš„ 7 éƒ½æ˜¯æ— ç”¨çš„ï¼Œå¯ä»¥ç›´æ¥å¿½ç•¥ï¼Œæ‰€ä»¥æ„å»ºç´¢å¼•çš„æ—¶å€™å¯ä»¥è·³è¿‡è¿™äº›ä¸­é—´ä½ç½®ï¼Œè¿™æ ·å¯ä»¥èŠ‚çœå¾ˆå¤šæ—¶é—´</p>
<h2 id="690-å‘˜å·¥çš„é‡è¦æ€§"><a href="#690-å‘˜å·¥çš„é‡è¦æ€§" class="headerlink" title="690. å‘˜å·¥çš„é‡è¦æ€§"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/employee-importance/">690. å‘˜å·¥çš„é‡è¦æ€§</a></h2><p>ç»™å®šä¸€ä¸ªä¿å­˜å‘˜å·¥ä¿¡æ¯çš„æ•°æ®ç»“æ„ï¼Œå®ƒåŒ…å«äº†å‘˜å·¥å”¯ä¸€çš„ idï¼Œé‡è¦åº¦ å’Œ ç›´ç³»ä¸‹å±çš„ idã€‚</p>
<p>æ¯”å¦‚ï¼Œå‘˜å·¥ 1 æ˜¯å‘˜å·¥ 2 çš„é¢†å¯¼ï¼Œå‘˜å·¥ 2 æ˜¯å‘˜å·¥ 3 çš„é¢†å¯¼ã€‚ä»–ä»¬ç›¸åº”çš„é‡è¦åº¦ä¸º 15, 10, 5ã€‚é‚£ä¹ˆå‘˜å·¥ 1 çš„æ•°æ®ç»“æ„æ˜¯ [1, 15, [2]]ï¼Œå‘˜å·¥ 2 çš„æ•°æ®ç»“æ„æ˜¯ [2, 10, [3]]ï¼Œå‘˜å·¥ 3 çš„æ•°æ®ç»“æ„æ˜¯ [3, 5, []]ã€‚æ³¨æ„è™½ç„¶å‘˜å·¥ 3 ä¹Ÿæ˜¯å‘˜å·¥ 1 çš„ä¸€ä¸ªä¸‹å±ï¼Œä½†æ˜¯ç”±äºå¹¶ä¸æ˜¯ç›´ç³»ä¸‹å±ï¼Œå› æ­¤æ²¡æœ‰ä½“ç°åœ¨å‘˜å·¥ 1 çš„æ•°æ®ç»“æ„ä¸­ã€‚</p>
<p>ç°åœ¨è¾“å…¥ä¸€ä¸ªå…¬å¸çš„æ‰€æœ‰å‘˜å·¥ä¿¡æ¯ï¼Œä»¥åŠå•ä¸ªå‘˜å·¥ idï¼Œè¿”å›è¿™ä¸ªå‘˜å·¥å’Œä»–æ‰€æœ‰ä¸‹å±çš„é‡è¦åº¦ä¹‹å’Œã€‚</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š[[<span class="number">1</span>, <span class="number">5</span>, [<span class="number">2</span>, <span class="number">3</span>]], [<span class="number">2</span>, <span class="number">3</span>, []], [<span class="number">3</span>, <span class="number">3</span>, []]], <span class="number">1</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">11</span></span><br><span class="line">è§£é‡Šï¼š</span><br><span class="line">å‘˜å·¥ <span class="number">1</span> è‡ªèº«çš„é‡è¦åº¦æ˜¯ <span class="number">5</span>ï¼Œä»–æœ‰ä¸¤ä¸ªç›´ç³»ä¸‹å± <span class="number">2</span> å’Œ <span class="number">3</span>ï¼Œè€Œä¸” <span class="number">2</span> å’Œ <span class="number">3</span> çš„é‡è¦åº¦å‡ä¸º <span class="number">3</span>ã€‚å› æ­¤å‘˜å·¥ <span class="number">1</span> çš„æ€»é‡è¦åº¦æ˜¯ <span class="number">5</span> + <span class="number">3</span> + <span class="number">3</span> = <span class="number">11</span>ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„ï¼š</strong></p>
<ol>
<li>ä¸€ä¸ªå‘˜å·¥æœ€å¤šæœ‰ä¸€ä¸ªç›´ç³»é¢†å¯¼ï¼Œä½†æ˜¯å¯ä»¥æœ‰å¤šä¸ªç›´ç³»ä¸‹å±</li>
<li>å‘˜å·¥æ•°é‡ä¸è¶…è¿‡ 2000ã€‚</li>
</ol>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>BFSï¼Œæ²¡å•¥å¥½è¯´çš„ï¼Œæ†¨æ†¨é¢˜ç›´æ¥ bugfree</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getImportance</span><span class="params">(List&lt;Employee&gt; employees, <span class="type">int</span> id)</span> &#123;</span><br><span class="line">    HashMap&lt;Integer,Employee&gt; map=<span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (Employee e:employees) &#123;</span><br><span class="line">        map.put(e.id,e);</span><br><span class="line">    &#125;</span><br><span class="line">    Queue&lt;Integer&gt; queue=<span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    queue.add(id);</span><br><span class="line">    <span class="type">int</span> res=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(!queue.isEmpty())&#123;</span><br><span class="line">        Employee cur=map.get(queue.poll());</span><br><span class="line">        res+=cur.importance;</span><br><span class="line">        List&lt;Integer&gt; subordinates=cur.subordinates;</span><br><span class="line">        <span class="keyword">if</span> (!subordinates.isEmpty()) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> eid:subordinates) &#123;</span><br><span class="line">                queue.add(eid);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>è§£æ³•äºŒ</strong></p>
<p>DFSï¼Œæœ¬æ¥ä¸æƒ³å†™çš„ï¼Œè¿™ç±»é¢˜å…¶å®éƒ½æ˜¯æ ‘çš„é¢˜å˜äº†ä¸ªè¯´æ³•è€Œå·²</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getImportance</span><span class="params">(List&lt;Employee&gt; employees, <span class="type">int</span> id)</span> &#123;</span><br><span class="line">    HashMap&lt;Integer,Employee&gt; map=<span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (Employee e:employees) &#123;</span><br><span class="line">        map.put(e.id,e);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dfs(map,id);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">dfs</span><span class="params">(HashMap&lt;Integer,Employee&gt; map,<span class="type">int</span> id)</span>&#123;</span><br><span class="line">    Employee cur=map.get(id);</span><br><span class="line">    <span class="type">int</span> res=cur.importance;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> eid:cur.subordinates) &#123;</span><br><span class="line">        res+=dfs(map,eid);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="1311-è·å–ä½ å¥½å‹å·²è§‚çœ‹çš„è§†é¢‘"><a href="#1311-è·å–ä½ å¥½å‹å·²è§‚çœ‹çš„è§†é¢‘" class="headerlink" title="1311. è·å–ä½ å¥½å‹å·²è§‚çœ‹çš„è§†é¢‘"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/get-watched-videos-by-your-friends/">1311. è·å–ä½ å¥½å‹å·²è§‚çœ‹çš„è§†é¢‘</a></h2><p>æœ‰ n ä¸ªäººï¼Œæ¯ä¸ªäººéƒ½æœ‰ä¸€ä¸ª  0 åˆ° n-1 çš„å”¯ä¸€ id ã€‚</p>
<p>ç»™ä½ æ•°ç»„ <code>watchedVideos</code>  å’Œ <code>friends</code> ï¼Œå…¶ä¸­ <code>watchedVideos[i]</code>  å’Œ friends[i] åˆ†åˆ«è¡¨ç¤º id = i çš„äººè§‚çœ‹è¿‡çš„è§†é¢‘åˆ—è¡¨å’Œä»–çš„å¥½å‹åˆ—è¡¨ã€‚</p>
<p>Level 1 çš„è§†é¢‘åŒ…å«æ‰€æœ‰ä½ å¥½å‹è§‚çœ‹è¿‡çš„è§†é¢‘ï¼Œlevel 2 çš„è§†é¢‘åŒ…å«æ‰€æœ‰ä½ å¥½å‹çš„å¥½å‹è§‚çœ‹è¿‡çš„è§†é¢‘ï¼Œä»¥æ­¤ç±»æ¨ã€‚ä¸€èˆ¬çš„ï¼ŒLevel ä¸º k çš„è§†é¢‘åŒ…å«æ‰€æœ‰ä»ä½ å‡ºå‘ï¼Œæœ€çŸ­è·ç¦»ä¸º k çš„å¥½å‹è§‚çœ‹è¿‡çš„è§†é¢‘ã€‚</p>
<p>ç»™å®šä½ çš„ <code>id</code>  å’Œä¸€ä¸ª <code>level</code> å€¼ï¼Œè¯·ä½ æ‰¾å‡ºæ‰€æœ‰æŒ‡å®š level çš„è§†é¢‘ï¼Œå¹¶å°†å®ƒä»¬æŒ‰è§‚çœ‹é¢‘ç‡å‡åºè¿”å›ã€‚å¦‚æœæœ‰é¢‘ç‡ç›¸åŒçš„è§†é¢‘ï¼Œè¯·å°†å®ƒä»¬æŒ‰åå­—å­—å…¸åºä»å°åˆ°å¤§æ’åˆ—ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<p><img src="https://i.loli.net/2020/02/01/I5XJKQg3WwvaeB1.png" alt="image.png"></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šwatchedVideos = [[<span class="string">&quot;A&quot;</span>,<span class="string">&quot;B&quot;</span>],[<span class="string">&quot;C&quot;</span>],[<span class="string">&quot;B&quot;</span>,<span class="string">&quot;C&quot;</span>],[<span class="string">&quot;D&quot;</span>]], friends = [[<span class="number">1</span>,<span class="number">2</span>],[<span class="number">0</span>,<span class="number">3</span>],[<span class="number">0</span>,<span class="number">3</span>],[<span class="number">1</span>,<span class="number">2</span>]], id = <span class="number">0</span>, level = <span class="number">1</span></span><br><span class="line">è¾“å‡ºï¼š[<span class="string">&quot;B&quot;</span>,<span class="string">&quot;C&quot;</span>] </span><br><span class="line">è§£é‡Šï¼š</span><br><span class="line">ä½ çš„ id ä¸º <span class="number">0</span> ï¼Œä½ çš„æœ‹å‹åŒ…æ‹¬ï¼š</span><br><span class="line">id ä¸º <span class="number">1</span> -&gt; watchedVideos = [<span class="string">&quot;C&quot;</span>] </span><br><span class="line">id ä¸º <span class="number">2</span> -&gt; watchedVideos = [<span class="string">&quot;B&quot;</span>,<span class="string">&quot;C&quot;</span>] </span><br><span class="line">ä½ æœ‹å‹è§‚çœ‹è¿‡è§†é¢‘çš„é¢‘ç‡ä¸ºï¼š</span><br><span class="line">B -&gt; <span class="number">1</span> </span><br><span class="line">C -&gt; <span class="number">2</span></span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<p><img src="https://i.loli.net/2020/02/01/qhDZvr3sbJkgIuw.png" alt="image.png"></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šwatchedVideos = [[<span class="string">&quot;A&quot;</span>,<span class="string">&quot;B&quot;</span>],[<span class="string">&quot;C&quot;</span>],[<span class="string">&quot;B&quot;</span>,<span class="string">&quot;C&quot;</span>],[<span class="string">&quot;D&quot;</span>]], friends = [[<span class="number">1</span>,<span class="number">2</span>],[<span class="number">0</span>,<span class="number">3</span>],[<span class="number">0</span>,<span class="number">3</span>],[<span class="number">1</span>,<span class="number">2</span>]], id = <span class="number">0</span>, level = <span class="number">2</span></span><br><span class="line">è¾“å‡ºï¼š[<span class="string">&quot;D&quot;</span>]</span><br><span class="line">è§£é‡Šï¼š</span><br><span class="line">ä½ çš„ id ä¸º <span class="number">0</span> ï¼Œä½ æœ‹å‹çš„æœ‹å‹åªæœ‰ä¸€ä¸ªäººï¼Œä»–çš„ id ä¸º <span class="number">3</span> ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li>n == watchedVideos.length == friends.length</li>
<li>2 &lt;= n &lt;= 100</li>
<li>1 &lt;= watchedVideos[i].length &lt;= 100</li>
<li>1 &lt;= watchedVideos[i][j].length &lt;= 8</li>
<li>0 &lt;= friends[i].length &lt; n</li>
<li>0 &lt;= friends[i][j] &lt; n</li>
<li>0 &lt;= id &lt; n</li>
<li>1 &lt;= level &lt; n</li>
<li>å¦‚æœ friends[i] åŒ…å« j ï¼Œé‚£ä¹ˆ friends[j] åŒ…å« i</li>
</ul>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>170 å‘¨èµ›çš„ç¬¬ä¸‰é¢˜ï¼Œå…¶å®æ˜¯ä¸€é“æ°´é¢˜ï¼Œé¢˜ç›®æ„æ€ææ¸…æ¥šå°±å¾ˆç®€å•äº†</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;String&gt; <span class="title function_">watchedVideosByFriends</span><span class="params">(List&lt;List&lt;String&gt;&gt; watchedVideos, <span class="type">int</span>[][] friends, <span class="type">int</span> id, <span class="type">int</span> level)</span> &#123;</span><br><span class="line">    Queue&lt;Integer&gt; queue=<span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    <span class="type">int</span>[] levels=<span class="keyword">new</span> <span class="title class_">int</span>[friends.length]; <span class="comment">//è¿™é‡Œæ²¡å¿…è¦ï¼Œè¿™é‡Œç”¨ä¸€ä¸ªå˜é‡å°± ok äº†</span></span><br><span class="line">    <span class="type">boolean</span>[] visit=<span class="keyword">new</span> <span class="title class_">boolean</span>[friends.length];</span><br><span class="line">    HashMap&lt;String,Integer&gt; map=<span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">    List&lt;Integer&gt; flist=<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;(); <span class="comment">//level å±‚çš„æœ‹å‹</span></span><br><span class="line">    queue.add(id);</span><br><span class="line">    visit[id]=<span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">while</span>(!queue.isEmpty())&#123;</span><br><span class="line">        <span class="type">int</span> cur=queue.poll();</span><br><span class="line">        <span class="type">int</span>[] cfs=friends[cur];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>;i&lt;cfs.length;i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (!visit[cfs[i]]) &#123;</span><br><span class="line">                queue.add(cfs[i]);</span><br><span class="line">                levels[cfs[i]]=levels[cur]+<span class="number">1</span>;   </span><br><span class="line">                visit[cfs[i]]=<span class="literal">true</span>;</span><br><span class="line">                <span class="keyword">if</span> (levels[cfs[i]] == level) &#123;</span><br><span class="line">                    flist.add(cfs[i]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>;i&lt;flist.size();i++) &#123;</span><br><span class="line">        List&lt;String&gt; videos=watchedVideos.get(flist.get(i));</span><br><span class="line">        <span class="keyword">for</span> (String v:videos) &#123;</span><br><span class="line">            map.put(v,map.getOrDefault(v,<span class="number">0</span>)+<span class="number">1</span>); <span class="comment">//map è®°å½• videos å‡ºç°çš„æ¬¡æ•°</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//ä¸‹é¢å‡ æ­¥è¿˜æ˜¯æŒºè€é“çš„</span></span><br><span class="line">    List&lt;String&gt; res=<span class="keyword">new</span> <span class="title class_">ArrayList</span>(map.keySet());</span><br><span class="line">    res.sort((v1,v2)-&gt;&#123;</span><br><span class="line">        <span class="type">int</span> c1=map.get(v1);</span><br><span class="line">        <span class="type">int</span> c2=map.get(v2);</span><br><span class="line">        <span class="keyword">return</span> c1==c2?v1.compareTo(v2):c1-c2; <span class="comment">//ç›¸ç­‰çš„æ—¶å€™æŒ‰ç…§å­—å…¸åºåˆ—æ’åº</span></span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="399-é™¤æ³•æ±‚å€¼"><a href="#399-é™¤æ³•æ±‚å€¼" class="headerlink" title="399. é™¤æ³•æ±‚å€¼"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/evaluate-division/">399. é™¤æ³•æ±‚å€¼</a></h2><p>ç»™å‡ºæ–¹ç¨‹å¼ A / B = k, å…¶ä¸­ A å’Œ B å‡ä¸ºä»£è¡¨å­—ç¬¦ä¸²çš„å˜é‡ï¼Œ k æ˜¯ä¸€ä¸ªæµ®ç‚¹å‹æ•°å­—ã€‚æ ¹æ®å·²çŸ¥æ–¹ç¨‹å¼æ±‚è§£é—®é¢˜ï¼Œå¹¶è¿”å›è®¡ç®—ç»“æœã€‚å¦‚æœç»“æœä¸å­˜åœ¨ï¼Œåˆ™è¿”å› -1.0ã€‚</p>
<p>ç¤ºä¾‹ :</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">ç»™å®š a / b = <span class="number">2.0</span>, b / c = <span class="number">3.0</span></span><br><span class="line">é—®é¢˜ï¼ša / c = ?, b / a = ?, a / e = ?, a / a = ?, x / x = ? </span><br><span class="line">è¿”å› [<span class="number">6.0</span>, <span class="number">0.5</span>, -<span class="number">1.0</span>, <span class="number">1.0</span>, -<span class="number">1.0</span> ]</span><br></pre></td></tr></table></figure>

<p>è¾“å…¥ä¸ºï¼š<code>vector&lt;pair&lt;string, string&gt;&gt; equations, vector&lt;double&gt;&amp; values, vector&lt;pair&lt;string, string&gt;&gt; queriesï¼ˆæ–¹ç¨‹å¼ï¼Œæ–¹ç¨‹å¼ç»“æœï¼Œé—®é¢˜æ–¹ç¨‹å¼ï¼‰</code>ï¼Œ å…¶ä¸­ <code>equations.size() == values.size()</code>ï¼Œå³æ–¹ç¨‹å¼çš„é•¿åº¦ä¸æ–¹ç¨‹å¼ç»“æœé•¿åº¦ç›¸ç­‰ï¼ˆç¨‹å¼ä¸ç»“æœä¸€ä¸€å¯¹åº”ï¼‰ï¼Œå¹¶ä¸”ç»“æœå€¼å‡ä¸ºæ­£æ•°ã€‚ä»¥ä¸Šä¸ºæ–¹ç¨‹å¼çš„æè¿°ã€‚ è¿”å›<code>vector&lt;double&gt;</code>ç±»å‹ã€‚</p>
<p>åŸºäºä¸Šè¿°ä¾‹å­ï¼Œè¾“å…¥å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">equationsï¼ˆæ–¹ç¨‹å¼ï¼‰ = [ [<span class="string">&quot;a&quot;</span>, <span class="string">&quot;b&quot;</span>], [<span class="string">&quot;b&quot;</span>, <span class="string">&quot;c&quot;</span>] ],</span><br><span class="line">valuesï¼ˆæ–¹ç¨‹å¼ç»“æœï¼‰ = [<span class="number">2.0</span>, <span class="number">3.0</span>],</span><br><span class="line">queriesï¼ˆé—®é¢˜æ–¹ç¨‹å¼ï¼‰ = [ [<span class="string">&quot;a&quot;</span>, <span class="string">&quot;c&quot;</span>], [<span class="string">&quot;b&quot;</span>, <span class="string">&quot;a&quot;</span>], [<span class="string">&quot;a&quot;</span>, <span class="string">&quot;e&quot;</span>], [<span class="string">&quot;a&quot;</span>, <span class="string">&quot;a&quot;</span>], [<span class="string">&quot;x&quot;</span>, <span class="string">&quot;x&quot;</span>] ]. </span><br></pre></td></tr></table></figure>

<p>è¾“å…¥æ€»æ˜¯æœ‰æ•ˆçš„ã€‚ä½ å¯ä»¥å‡è®¾é™¤æ³•è¿ç®—ä¸­ä¸ä¼šå‡ºç°é™¤æ•°ä¸º 0 çš„æƒ…å†µï¼Œä¸”ä¸å­˜åœ¨ä»»ä½•çŸ›ç›¾çš„ç»“æœã€‚</p>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>å»ºç«‹å›¾ï¼Œç„¶å BFSï¼Œè¿™æ ·å°±ç®€å•å¤šäº†ï¼Œæ¯”å¹¶èŒ¶é›†çš„æ–¹æ³•ç›´ç™½å¤šäº†ï¼Œéšä¾¿ä¹Ÿå­¦äº†ä¸€ä¸‹å¦‚ä½•å»ºå›¾</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//æ„é€ å›¾ + BFS/DFS</span></span><br><span class="line"><span class="keyword">private</span> Map&lt;String,Map&lt;String,Double&gt;&gt; graph = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">buildGraph</span><span class="params">(List&lt;List&lt;String&gt;&gt; equations, <span class="type">double</span>[] values)</span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; values.length; i++) &#123;</span><br><span class="line">        graph.computeIfAbsent(equations.get(i).get(<span class="number">0</span>), k -&gt; <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;()).put(equations.get(i).get(<span class="number">1</span>), values[i]);</span><br><span class="line">        graph.computeIfAbsent(equations.get(i).get(<span class="number">1</span>), k -&gt; <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;()).put(equations.get(i).get(<span class="number">0</span>), <span class="number">1</span> / values[i]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Pair</span>&#123;</span><br><span class="line">    String key;</span><br><span class="line">    <span class="type">double</span> val;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Pair</span><span class="params">(String key,<span class="type">double</span> val)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.key=key;</span><br><span class="line">        <span class="built_in">this</span>.val=val;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">double</span> <span class="title function_">bfs</span><span class="params">(String a,String b)</span>&#123;</span><br><span class="line">    <span class="comment">//è®²é“ç†ï¼Œä¸ç®¡ a,b æ˜¯å¦åœ¨ graph ä¸­ï¼Œåªè¦æƒ³ç­‰éƒ½åº”è¯¥è¿”å› 1 å§ï¼Œè¿™é‡Œæ˜¯è€ƒè™‘äº† 0 çš„æƒ…å†µï¼Ÿ</span></span><br><span class="line">    <span class="keyword">if</span> (!graph.containsKey(a) || !graph.containsKey(b)) &#123;</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1.0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (a.equals(b)) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1.0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    Queue&lt;Pair&gt; queue=<span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    queue.add(<span class="keyword">new</span> <span class="title class_">Pair</span>(a,<span class="number">1.0</span>));</span><br><span class="line">    HashSet&lt;String&gt; visit=<span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">while</span>(!queue.isEmpty())&#123;</span><br><span class="line">        Pair cur=queue.poll();</span><br><span class="line">        <span class="keyword">if</span> (!visit.contains(cur.key)) &#123;</span><br><span class="line">            visit.add(cur.key);</span><br><span class="line">            Map&lt;String,Double&gt; map=graph.get(cur.key);</span><br><span class="line">            <span class="keyword">for</span> (String next:map.keySet()) &#123;</span><br><span class="line">                <span class="keyword">if</span> (b.equals(next)) &#123;</span><br><span class="line">                    <span class="keyword">return</span> cur.val*map.get(next);</span><br><span class="line">                &#125;</span><br><span class="line">                queue.add(<span class="keyword">new</span> <span class="title class_">Pair</span>(next,cur.val*map.get(next)));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1.0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">double</span> <span class="title function_">dfs</span><span class="params">(String a,String b,HashSet&lt;String&gt; visit)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!graph.containsKey(a)) &#123;</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (a.equals(b)) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    visit.add(a);</span><br><span class="line">    Map&lt;String,Double&gt; nextMap=graph.get(a);</span><br><span class="line">    <span class="keyword">for</span> (String next:nextMap.keySet()) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!visit.contains(next)) &#123;</span><br><span class="line">            <span class="type">double</span> subres=dfs(next,b,visit);</span><br><span class="line">            <span class="keyword">if</span> (subres!=-<span class="number">1</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> subres*nextMap.get(next);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">double</span>[] calcEquation(List&lt;List&lt;String&gt;&gt; equations, <span class="type">double</span>[] values, List&lt;List&lt;String&gt;&gt; queries) &#123;</span><br><span class="line">    buildGraph(equations,values);</span><br><span class="line">    <span class="type">double</span>[] res=<span class="keyword">new</span> <span class="title class_">double</span>[queries.size()];</span><br><span class="line">    <span class="type">int</span> index=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (List&lt;String&gt; query:queries) &#123;</span><br><span class="line">        HashSet&lt;String&gt; visit=<span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line">        <span class="comment">//res[index++]=bfs(query.get(0),query.get(1),visit); </span></span><br><span class="line">        res[index++]=bfs(query.get(<span class="number">0</span>),query.get(<span class="number">1</span>));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="301-åˆ é™¤æ— æ•ˆçš„æ‹¬å·"><a href="#301-åˆ é™¤æ— æ•ˆçš„æ‹¬å·" class="headerlink" title="301. åˆ é™¤æ— æ•ˆçš„æ‹¬å·"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/remove-invalid-parentheses/">301. åˆ é™¤æ— æ•ˆçš„æ‹¬å·</a></h2><p>åˆ é™¤æœ€å°æ•°é‡çš„æ— æ•ˆæ‹¬å·ï¼Œä½¿å¾—è¾“å…¥çš„å­—ç¬¦ä¸²æœ‰æ•ˆï¼Œè¿”å›æ‰€æœ‰å¯èƒ½çš„ç»“æœã€‚</p>
<p><strong>è¯´æ˜ï¼š</strong> è¾“å…¥å¯èƒ½åŒ…å«äº†é™¤ ( å’Œ ) ä»¥å¤–çš„å­—ç¬¦ã€‚</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š<span class="string">&quot;()())()&quot;</span></span><br><span class="line">è¾“å‡ºï¼š[<span class="string">&quot;()()()&quot;</span>, <span class="string">&quot;(())()&quot;</span>]</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š<span class="string">&quot;(a)())()&quot;</span></span><br><span class="line">è¾“å‡ºï¼š[<span class="string">&quot;(a)()()&quot;</span>, <span class="string">&quot;(a())()&quot;</span>]</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š<span class="string">&quot;)(&quot;</span></span><br><span class="line">è¾“å‡ºï¼š[<span class="string">&quot;&quot;</span>]</span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•ä¸€</strong></p>
<p>BFS è§£æ³•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;String&gt; <span class="title function_">removeInvalidParentheses</span><span class="params">(String s)</span> &#123;</span><br><span class="line">    List&lt;String&gt; res=<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    Queue&lt;String&gt; queue=<span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    HashSet&lt;String&gt; visit=<span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line">    visit.add(s);</span><br><span class="line">    queue.add(s);</span><br><span class="line">    <span class="type">boolean</span> flag=<span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">while</span>(!queue.isEmpty())&#123;</span><br><span class="line">        String cur=queue.poll();</span><br><span class="line">        <span class="keyword">if</span> (isValid(cur)) &#123;</span><br><span class="line">            res.add(cur);</span><br><span class="line">            flag=<span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (flag) &#123;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>;i&lt;cur.length();i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (cur.charAt(i)==<span class="string">&#x27;(&#x27;</span> || cur.charAt(i)==<span class="string">&#x27;)&#x27;</span>) &#123;</span><br><span class="line">                String temp=cur.substring(<span class="number">0</span>,i)+cur.substring(i+<span class="number">1</span>,cur.length());</span><br><span class="line">                <span class="keyword">if</span> (!visit.contains(temp)) &#123;</span><br><span class="line">                    queue.add(temp);</span><br><span class="line">                    visit.add(temp);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(res.isEmpty()) res.add(<span class="string">&quot;&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isValid</span><span class="params">(String s)</span>&#123;</span><br><span class="line">    <span class="type">int</span> left=<span class="number">0</span>,right=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>;i&lt;s.length();i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (s.charAt(i)==<span class="string">&#x27;(&#x27;</span>) &#123;</span><br><span class="line">            left++;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span> (s.charAt(i)==<span class="string">&#x27;)&#x27;</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (left&gt;<span class="number">0</span>) &#123;</span><br><span class="line">                left--;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> left==<span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿˜æ˜¯æ¯”è¾ƒç®€å•ï¼Œdfs çš„è§£æ³•æ¯”è¾ƒéš¾æï¼Œå®¹æ˜“ TLEï¼Œè¿™é‡Œæ‡’å¾—å†™äº†</p>
<h2 id="994-è…çƒ‚çš„æ©˜å­"><a href="#994-è…çƒ‚çš„æ©˜å­" class="headerlink" title="994. è…çƒ‚çš„æ©˜å­"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/rotting-oranges/">994. è…çƒ‚çš„æ©˜å­</a></h2><p>åœ¨ç»™å®šçš„ç½‘æ ¼ä¸­ï¼Œæ¯ä¸ªå•å…ƒæ ¼å¯ä»¥æœ‰ä»¥ä¸‹ä¸‰ä¸ªå€¼ä¹‹ä¸€ï¼š</p>
<ul>
<li>å€¼ 0 ä»£è¡¨ç©ºå•å…ƒæ ¼ï¼›</li>
<li>å€¼ 1 ä»£è¡¨æ–°é²œæ©˜å­ï¼›</li>
<li>å€¼ 2 ä»£è¡¨è…çƒ‚çš„æ©˜å­ã€‚</li>
</ul>
<p>æ¯åˆ†é’Ÿï¼Œä»»ä½•ä¸è…çƒ‚çš„æ©˜å­ï¼ˆåœ¨ 4 ä¸ªæ­£æ–¹å‘ä¸Šï¼‰ç›¸é‚»çš„æ–°é²œæ©˜å­éƒ½ä¼šè…çƒ‚ã€‚</p>
<p>è¿”å›ç›´åˆ°å•å…ƒæ ¼ä¸­æ²¡æœ‰æ–°é²œæ©˜å­ä¸ºæ­¢æ‰€å¿…é¡»ç»è¿‡çš„æœ€å°åˆ†é’Ÿæ•°ã€‚å¦‚æœä¸å¯èƒ½ï¼Œè¿”å› -1ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<p><img src="http://static.imlgw.top/blog/20200304/YGBajce2liDs.png?imageslim" alt="mark"></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š[[<span class="number">2</span>,<span class="number">1</span>,<span class="number">1</span>],[<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>],[<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>]]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">4</span></span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š[[<span class="number">2</span>,<span class="number">1</span>,<span class="number">1</span>],[<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>],[<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>]]</span><br><span class="line">è¾“å‡ºï¼š-<span class="number">1</span></span><br><span class="line">è§£é‡Šï¼šå·¦ä¸‹è§’çš„æ©˜å­ï¼ˆç¬¬ <span class="number">2</span> è¡Œï¼Œ ç¬¬ <span class="number">0</span> åˆ—ï¼‰æ°¸è¿œä¸ä¼šè…çƒ‚ï¼Œå› ä¸ºè…çƒ‚åªä¼šå‘ç”Ÿåœ¨ <span class="number">4</span> ä¸ªæ­£å‘ä¸Šã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š[[<span class="number">0</span>,<span class="number">2</span>]]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">0</span></span><br><span class="line">è§£é‡Šï¼šå› ä¸º <span class="number">0</span> åˆ†é’Ÿæ—¶å·²ç»æ²¡æœ‰æ–°é²œæ©˜å­äº†ï¼Œæ‰€ä»¥ç­”æ¡ˆå°±æ˜¯ <span class="number">0</span> ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ol>
<li><code>1 &lt;= grid.length &lt;= 10</code></li>
<li><code>1 &lt;= grid[0].length &lt;= 10</code></li>
<li><code>grid[i][j]</code> ä»…ä¸º <code>0</code>ã€<code>1</code> æˆ– <code>2</code></li>
</ol>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>BFS æ‰“å¡é¢˜ï¼Œè¿™ç§è§£æ³•åº”è¯¥ç®—æ˜¯æ¯”è¾ƒå¥½çš„äº†ï¼Œ2ms</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="type">int</span>[][] diretion=&#123;&#123;<span class="number">0</span>,<span class="number">1</span>&#125;,&#123;<span class="number">1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">0</span>,-<span class="number">1</span>&#125;,&#123;-<span class="number">1</span>,<span class="number">0</span>&#125;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">orangesRotting</span><span class="params">(<span class="type">int</span>[][] grid)</span> &#123;</span><br><span class="line">    Queue&lt;Pair&gt; queue=<span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    <span class="type">int</span> time=<span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> count=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;grid.length;i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;grid[<span class="number">0</span>].length;j++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(grid[i][j]==<span class="number">1</span>) count++; <span class="comment">//ç»Ÿè®¡å¥½æ©˜å­çš„æ•°é‡</span></span><br><span class="line">            <span class="keyword">if</span>(grid[i][j]==<span class="number">2</span>)&#123;</span><br><span class="line">                queue.add(<span class="keyword">new</span> <span class="title class_">Pair</span>(i,j));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(count==<span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(!queue.isEmpty())&#123;</span><br><span class="line">        <span class="comment">//æ¯ä¸€è½®çš„åæ©˜å­æ•°é‡</span></span><br><span class="line">        <span class="type">int</span> size=queue.size();</span><br><span class="line">        time++;</span><br><span class="line">        <span class="keyword">while</span>(size-- &gt;<span class="number">0</span>)&#123;</span><br><span class="line">            Pair pair=queue.poll();</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>;i&lt;<span class="number">4</span>;i++) &#123;</span><br><span class="line">                <span class="type">int</span> nx=pair.x+diretion[i][<span class="number">0</span>];</span><br><span class="line">                <span class="type">int</span> ny=pair.y+diretion[i][<span class="number">1</span>];</span><br><span class="line">                <span class="keyword">if</span>(valid(grid,nx,ny) &amp;&amp; grid[nx][ny]==<span class="number">1</span>)&#123;</span><br><span class="line">                    grid[nx][ny]=<span class="number">2</span>;</span><br><span class="line">                    count--;<span class="comment">//å¥½æ©˜å­--</span></span><br><span class="line">                    queue.add(<span class="keyword">new</span> <span class="title class_">Pair</span>(nx,ny));</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(count==<span class="number">0</span>) <span class="keyword">return</span> time;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Pair</span>&#123;</span><br><span class="line">    <span class="type">int</span> x,y;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Pair</span><span class="params">(<span class="type">int</span> x,<span class="type">int</span> y)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.x=x;</span><br><span class="line">        <span class="built_in">this</span>.y=y;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">valid</span><span class="params">(<span class="keyword">final</span> <span class="type">int</span>[][] grid,<span class="type">int</span> x,<span class="type">int</span> y)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x&gt;=<span class="number">0</span> &amp;&amp; x&lt;grid.length &amp;&amp; y&gt;=<span class="number">0</span> &amp;&amp; y&lt;grid[<span class="number">0</span>].length;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>è§£æ³•äºŒ</strong></p>
<p>ä¸€å¼€å§‹çš„è§£æ³•ï¼Œè™½ç„¶æ•ˆç‡ç¨å¾®ä½ä¸€ç‚¹ç‚¹ 4msï¼Œä½†æ˜¯ bugfree äº†</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="type">int</span>[][] diretion=&#123;&#123;<span class="number">0</span>,<span class="number">1</span>&#125;,&#123;<span class="number">1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">0</span>,-<span class="number">1</span>&#125;,&#123;-<span class="number">1</span>,<span class="number">0</span>&#125;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Pair</span>&#123;</span><br><span class="line">    <span class="type">int</span> x,y;</span><br><span class="line">    <span class="type">int</span> step;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Pair</span><span class="params">(<span class="type">int</span> x,<span class="type">int</span> y,<span class="type">int</span> step)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.x=x;</span><br><span class="line">        <span class="built_in">this</span>.y=y;</span><br><span class="line">        <span class="built_in">this</span>.step=step;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">orangesRotting</span><span class="params">(<span class="type">int</span>[][] grid)</span> &#123;</span><br><span class="line">    Queue&lt;Pair&gt; queue=<span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    <span class="type">int</span> max=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;grid.length;i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;grid[<span class="number">0</span>].length;j++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(grid[i][j]==<span class="number">2</span>)&#123;</span><br><span class="line">                queue.add(<span class="keyword">new</span> <span class="title class_">Pair</span>(i,j,<span class="number">0</span>));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(!queue.isEmpty())&#123;</span><br><span class="line">        Pair pair=queue.poll();</span><br><span class="line">        <span class="comment">//ç»Ÿè®¡ä¸€ä¸ªæœ€å¤§çš„æ­¥æ•°ä½œä¸ºç»“æœ</span></span><br><span class="line">        <span class="comment">//max=Math.max(max,pair.step);</span></span><br><span class="line">        max=pair.step; <span class="comment">//æœ€åå¼¹å‡ºçš„å“ªä¸ªå°±æ˜¯æœ€å¤§çš„ï¼Œè¿™æ˜¯ä¸ªé€’å¢ï¼ˆéå•è°ƒï¼‰çš„è¿‡ç¨‹</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>;i&lt;<span class="number">4</span>;i++) &#123;</span><br><span class="line">            <span class="type">int</span> nx=pair.x+diretion[i][<span class="number">0</span>];</span><br><span class="line">            <span class="type">int</span> ny=pair.y+diretion[i][<span class="number">1</span>];</span><br><span class="line">            <span class="keyword">if</span>(valid(grid,nx,ny) &amp;&amp; grid[nx][ny]==<span class="number">1</span>)&#123;</span><br><span class="line">                grid[nx][ny]=<span class="number">2</span>;</span><br><span class="line">                queue.add(<span class="keyword">new</span> <span class="title class_">Pair</span>(nx,ny,pair.step+<span class="number">1</span>));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> check(grid)?max:-<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">check</span><span class="params">(<span class="type">int</span>[][] grid)</span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;grid.length;i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;grid[<span class="number">0</span>].length;j++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(grid[i][j]==<span class="number">1</span>)&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">valid</span><span class="params">(<span class="keyword">final</span> <span class="type">int</span>[][] grid,<span class="type">int</span> x,<span class="type">int</span> y)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x&gt;=<span class="number">0</span> &amp;&amp; x&lt;grid.length &amp;&amp; y&gt;=<span class="number">0</span> &amp;&amp; y&lt;grid[<span class="number">0</span>].length;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç»è¿‡å‹˜è¯¯ï¼Œå‘ç°æœ‰ä¸€å¤„åœ°æ–¹æœ‰ç‚¹å°é—®é¢˜ï¼Œå·²ç»ä¿®æ”¹ï¼Œ<code>pair.step</code> åœ¨é˜Ÿåˆ—ä¸­æ˜¯ä¸€ä¸ªé€’å¢ï¼ˆä¸å•è°ƒï¼Œä¼šç›¸ç­‰ï¼‰çš„è¿‡ç¨‹ï¼Œæ‰€ä»¥æœ€åå¼¹å‡ºçš„å°±æ˜¯æœ€å¤§çš„</p>
<h2 id="1162-åœ°å›¾åˆ†æ"><a href="#1162-åœ°å›¾åˆ†æ" class="headerlink" title="1162. åœ°å›¾åˆ†æ"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/as-far-from-land-as-possible/">1162. åœ°å›¾åˆ†æ</a></h2><p>ä½ ç°åœ¨æ‰‹é‡Œæœ‰ä¸€ä»½å¤§å°ä¸º N x N çš„ã€åœ°å›¾ã€ï¼ˆç½‘æ ¼ï¼‰ gridï¼Œä¸Šé¢çš„æ¯ä¸ªã€åŒºåŸŸã€ï¼ˆå•å…ƒæ ¼ï¼‰éƒ½ç”¨ 0 å’Œ 1 æ ‡è®°å¥½äº†ã€‚å…¶ä¸­ 0 ä»£è¡¨æµ·æ´‹ï¼Œ1 ä»£è¡¨é™†åœ°ï¼Œä½ çŸ¥é“è·ç¦»é™†åœ°åŒºåŸŸæœ€è¿œçš„æµ·æ´‹åŒºåŸŸæ˜¯æ˜¯å“ªä¸€ä¸ªå—ï¼Ÿè¯·è¿”å›è¯¥æµ·æ´‹åŒºåŸŸåˆ°ç¦»å®ƒæœ€è¿‘çš„é™†åœ°åŒºåŸŸçš„è·ç¦»ã€‚</p>
<p>æˆ‘ä»¬è¿™é‡Œè¯´çš„è·ç¦»æ˜¯ã€æ›¼å“ˆé¡¿è·ç¦»ã€ï¼ˆ Manhattan Distanceï¼‰ï¼š(x0, y0) å’Œ (x1, y1) è¿™ä¸¤ä¸ªåŒºåŸŸä¹‹é—´çš„è·ç¦»æ˜¯ |x0 - x1| + |y0 - y1| ã€‚</p>
<p>å¦‚æœæˆ‘ä»¬çš„åœ°å›¾ä¸Šåªæœ‰é™†åœ°æˆ–è€…æµ·æ´‹ï¼Œè¯·è¿”å› -1ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<p><img src="https://s1.ax1x.com/2020/03/29/GVuO3Q.png" alt="GVuO3Q.png"></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š[[<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>],[<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>],[<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>]]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">2</span></span><br><span class="line">è§£é‡Šï¼š </span><br><span class="line">æµ·æ´‹åŒºåŸŸ (<span class="number">1</span>, <span class="number">1</span>) å’Œæ‰€æœ‰é™†åœ°åŒºåŸŸä¹‹é—´çš„è·ç¦»éƒ½è¾¾åˆ°æœ€å¤§ï¼Œæœ€å¤§è·ç¦»ä¸º <span class="number">2</span>ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<p><img src="https://s1.ax1x.com/2020/03/29/GVKSH0.png" alt="GVKSH0.png"></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š[[<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>],[<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>],[<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>]]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">4</span></span><br><span class="line">è§£é‡Šï¼š </span><br><span class="line">æµ·æ´‹åŒºåŸŸ (<span class="number">2</span>, <span class="number">2</span>) å’Œæ‰€æœ‰é™†åœ°åŒºåŸŸä¹‹é—´çš„è·ç¦»éƒ½è¾¾åˆ°æœ€å¤§ï¼Œæœ€å¤§è·ç¦»ä¸º <span class="number">4</span>ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ol>
<li><code>1 &lt;= grid.length == grid[0].length &lt;= 100</code></li>
<li><code>grid[i][j]</code> ä¸æ˜¯ <code>0</code> å°±æ˜¯ <code>1</code></li>
</ol>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>è¿™é¢˜çš„æ„æ€å…¶å®æ±‚<strong>ç¦»é™†åœ°æœ€è¿œçš„æµ·æ´‹æ˜¯é‚£ä¸€å—ï¼Œç„¶åè¿”å›è¿™ä¸ªæœ€è¿œçš„è·ç¦»</strong>ï¼Œè¿™ä¸ªé¢˜ç›®æè¿°çš„ç¡®å®è®©äººè¿·æƒ‘ï¼Œä¸€ä¼šå„¿æœ€è¿œï¼Œä¸€ä¼šå„¿æœ€è¿‘ï¼Œå…¶å®é¢˜ç›®æ„æ€ææ‡‚äº†å°±å¾ˆç®€å•äº†ï¼Œå…¶å®å’Œä¸Šé¢è…çƒ‚çš„æ©˜å­æ˜¯ä¸€æ ·çš„ã€‚å¤šæºçš„ BFSï¼Œæ›¼å“ˆé¡¿è·ç¦»å…¶å®å°±æ˜¯ä¸Šä¸‹å·¦å³èµ°çš„ step</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="type">int</span>[][] diretion=&#123;&#123;<span class="number">1</span>,<span class="number">0</span>&#125;,&#123;-<span class="number">1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">0</span>,<span class="number">1</span>&#125;,&#123;<span class="number">0</span>,-<span class="number">1</span>&#125;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">maxDistance</span><span class="params">(<span class="type">int</span>[][] grid)</span> &#123;</span><br><span class="line">    <span class="type">int</span> maxDis=-<span class="number">1</span>;</span><br><span class="line">    <span class="type">int</span> m=grid.length,n=grid[<span class="number">0</span>].length;</span><br><span class="line">    <span class="type">boolean</span>[][] visit=<span class="keyword">new</span> <span class="title class_">boolean</span>[m][n];</span><br><span class="line">    Queue&lt;Pair&gt; queue=<span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;m;i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j=<span class="number">0</span>;j&lt;n;j++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(grid[i][j]==<span class="number">1</span>)&#123;</span><br><span class="line">                queue.add(<span class="keyword">new</span> <span class="title class_">Pair</span>(i,j,<span class="number">0</span>));</span><br><span class="line">                visit[i][j]=<span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(queue.size()==<span class="number">0</span> || queue.size()==m*n)<span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    <span class="type">int</span> step=<span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> res=-<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(!queue.isEmpty())&#123;</span><br><span class="line">        Pair pair=queue.poll();</span><br><span class="line">        res=pair.step;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>;i&lt;<span class="number">4</span>;i++) &#123;</span><br><span class="line">            <span class="type">int</span> nx=pair.x+diretion[i][<span class="number">0</span>];</span><br><span class="line">            <span class="type">int</span> ny=pair.y+diretion[i][<span class="number">1</span>];</span><br><span class="line">            <span class="keyword">if</span>(valid(grid,nx,ny) &amp;&amp; !visit[nx][ny] &amp;&amp; grid[nx][ny]==<span class="number">0</span>)&#123;</span><br><span class="line">                queue.add(<span class="keyword">new</span> <span class="title class_">Pair</span>(nx,ny,pair.step+<span class="number">1</span>));</span><br><span class="line">                visit[nx][ny]=<span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Pair</span>&#123;</span><br><span class="line">    <span class="type">int</span> x,y;</span><br><span class="line">    <span class="type">int</span> step;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Pair</span><span class="params">(<span class="type">int</span> x,<span class="type">int</span> y,<span class="type">int</span> step)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.x=x;</span><br><span class="line">        <span class="built_in">this</span>.y=y;</span><br><span class="line">        <span class="built_in">this</span>.step=step;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">valid</span><span class="params">(<span class="keyword">final</span> <span class="type">int</span>[][] grid,<span class="type">int</span> x,<span class="type">int</span> y)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x&gt;=<span class="number">0</span> &amp;&amp; x&lt;grid.length &amp;&amp; y&gt;=<span class="number">0</span> &amp;&amp; y&lt;grid[<span class="number">0</span>].length;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="207-è¯¾ç¨‹è¡¨"><a href="#207-è¯¾ç¨‹è¡¨" class="headerlink" title="207. è¯¾ç¨‹è¡¨"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/course-schedule/">207. è¯¾ç¨‹è¡¨</a></h2><p>ä½ è¿™ä¸ªå­¦æœŸå¿…é¡»é€‰ä¿® <code>numCourse</code> é—¨è¯¾ç¨‹ï¼Œè®°ä¸º 0 åˆ° <code>numCourse-1</code> ã€‚</p>
<p>åœ¨é€‰ä¿®æŸäº›è¯¾ç¨‹ä¹‹å‰éœ€è¦ä¸€äº›å…ˆä¿®è¯¾ç¨‹ã€‚ ä¾‹å¦‚ï¼Œæƒ³è¦å­¦ä¹ è¯¾ç¨‹ 0 ï¼Œä½ éœ€è¦å…ˆå®Œæˆè¯¾ç¨‹ 1 ï¼Œæˆ‘ä»¬ç”¨ä¸€ä¸ªåŒ¹é…æ¥è¡¨ç¤ºä»–ä»¬ï¼š<code>[0,1]</code></p>
<p>ç»™å®šè¯¾ç¨‹æ€»é‡ä»¥åŠå®ƒä»¬çš„å…ˆå†³æ¡ä»¶ï¼Œè¯·ä½ åˆ¤æ–­æ˜¯å¦å¯èƒ½å®Œæˆæ‰€æœ‰è¯¾ç¨‹çš„å­¦ä¹ ï¼Ÿ</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š<span class="number">2</span>, [[<span class="number">1</span>,<span class="number">0</span>]] </span><br><span class="line">è¾“å‡ºï¼š<span class="literal">true</span></span><br><span class="line">è§£é‡Šï¼šæ€»å…±æœ‰ <span class="number">2</span> é—¨è¯¾ç¨‹ã€‚å­¦ä¹ è¯¾ç¨‹ <span class="number">1</span> ä¹‹å‰ï¼Œä½ éœ€è¦å®Œæˆè¯¾ç¨‹ <span class="number">0</span>ã€‚æ‰€ä»¥è¿™æ˜¯å¯èƒ½çš„ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š<span class="number">2</span>, [[<span class="number">1</span>,<span class="number">0</span>],[<span class="number">0</span>,<span class="number">1</span>]]</span><br><span class="line">è¾“å‡ºï¼š<span class="literal">false</span></span><br><span class="line">è§£é‡Šï¼šæ€»å…±æœ‰ <span class="number">2</span> é—¨è¯¾ç¨‹ã€‚å­¦ä¹ è¯¾ç¨‹ <span class="number">1</span> ä¹‹å‰ï¼Œä½ éœ€è¦å…ˆå®Œæˆè¯¾ç¨‹ <span class="number">0</span>ï¼›å¹¶ä¸”å­¦ä¹ è¯¾ç¨‹ <span class="number">0</span> ä¹‹å‰ï¼Œä½ è¿˜åº”å…ˆå®Œæˆè¯¾ç¨‹ <span class="number">1</span>ã€‚è¿™æ˜¯ä¸å¯èƒ½çš„ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ol>
<li>è¾“å…¥çš„å…ˆå†³æ¡ä»¶æ˜¯ç”± è¾¹ç¼˜åˆ—è¡¨ è¡¨ç¤ºçš„å›¾å½¢ï¼Œè€Œä¸æ˜¯ é‚»æ¥çŸ©é˜µ ã€‚è¯¦æƒ…è¯·å‚è§å›¾çš„è¡¨ç¤ºæ³•ã€‚</li>
<li>ä½ å¯ä»¥å‡å®šè¾“å…¥çš„å…ˆå†³æ¡ä»¶ä¸­æ²¡æœ‰é‡å¤çš„è¾¹ã€‚</li>
<li><code>1 &lt;= numCourses &lt;= 10^5</code></li>
</ol>
<p><strong>è§£æ³•äºŒ</strong></p>
<p>å­¦ä¹ ä¸‹æ‹“æ‰‘æ’åºï¼Œå…¶å®æ ¸å¿ƒåœ¨äºé‚»æ¥è¡¨çš„æ„å»º</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">canFinish</span><span class="params">(<span class="type">int</span> numCourses, <span class="type">int</span>[][] prerequisites)</span> &#123;</span><br><span class="line">    <span class="type">int</span>[] indegree=<span class="keyword">new</span> <span class="title class_">int</span>[numCourses];</span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; adjacency=<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;numCourses;i++)&#123;</span><br><span class="line">        adjacency.add(<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span>[] p:prerequisites)&#123;</span><br><span class="line">        indegree[p[<span class="number">0</span>]]++; <span class="comment">//æ¯ä¸ªèŠ‚ç‚¹çš„å…¥åº¦å€¼</span></span><br><span class="line">        <span class="comment">//é‚»æ¥è¡¨ï¼Œæ³¨æ„è¿™é‡Œåˆ«æåäº†ï¼Œè¿™é‡Œè®°å½•çš„æ˜¯ p[1] æ‰€æœ‰çš„å‡ºåº¦èŠ‚ç‚¹</span></span><br><span class="line">        adjacency.get(p[<span class="number">1</span>]).add(p[<span class="number">0</span>]); </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//è¯¾ç¨‹ id</span></span><br><span class="line">    Queue&lt;Integer&gt; queue=<span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;numCourses;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(indegree[i]==<span class="number">0</span>)&#123;</span><br><span class="line">            queue.add(i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(!queue.isEmpty())&#123;</span><br><span class="line">        <span class="type">int</span> cid=queue.poll();</span><br><span class="line">        numCourses--;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> id:adjacency.get(cid)) &#123; <span class="comment">//cid --&gt; id</span></span><br><span class="line">            <span class="comment">//è¯¥èŠ‚ç‚¹çš„æ‰€æœ‰é‚»æ¥èŠ‚ç‚¹å…¥åº¦--</span></span><br><span class="line">            indegree[id]--;</span><br><span class="line">            <span class="keyword">if</span>(indegree[id]==<span class="number">0</span>)&#123;</span><br><span class="line">                queue.add(id);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> numCourses==<span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="210-è¯¾ç¨‹è¡¨-II"><a href="#210-è¯¾ç¨‹è¡¨-II" class="headerlink" title="210. è¯¾ç¨‹è¡¨ II"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/course-schedule-ii/">210. è¯¾ç¨‹è¡¨ II</a></h2><p>ç°åœ¨ä½ æ€»å…±æœ‰ <em>n</em> é—¨è¯¾éœ€è¦é€‰ï¼Œè®°ä¸º <code>0</code> åˆ° <code>n-1</code>ã€‚</p>
<p>åœ¨é€‰ä¿®æŸäº›è¯¾ç¨‹ä¹‹å‰éœ€è¦ä¸€äº›å…ˆä¿®è¯¾ç¨‹ã€‚ ä¾‹å¦‚ï¼Œæƒ³è¦å­¦ä¹ è¯¾ç¨‹ 0 ï¼Œä½ éœ€è¦å…ˆå®Œæˆè¯¾ç¨‹ 1 ï¼Œæˆ‘ä»¬ç”¨ä¸€ä¸ªåŒ¹é…æ¥è¡¨ç¤ºä»–ä»¬ï¼š<code>[0,1]</code></p>
<p>ç»™å®šè¯¾ç¨‹æ€»é‡ä»¥åŠå®ƒä»¬çš„å…ˆå†³æ¡ä»¶ï¼Œè¿”å›ä½ ä¸ºäº†å­¦å®Œæ‰€æœ‰è¯¾ç¨‹æ‰€å®‰æ’çš„å­¦ä¹ é¡ºåºã€‚</p>
<p>å¯èƒ½ä¼šæœ‰å¤šä¸ªæ­£ç¡®çš„é¡ºåºï¼Œä½ åªè¦è¿”å›ä¸€ç§å°±å¯ä»¥äº†ã€‚å¦‚æœä¸å¯èƒ½å®Œæˆæ‰€æœ‰è¯¾ç¨‹ï¼Œè¿”å›ä¸€ä¸ªç©ºæ•°ç»„ã€‚</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š<span class="number">2</span>, [[<span class="number">1</span>,<span class="number">0</span>]] </span><br><span class="line">è¾“å‡ºï¼š[<span class="number">0</span>,<span class="number">1</span>]</span><br><span class="line">è§£é‡Šï¼šæ€»å…±æœ‰ <span class="number">2</span> é—¨è¯¾ç¨‹ã€‚è¦å­¦ä¹ è¯¾ç¨‹ <span class="number">1</span>ï¼Œä½ éœ€è¦å…ˆå®Œæˆè¯¾ç¨‹ <span class="number">0</span>ã€‚å› æ­¤ï¼Œæ­£ç¡®çš„è¯¾ç¨‹é¡ºåºä¸º [<span class="number">0</span>,<span class="number">1</span>] ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š<span class="number">4</span>, [[<span class="number">1</span>,<span class="number">0</span>],[<span class="number">2</span>,<span class="number">0</span>],[<span class="number">3</span>,<span class="number">1</span>],[<span class="number">3</span>,<span class="number">2</span>]]</span><br><span class="line">è¾“å‡ºï¼š[<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>] or [<span class="number">0</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">3</span>]</span><br><span class="line">è§£é‡Šï¼šæ€»å…±æœ‰ <span class="number">4</span> é—¨è¯¾ç¨‹ã€‚è¦å­¦ä¹ è¯¾ç¨‹ <span class="number">3</span>ï¼Œä½ åº”è¯¥å…ˆå®Œæˆè¯¾ç¨‹ <span class="number">1</span> å’Œè¯¾ç¨‹ <span class="number">2</span>ã€‚å¹¶ä¸”è¯¾ç¨‹ <span class="number">1</span> å’Œè¯¾ç¨‹ <span class="number">2</span> éƒ½åº”è¯¥æ’åœ¨è¯¾ç¨‹ <span class="number">0</span> ä¹‹åã€‚</span><br><span class="line">     å› æ­¤ï¼Œä¸€ä¸ªæ­£ç¡®çš„è¯¾ç¨‹é¡ºåºæ˜¯ [<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>] ã€‚å¦ä¸€ä¸ªæ­£ç¡®çš„æ’åºæ˜¯ [<span class="number">0</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">3</span>] ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>è¯´æ˜ï¼š</strong></p>
<ol>
<li>è¾“å…¥çš„å…ˆå†³æ¡ä»¶æ˜¯ç”±<strong>è¾¹ç¼˜åˆ—è¡¨</strong>è¡¨ç¤ºçš„å›¾å½¢ï¼Œè€Œä¸æ˜¯é‚»æ¥çŸ©é˜µã€‚è¯¦æƒ…è¯·å‚è§ <a target="_blank" rel="noopener" href="http://blog.csdn.net/woaidapaopao/article/details/51732947">å›¾çš„è¡¨ç¤ºæ³•</a>ã€‚</li>
<li>ä½ å¯ä»¥å‡å®šè¾“å…¥çš„å…ˆå†³æ¡ä»¶ä¸­æ²¡æœ‰é‡å¤çš„è¾¹ã€‚</li>
</ol>
<p><strong>æç¤ºï¼š</strong></p>
<ol>
<li>è¿™ä¸ªé—®é¢˜ç›¸å½“äºæŸ¥æ‰¾ä¸€ä¸ªå¾ªç¯æ˜¯å¦å­˜åœ¨äºæœ‰å‘å›¾ä¸­ã€‚å¦‚æœå­˜åœ¨å¾ªç¯ï¼Œåˆ™ä¸å­˜åœ¨æ‹“æ‰‘æ’åºï¼Œå› æ­¤ä¸å¯èƒ½é€‰å–æ‰€æœ‰è¯¾ç¨‹è¿›è¡Œå­¦ä¹ ã€‚</li>
<li><a target="_blank" rel="noopener" href="https://www.coursera.org/specializations/algorithms">é€šè¿‡ DFS è¿›è¡Œæ‹“æ‰‘æ’åº</a> - ä¸€ä¸ªå…³äº Coursera çš„ç²¾å½©è§†é¢‘æ•™ç¨‹ï¼ˆ21 åˆ†é’Ÿï¼‰ï¼Œä»‹ç»æ‹“æ‰‘æ’åºçš„åŸºæœ¬æ¦‚å¿µã€‚</li>
<li>æ‹“æ‰‘æ’åºä¹Ÿå¯ä»¥é€šè¿‡ <a target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E5%AE%BD%E5%BA%A6%E4%BC%98%E5%85%88%E6%90%9C%E7%B4%A2/5224802?fr=aladdin&fromid=2148012&fromtitle=%E5%B9%BF%E5%BA%A6%E4%BC%98%E5%85%88%E6%90%9C%E7%B4%A2">BFS</a> å®Œæˆã€‚</li>
</ol>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>BFS åšæ³•ï¼Œå’Œä¸Šé¢ä¸€æ ·</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//BFS æ‹“æ‰‘æ’åº</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span>[] findOrder(<span class="type">int</span> numCourses, <span class="type">int</span>[][] prerequisites) &#123;</span><br><span class="line">    <span class="type">int</span>[] indegree=<span class="keyword">new</span> <span class="title class_">int</span>[numCourses]; <span class="comment">//å…¥åº¦æ•°</span></span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; adjacency=<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;numCourses;i++)&#123;</span><br><span class="line">        adjacency.add(<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span>[] pre:prerequisites)&#123;</span><br><span class="line">        indegree[pre[<span class="number">0</span>]]++;</span><br><span class="line">        adjacency.get(pre[<span class="number">1</span>]).add(pre[<span class="number">0</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> k=<span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span>[] res=<span class="keyword">new</span> <span class="title class_">int</span>[numCourses];</span><br><span class="line">    Queue&lt;Integer&gt; queue=<span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;numCourses;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(indegree[i]==<span class="number">0</span>)&#123;</span><br><span class="line">            queue.add(i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(!queue.isEmpty())&#123;</span><br><span class="line">        <span class="type">int</span> cur=queue.poll();</span><br><span class="line">        res[k++]=cur;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> c:adjacency.get(cur))&#123;</span><br><span class="line">            indegree[c]--;</span><br><span class="line">            <span class="keyword">if</span>(indegree[c]==<span class="number">0</span>)&#123;</span><br><span class="line">                queue.add(c);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> k==numCourses?res:<span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">0</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•äºŒ</strong></p>
<p>DFS çš„åšæ³•ï¼Œæ¯” BFS æ›´æœ‰æ„æ€ä¸€ç‚¹ï¼Œå…¶å®å°±æ˜¯ä¸ªä¸æ–­åˆ¤ç¯çš„è¿‡ç¨‹ï¼Œå›¾ç›¸å…³çš„è¿˜æ˜¯ä¸å¤ªç†Ÿæ‚‰å•Š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//DFS çš„è§£æ³•</span></span><br><span class="line"><span class="type">int</span> k=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span>[] findOrder(<span class="type">int</span> numCourses, <span class="type">int</span>[][] prerequisites) &#123;</span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; adjacency=<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;numCourses;i++)&#123;</span><br><span class="line">        adjacency.add(<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span>[] mark=<span class="keyword">new</span> <span class="title class_">int</span>[numCourses];</span><br><span class="line">    <span class="type">int</span>[] res=<span class="keyword">new</span> <span class="title class_">int</span>[numCourses];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span>[] pre:prerequisites)&#123;</span><br><span class="line">        adjacency.get(pre[<span class="number">0</span>]).add(pre[<span class="number">1</span>]); <span class="comment">//æ³¨æ„è¿™ä¸ªåŒºåˆ«</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>;i&lt;numCourses;i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(dfs(adjacency,i,mark,res)) <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">0</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">dfs</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; adj,<span class="type">int</span> cur,<span class="type">int</span>[] mark,<span class="type">int</span>[] res)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(mark[cur]==<span class="number">1</span>) <span class="keyword">return</span> <span class="literal">true</span>;  <span class="comment">//æ­£åœ¨è®¿é—®</span></span><br><span class="line">    <span class="keyword">if</span>(mark[cur]==<span class="number">2</span>) <span class="keyword">return</span> <span class="literal">false</span>; <span class="comment">//èŠ‚ç‚¹å·²ç»è®¿é—®å®Œï¼ˆä¹‹å‰å·²ç»å­¦äº†ï¼‰</span></span><br><span class="line">    mark[cur]=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> c:adj.get(cur))&#123;</span><br><span class="line">        <span class="keyword">if</span>(dfs(adj,c,mark,res))&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    mark[cur]=<span class="number">2</span>;</span><br><span class="line">    <span class="comment">//cur çš„å…ˆå†³è¯¾ç¨‹æ˜¯æ²¡ç¯çš„ï¼Œæ‰€ä»¥å¯ä»¥å­¦ cur</span></span><br><span class="line">    res[k++]=cur; </span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="365-æ°´å£¶é—®é¢˜"><a href="#365-æ°´å£¶é—®é¢˜" class="headerlink" title="365. æ°´å£¶é—®é¢˜"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/water-and-jug-problem/">365. æ°´å£¶é—®é¢˜</a></h2><p>Difficulty: <strong>ä¸­ç­‰</strong></p>
<p>æœ‰ä¸¤ä¸ªå®¹é‡åˆ†åˆ«ä¸ºÂ _x_å‡ å’Œ _y_å‡ çš„æ°´å£¶ä»¥åŠæ— é™å¤šçš„æ°´ã€‚è¯·åˆ¤æ–­èƒ½å¦é€šè¿‡ä½¿ç”¨è¿™ä¸¤ä¸ªæ°´å£¶ï¼Œä»è€Œå¯ä»¥å¾—åˆ°æ°å¥½Â _z_å‡ çš„æ°´ï¼Ÿ</p>
<p>å¦‚æœå¯ä»¥ï¼Œæœ€åè¯·ç”¨ä»¥ä¸Šæ°´å£¶ä¸­çš„ä¸€æˆ–ä¸¤ä¸ªæ¥ç››æ”¾å–å¾—çš„Â _z å‡Â _æ°´ã€‚</p>
<p>ä½ å…è®¸ï¼š</p>
<ul>
<li>  è£…æ»¡ä»»æ„ä¸€ä¸ªæ°´å£¶</li>
<li>  æ¸…ç©ºä»»æ„ä¸€ä¸ªæ°´å£¶</li>
<li>  ä»ä¸€ä¸ªæ°´å£¶å‘å¦å¤–ä¸€ä¸ªæ°´å£¶å€’æ°´ï¼Œç›´åˆ°è£…æ»¡æˆ–è€…å€’ç©º</li>
</ul>
<p><strong>ç¤ºä¾‹ 1:</strong> (From the famous )</p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šx = <span class="number">3</span>, y = <span class="number">5</span>, z = <span class="number">4</span></span><br><span class="line">è¾“å‡ºï¼šTrue</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šx = <span class="number">2</span>, y = <span class="number">6</span>, z = <span class="number">5</span></span><br><span class="line">è¾“å‡ºï¼šFalse</span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•ä¸€</strong></p>
<p>æš´åŠ› BFS çš„è§£æ³•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">canMeasureWater</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y, <span class="type">int</span> z)</span> &#123;</span><br><span class="line">    Queue&lt;<span class="type">int</span>[]&gt; queue = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    <span class="type">int</span> <span class="variable">capX</span> <span class="operator">=</span> x;</span><br><span class="line">    <span class="type">int</span> <span class="variable">capY</span> <span class="operator">=</span> y;</span><br><span class="line">    queue.add(<span class="keyword">new</span> <span class="title class_">int</span>[]&#123;x, y&#125;);</span><br><span class="line">    <span class="keyword">while</span>(!queue.isEmpty()) &#123;</span><br><span class="line">        <span class="type">int</span>[] cur = queue.poll();</span><br><span class="line">        <span class="type">int</span> <span class="variable">cx</span> <span class="operator">=</span> cur[<span class="number">0</span>];</span><br><span class="line">        <span class="type">int</span> <span class="variable">cy</span> <span class="operator">=</span> cur[<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">if</span> (cx==z || cy==z || cx+cy==z) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//æ¸…ç©º x</span></span><br><span class="line">        addQueue(<span class="number">0</span>, cy, queue);</span><br><span class="line">        <span class="comment">//æ¸…ç©º y</span></span><br><span class="line">        addQueue(cx, <span class="number">0</span>, queue);</span><br><span class="line">        <span class="comment">//è£…æ»¡ x</span></span><br><span class="line">        addQueue(capX, cy, queue);</span><br><span class="line">        <span class="comment">//è£…æ»¡ y</span></span><br><span class="line">        addQueue(cx, capY, queue);</span><br><span class="line">        <span class="comment">//x--&gt;y</span></span><br><span class="line">        addQueue(Math.max(<span class="number">0</span>, cx-capY+cy), Math.min(capY, cy+cx), queue);</span><br><span class="line">        <span class="comment">//y--&gt;x</span></span><br><span class="line">        addQueue(Math.min(capX, cy+cx), Math.max(<span class="number">0</span>, cy-capY+cx), queue);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addQueue</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y, Queue&lt;<span class="type">int</span>[]&gt; queue)</span>&#123;</span><br><span class="line">    <span class="type">long</span> <span class="variable">hashCode</span> <span class="operator">=</span> x * (<span class="type">long</span>)<span class="number">1e9</span>+<span class="number">7</span> + y;</span><br><span class="line">    <span class="keyword">if</span> (!visit.contains(hashCode)) &#123;</span><br><span class="line">        queue.add(<span class="keyword">new</span> <span class="title class_">int</span>[]&#123;x, y&#125;);</span><br><span class="line">        visit.add(hashCode);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>è§£æ³•äºŒ</strong><br>æ•°å­¦è§£æ³•ï¼Œæ¶‰åŠåˆ°ä¸€äº›æ•°å­¦å®šç†ï¼ˆè´ç¥–å®šç†ï¼‰ï¼Œæˆ‘ä¹Ÿä¸æ˜¯å¾ˆæ‡‚ï¼ˆå°±æ˜¯ææ‡‚è¿‡ä¸¤å¤©ä¹Ÿå¿˜äº†ï¼‰</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">canMeasureWater</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y, <span class="type">int</span> z)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span>(x+y&lt;z) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">if</span>(x==<span class="number">0</span> || y==<span class="number">0</span>) <span class="keyword">return</span> z==<span class="number">0</span> || x+y==z;</span><br><span class="line">    <span class="keyword">return</span> z%gcd(x,y)==<span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">gcd</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(b==<span class="number">0</span>) <span class="keyword">return</span> a;</span><br><span class="line">    <span class="keyword">return</span> gcd(b,a%b);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å•è°ƒæ ˆ"><a href="#å•è°ƒæ ˆ" class="headerlink" title="å•è°ƒæ ˆ"></a><em>å•è°ƒæ ˆ</em></h2><blockquote>
<p>å•ç‹¬å¼€è¾Ÿå‡ºæ–°çš„ä¸“é¢˜ <a href="http://imlgw.top/2020/08/28/leetcode-dan-diao-zhan/">LeetCode å•è°ƒæ ˆ</a></p>
</blockquote>

        
            <div class="donate-container">
    <div class="donate-button">
        <button id="donate-button">èµèµ</button>
    </div>
    <div class="donate-img-container hide" id="donate-img-container">
        <img id="donate-img" src="" data-src="">
        <p> æ„Ÿè°¢é¼“åŠ± </p>
    </div>
</div>
        
        <br />
        <div id="comment-container">
        </div>
        <div id="disqus_thread"></div>
        <div id="lv-container"></div>
        <div class="giscus"></div>
    </div>
</div>

    </div>
</div>


<footer class="footer">
    <ul class="list-inline text-center">
        
        

        

        

        
        <li>
            <a target="_blank"  href="https://github.com/imlgw">
                            <span class="fa-stack fa-lg">
                                <i class="iconfont icon-github"></i>
                            </span>
            </a>
        </li>
        

        

    </ul>
    
    <p>
        <span>/</span>
        
        <span><a href="https://imlgw.top">Tadow</a></span>
        <span>/</span>
        
        <span><a target="_blank" rel="noopener" href="http://beian.miit.gov.cn/publish/query/indexFirst.action">é„‚ICPå¤‡18011208å·</a></span>
        <span>/</span>
        
    </p>
    
    <p>
        <span id="busuanzi_container_site_pv">
            <span id="busuanzi_value_site_pv"></span>PV
        </span>
        <span id="busuanzi_container_site_uv">
            <span id="busuanzi_value_site_uv"></span>UV
        </span>
        Created By <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>  Theme <a target="_blank" rel="noopener" href="https://github.com/aircloud/hexo-theme-aircloud">AirCloud</a></p>
</footer>




<script src="https://cdn.jsdelivr.net/npm/live2d-widget@3.x/lib/L2Dwidget.min.js"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"https://cdn.jsdelivr.net/npm/live2d-widget-model-hijiki@1.0.5/assets/hijiki.model.json"},"display":{"superSample":2,"width":160,"height":320,"position":"right","hOffset":0,"vOffset":-70},"mobile":{"show":false,"scale":0.2},"log":false});</script></body>

<script>
    // We expose some of the variables needed by the front end
    window.hexo_search_path = "search.json"
    window.hexo_root = "/"
    window.isPost = true
</script>
<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>

<script src="/js/index.js"></script>

<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>




    <script src="https://giscus.app/client.js"
  data-repo="imlgw/imlgw.github.io"
  data-repo-id="MDEwOlJlcG9zaXRvcnkxMzMyMDY4NDg="
  data-category="Announcements"
  data-category-id="DIC_kwDOB_CTQM4CQ7v8"
  data-mapping="pathname"
  data-strict="0"
  data-reactions-enabled="1"
  data-emit-metadata="0"
  data-input-position="top"
  data-theme="light"
  data-lang="zh-CN"
  data-loading="lazy"
  crossorigin="anonymous"
  async>
</script>



</html>
