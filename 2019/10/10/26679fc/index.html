<!DOCTYPE html>
<html lang=zh-CN>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta property="og:description" content="Tadow çš„åšå®¢">
    <meta property="og:type" content="website">
    <meta name="description" content="Tadow çš„åšå®¢">
    <meta name="keyword"  content="Tadow, Resolmi, imlgw, åŠå²›é“ç›’, ç®—æ³•, Java, Golang">
    <link rel="shortcut icon" href="https://fav.farm/ğŸ’­">

    <title>
        
        LeetCode å›æº¯&amp;é€’å½’ - Tadow ç¢ç¢å¿µ
        
    </title>

    <!-- Custom CSS -->
    
<link rel="stylesheet" href="/css/aircloud.css">

    
<link rel="stylesheet" href="/css/gitment.css">

    <!--<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">-->
    <link href="//at.alicdn.com/t/font_620856_28hi1hpxx24.css" rel="stylesheet" type="text/css">
    <!-- ga & ba script hoook -->
    <script></script>
<meta name="generator" content="Hexo 5.4.2"><link rel="alternate" href="/atom.xml" title="Tadow ç¢ç¢å¿µ" type="application/atom+xml">
</head>

<body>

<div class="site-nav-toggle" id="site-nav-toggle">
    <button>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
    </button>
</div>

<div class="index-about">
    <i> Keep It Simple, Stupid </i>
</div>

<div class="index-container">
    
    <div class="index-left">
        
<div class="nav" id="nav">
    <div class="avatar-name">
        <div class="avatar radius">
            <img src="https://static.imlgw.top/blog/20220821160037.png" />
        </div>
        <div class="name">
            <i>Tadow</i>
        </div>
    </div>
    <div class="contents" id="nav-content">
        <ul>
            <li >
                <a href="/">
                    <i class="iconfont icon-shouye1"></i>
                    <span>ä¸»é¡µ</span>
                </a>
            </li>
            <!-- <li >
                <a href="/tags">
                    <i class="iconfont icon-biaoqian1"></i>
                    <span>æ ‡ç­¾</span>
                </a>
            </li> -->
            <li >
                <a href="/categories">
                    <i class="iconfont icon-biaoqian1"></i>
                    <span>åˆ†ç±»</span>
                </a>
            </li>
            <li >
                <a href="/archives">
                    <i class="iconfont icon-guidang2"></i>
                    <span>å­˜æ¡£</span>
                </a>
            </li>
            
            <li >
                <a href="/selfhosted">
                    <i class="iconfont icon-guidang1"></i>
                    <span>è‡ªå»º</span>
                </a>
            </li>

            <li >
                <a href="/collect/">
                    <i class="iconfont icon-shoucang1"></i>
                    <span>æ”¶è—</span>
                </a>
            </li>

            <li >
                <a href="/about/">
                    <i class="iconfont icon-guanyu2"></i>
                    <span>å…³äº</span>
                </a>
            </li>
            
            <li>
                <a id="search">
                    <i class="iconfont icon-sousuo1"></i>
                    <span>æœç´¢</span>
                </a>
            </li>
            
        </ul>
    </div>
    
        <div id="toc" class="toc-article">
    <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#17-%E7%94%B5%E8%AF%9D%E5%8F%B7%E7%A0%81%E7%9A%84%E5%AD%97%E6%AF%8D%E7%BB%84%E5%90%88"><span class="toc-text">17. ç”µè¯å·ç çš„å­—æ¯ç»„åˆ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#93-%E5%A4%8D%E5%8E%9F-IP-%E5%9C%B0%E5%9D%80"><span class="toc-text">93. å¤åŸ IP åœ°å€</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#131-%E5%88%86%E5%89%B2%E5%9B%9E%E6%96%87%E4%B8%B2"><span class="toc-text">131. åˆ†å‰²å›æ–‡ä¸²</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#46-%E5%85%A8%E6%8E%92%E5%88%97"><span class="toc-text">46. å…¨æ’åˆ—</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#60-%E7%AC%AC-k-%E4%B8%AA%E6%8E%92%E5%88%97"><span class="toc-text">60. ç¬¬ k ä¸ªæ’åˆ—</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5374-%E9%95%BF%E5%BA%A6%E4%B8%BA-n-%E7%9A%84%E5%BC%80%E5%BF%83%E5%AD%97%E7%AC%A6%E4%B8%B2%E4%B8%AD%E5%AD%97%E5%85%B8%E5%BA%8F%E7%AC%AC-k-%E5%B0%8F%E7%9A%84%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-text">5374. é•¿åº¦ä¸º n çš„å¼€å¿ƒå­—ç¬¦ä¸²ä¸­å­—å…¸åºç¬¬ k å°çš„å­—ç¬¦ä¸²</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#47-%E5%85%A8%E6%8E%92%E5%88%97-II"><span class="toc-text">47. å…¨æ’åˆ— II</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Bug-%E8%AD%A6%E5%91%8A"><span class="toc-text">Bug è­¦å‘Š</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1286-%E5%AD%97%E6%AF%8D%E7%BB%84%E5%90%88%E8%BF%AD%E4%BB%A3%E5%99%A8"><span class="toc-text">1286. å­—æ¯ç»„åˆè¿­ä»£å™¨</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#77-%E7%BB%84%E5%90%88"><span class="toc-text">77. ç»„åˆ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#39-%E7%BB%84%E5%90%88%E6%80%BB%E5%92%8C"><span class="toc-text">39. ç»„åˆæ€»å’Œ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#40-%E7%BB%84%E5%90%88%E6%80%BB%E5%92%8C-II"><span class="toc-text">40. ç»„åˆæ€»å’Œ II</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#216-%E7%BB%84%E5%90%88%E6%80%BB%E5%92%8C-III"><span class="toc-text">216. ç»„åˆæ€»å’Œ III</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#78-%E5%AD%90%E9%9B%86"><span class="toc-text">78. å­é›†</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#90-%E5%AD%90%E9%9B%86-II"><span class="toc-text">90. å­é›† II</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#357-%E8%AE%A1%E7%AE%97%E5%90%84%E4%B8%AA%E4%BD%8D%E6%95%B0%E4%B8%8D%E5%90%8C%E7%9A%84%E6%95%B0%E5%AD%97%E4%B8%AA%E6%95%B0"><span class="toc-text">357. è®¡ç®—å„ä¸ªä½æ•°ä¸åŒçš„æ•°å­—ä¸ªæ•°</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#89-%E6%A0%BC%E9%9B%B7%E7%BC%96%E7%A0%81"><span class="toc-text">89. æ ¼é›·ç¼–ç </span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#526-%E4%BC%98%E7%BE%8E%E7%9A%84%E6%8E%92%E5%88%97"><span class="toc-text">526. ä¼˜ç¾çš„æ’åˆ—</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#784-%E5%AD%97%E6%AF%8D%E5%A4%A7%E5%B0%8F%E5%86%99%E5%85%A8%E6%8E%92%E5%88%97"><span class="toc-text">784. å­—æ¯å¤§å°å†™å…¨æ’åˆ—</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1079-%E6%B4%BB%E5%AD%97%E5%8D%B0%E5%88%B7"><span class="toc-text">1079. æ´»å­—å°åˆ·</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Bug-%E8%AD%A6%E5%91%8A%EF%BC%81%EF%BC%81%EF%BC%81"><span class="toc-text">Bug è­¦å‘Šï¼ï¼ï¼</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1291-%E9%A1%BA%E6%AC%A1%E6%95%B0"><span class="toc-text">1291. é¡ºæ¬¡æ•°</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#22-%E6%8B%AC%E5%8F%B7%E7%94%9F%E6%88%90"><span class="toc-text">22. æ‹¬å·ç”Ÿæˆ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#306-%E7%B4%AF%E5%8A%A0%E6%95%B0"><span class="toc-text">306. ç´¯åŠ æ•°</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#842-%E5%B0%86%E6%95%B0%E7%BB%84%E6%8B%86%E5%88%86%E6%88%90%E6%96%90%E6%B3%A2%E9%82%A3%E5%A5%91%E5%BA%8F%E5%88%97"><span class="toc-text">842. å°†æ•°ç»„æ‹†åˆ†æˆæ–æ³¢é‚£å¥‘åºåˆ—</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#139-%E5%8D%95%E8%AF%8D%E6%8B%86%E5%88%86"><span class="toc-text">139. å•è¯æ‹†åˆ†</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#140-%E5%8D%95%E8%AF%8D%E6%8B%86%E5%88%86-II"><span class="toc-text">140. å•è¯æ‹†åˆ† II</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#473-%E7%81%AB%E6%9F%B4%E6%8B%BC%E6%AD%A3%E6%96%B9%E5%BD%A2"><span class="toc-text">473. ç«æŸ´æ‹¼æ­£æ–¹å½¢</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#698-%E5%88%92%E5%88%86%E4%B8%BA-k-%E4%B8%AA%E7%9B%B8%E7%AD%89%E7%9A%84%E5%AD%90%E9%9B%86"><span class="toc-text">698. åˆ’åˆ†ä¸º k ä¸ªç›¸ç­‰çš„å­é›†</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#491-%E9%80%92%E5%A2%9E%E5%AD%90%E5%BA%8F%E5%88%97"><span class="toc-text">491. é€’å¢å­åºåˆ—</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#679-24-%E7%82%B9%E6%B8%B8%E6%88%8F"><span class="toc-text">679. 24 ç‚¹æ¸¸æˆ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5526-%E6%9C%80%E5%A4%9A%E5%8F%AF%E8%BE%BE%E6%88%90%E7%9A%84%E6%8D%A2%E6%A5%BC%E8%AF%B7%E6%B1%82%E6%95%B0%E7%9B%AE"><span class="toc-text">5526. æœ€å¤šå¯è¾¾æˆçš„æ¢æ¥¼è¯·æ±‚æ•°ç›®</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E7%BB%B4%E5%B9%B3%E9%9D%A2%E4%B8%8A%E7%9A%84%E5%9B%9E%E6%BA%AF"><span class="toc-text">äºŒç»´å¹³é¢ä¸Šçš„å›æº¯</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#79-%E5%8D%95%E8%AF%8D%E6%90%9C%E7%B4%A2"><span class="toc-text">79. å•è¯æœç´¢</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#200-%E5%B2%9B%E5%B1%BF%E6%95%B0%E9%87%8F"><span class="toc-text">200. å²›å±¿æ•°é‡</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#130-%E8%A2%AB%E5%9B%B4%E7%BB%95%E7%9A%84%E5%8C%BA%E5%9F%9F"><span class="toc-text">130. è¢«å›´ç»•çš„åŒºåŸŸ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#417-%E5%A4%AA%E5%B9%B3%E6%B4%8B%E5%A4%A7%E8%A5%BF%E6%B4%8B%E6%B0%B4%E6%B5%81%E9%97%AE%E9%A2%98"><span class="toc-text">417. å¤ªå¹³æ´‹å¤§è¥¿æ´‹æ°´æµé—®é¢˜</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#51-N-%E7%9A%87%E5%90%8E"><span class="toc-text">51. N çš‡å</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#52-N-%E7%9A%87%E5%90%8E-II"><span class="toc-text">52. N çš‡å II</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#37-%E8%A7%A3%E6%95%B0%E7%8B%AC"><span class="toc-text">37. è§£æ•°ç‹¬</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#529-%E6%89%AB%E9%9B%B7%E6%B8%B8%E6%88%8F"><span class="toc-text">529. æ‰«é›·æ¸¸æˆ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#695-%E5%B2%9B%E5%B1%BF%E7%9A%84%E6%9C%80%E5%A4%A7%E9%9D%A2%E7%A7%AF"><span class="toc-text">695. å²›å±¿çš„æœ€å¤§é¢ç§¯</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#547-%E6%9C%8B%E5%8F%8B%E5%9C%88"><span class="toc-text">547. æœ‹å‹åœˆ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1219-%E9%BB%84%E9%87%91%E7%9F%BF%E5%B7%A5"><span class="toc-text">1219. é»„é‡‘çŸ¿å·¥</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9D%A2%E8%AF%95%E9%A2%98-13-%E6%9C%BA%E5%99%A8%E4%BA%BA%E7%9A%84%E8%BF%90%E5%8A%A8%E8%8C%83%E5%9B%B4"><span class="toc-text">é¢è¯•é¢˜ 13. æœºå™¨äººçš„è¿åŠ¨èŒƒå›´</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1020-%E9%A3%9E%E5%9C%B0%E7%9A%84%E6%95%B0%E9%87%8F"><span class="toc-text">1020. é£åœ°çš„æ•°é‡</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#934-%E6%9C%80%E7%9F%AD%E7%9A%84%E6%A1%A5"><span class="toc-text">934. æœ€çŸ­çš„æ¡¥</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#733-%E5%9B%BE%E5%83%8F%E6%B8%B2%E6%9F%93"><span class="toc-text">733. å›¾åƒæ¸²æŸ“</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1559-%E4%BA%8C%E7%BB%B4%E7%BD%91%E6%A0%BC%E5%9B%BE%E4%B8%AD%E6%8E%A2%E6%B5%8B%E7%8E%AF"><span class="toc-text">1559. äºŒç»´ç½‘æ ¼å›¾ä¸­æ¢æµ‹ç¯</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#332-%E9%87%8D%E6%96%B0%E5%AE%89%E6%8E%92%E8%A1%8C%E7%A8%8B"><span class="toc-text">332. é‡æ–°å®‰æ’è¡Œç¨‹</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#841-%E9%92%A5%E5%8C%99%E5%92%8C%E6%88%BF%E9%97%B4"><span class="toc-text">841. é’¥åŒ™å’Œæˆ¿é—´</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%86%E6%B2%BB"><span class="toc-text">åˆ†æ²»</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#241-%E4%B8%BA%E8%BF%90%E7%AE%97%E8%A1%A8%E8%BE%BE%E5%BC%8F%E8%AE%BE%E8%AE%A1%E4%BC%98%E5%85%88%E7%BA%A7"><span class="toc-text">241. ä¸ºè¿ç®—è¡¨è¾¾å¼è®¾è®¡ä¼˜å…ˆçº§</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#395-%E8%87%B3%E5%B0%91%E6%9C%89-K-%E4%B8%AA%E9%87%8D%E5%A4%8D%E5%AD%97%E7%AC%A6%E7%9A%84%E6%9C%80%E9%95%BF%E5%AD%90%E4%B8%B2"><span class="toc-text">395. è‡³å°‘æœ‰ K ä¸ªé‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²</span></a></li></ol>
</div>
    
</div>


<div class="search-field" id="search-field">
    <div class="search-bg" id="search-bg"></div>
    <div class="search-container">
        <div class="search-input">
            <span id="esc-search"> <i class="icon-fanhui iconfont"></i></span>
            <input id="search-input"/>
            <span id="begin-search">æœç´¢</span>
        </div>
        <div class="search-result-container" id="search-result-container">

        </div>
    </div>
</div>

        <div class="index-about-mobile">
            <i> Keep It Simple, Stupid </i>
        </div>
    </div>
    
    <div class="index-middle">
        <!-- Main Content -->
        


<div class="post-container">
    <div class="post-title">
        LeetCode å›æº¯&amp;é€’å½’
    </div>

    <div class="post-meta">
        <span class="attr">å‘å¸ƒäºï¼š<span>2019-10-10 00:00:00</span></span>
        
        <span class="attr">æ ‡ç­¾ï¼š/
        
        <a class="tag" href="/tags/#LeetCode" title="LeetCode">LeetCode</a>
        <span>/</span>
        
        <a class="tag" href="/tags/#å›æº¯" title="å›æº¯">å›æº¯</a>
        <span>/</span>
        
        
        </span>
        <span class="attr">è®¿é—®ï¼š<span id="busuanzi_value_page_pv"></span>
</span>
</span>
    </div>
    <div class="post-content no-indent">
        <h2 id="17-ç”µè¯å·ç çš„å­—æ¯ç»„åˆ"><a href="#17-ç”µè¯å·ç çš„å­—æ¯ç»„åˆ" class="headerlink" title="17. ç”µè¯å·ç çš„å­—æ¯ç»„åˆ"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/letter-combinations-of-a-phone-number/">17. ç”µè¯å·ç çš„å­—æ¯ç»„åˆ</a></h2><p>ç»™å®šä¸€ä¸ªä»…åŒ…å«æ•°å­— <code>2-9</code> çš„å­—ç¬¦ä¸²ï¼Œè¿”å›æ‰€æœ‰å®ƒèƒ½è¡¨ç¤ºçš„å­—æ¯ç»„åˆã€‚</p>
<p>ç»™å‡ºæ•°å­—åˆ°å­—æ¯çš„æ˜ å°„å¦‚ä¸‹ï¼ˆä¸ç”µè¯æŒ‰é”®ç›¸åŒï¼‰æ³¨æ„ 1 ä¸å¯¹åº”ä»»ä½•å­—æ¯</p>
<p><img src="http://static.imlgw.top/blog/20191012/Ro4wr1dv5pR7.png?imageslim" alt="mark"></p>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š<span class="string">&quot;23&quot;</span></span><br><span class="line">è¾“å‡ºï¼š[<span class="string">&quot;ad&quot;</span>, <span class="string">&quot;ae&quot;</span>, <span class="string">&quot;af&quot;</span>, <span class="string">&quot;bd&quot;</span>, <span class="string">&quot;be&quot;</span>, <span class="string">&quot;bf&quot;</span>, <span class="string">&quot;cd&quot;</span>, <span class="string">&quot;ce&quot;</span>, <span class="string">&quot;cf&quot;</span>].</span><br></pre></td></tr></table></figure>

<p><strong>è¯´æ˜ï¼š</strong><br>å°½ç®¡ä¸Šé¢çš„ç­”æ¡ˆæ˜¯æŒ‰å­—å…¸åºæ’åˆ—çš„ï¼Œä½†æ˜¯ä½ å¯ä»¥ä»»æ„é€‰æ‹©ç­”æ¡ˆè¾“å‡ºçš„é¡ºåºã€‚</p>
<p><strong>è§£æ³•ä¸€</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">String[] letter=&#123;<span class="string">&quot; &quot;</span>,<span class="string">&quot;&quot;</span>,<span class="string">&quot;abc&quot;</span>,<span class="string">&quot;def&quot;</span>,<span class="string">&quot;ghi&quot;</span>,<span class="string">&quot;jkl&quot;</span>,<span class="string">&quot;mno&quot;</span>,<span class="string">&quot;pqrs&quot;</span>,<span class="string">&quot;tuv&quot;</span>,<span class="string">&quot;wxyz&quot;</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> List&lt;String&gt; res=<span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> List&lt;String&gt; <span class="title function_">letterCombinations</span><span class="params">(String digits)</span> &#123;</span><br><span class="line">    <span class="comment">//ç©ºå­—ç¬¦ä¸²è¦æ³¨æ„</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="string">&quot;&quot;</span>.equals(digits)) <span class="keyword">return</span> res;</span><br><span class="line">    letterCombinations(digits,<span class="number">0</span>,<span class="string">&quot;&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">letterCombinations</span><span class="params">(String digits,<span class="type">int</span> index,String str)</span> &#123;</span><br><span class="line">    <span class="comment">//é€’å½’å‡ºå£ï¼Œå½“ index==digits çš„é•¿åº¦çš„æ—¶å€™å°±è¯´æ˜èµ°åˆ°å°½å¤´äº†</span></span><br><span class="line">    <span class="comment">//éœ€è¦å›å¤´å°è¯•å…¶ä»–çš„æƒ…å†µ</span></span><br><span class="line">    <span class="keyword">if</span> (index==digits.length()) &#123;</span><br><span class="line">        res.add(str);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//å½“å‰å­—ç¬¦å¯¹åº”çš„å­—æ¯ç»„åˆ</span></span><br><span class="line">    <span class="type">char</span>[] ls=letter[digits.charAt(index)-<span class="number">48</span>].toCharArray();</span><br><span class="line">    <span class="comment">//éå†æ¯ç§å¯èƒ½ï¼Œå…¶å®å°±æ˜¯ DFS</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>;i&lt;ls.length;i++) &#123;</span><br><span class="line">        letterCombinations(digits,index+<span class="number">1</span>,str+ls[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¯æƒ³è€ŒçŸ¥ï¼Œè¿™ä¸ªç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ç›¸å½“é«˜ï¼Œ<code>3^N * 4^M = O(2^N)</code> M æ˜¯èƒ½è¡¨ç¤º 3 ä¸ªå­—ç¬¦çš„æ•°å­—ä¸ªæ•°ï¼ŒN æ˜¯è¡¨ç¤º 4 ä¸ªå­—ç¬¦çš„æ•°å­—ä¸ªæ•°ï¼ŒæŒ‡æ•°çº§åˆ«çš„ç®—æ³•ï¼Œä½†æ˜¯ä¹Ÿæ²¡æœ‰å…¶ä»–åˆ«çš„æ¯”è¾ƒå¥½çš„ç®—æ³•äº†</p>
<h2 id="93-å¤åŸ-IP-åœ°å€"><a href="#93-å¤åŸ-IP-åœ°å€" class="headerlink" title="93. å¤åŸ IP åœ°å€"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/restore-ip-addresses/">93. å¤åŸ IP åœ°å€</a></h2><p>ç»™å®šä¸€ä¸ªåªåŒ…å«æ•°å­—çš„å­—ç¬¦ä¸²ï¼Œå¤åŸå®ƒå¹¶è¿”å›æ‰€æœ‰å¯èƒ½çš„ IP åœ°å€æ ¼å¼ã€‚</p>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š<span class="string">&quot;25525511135&quot;</span></span><br><span class="line">è¾“å‡ºï¼š[<span class="string">&quot;255.255.11.135&quot;</span>, <span class="string">&quot;255.255.111.35&quot;</span>]</span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•ä¸€</strong></p>
<p>å…¶å®è¿˜æ˜¯æœ‰ä¸€ä¸ªå¤§è‡´çš„æ€è·¯ï¼Œä½†æ˜¯æ²¡å†™å‡ºæ¥ï¼Œå¾ˆå¤šç»†èŠ‚ä¸çŸ¥é“å’‹å¤„ç†</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;String&gt; <span class="title function_">restoreIpAddresses</span><span class="params">(String s)</span> &#123;</span><br><span class="line">    restoreIpAddresses(s,<span class="number">0</span>,<span class="string">&quot;&quot;</span>,<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">LinkedList&lt;String&gt; res=<span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">restoreIpAddresses</span><span class="params">(String s,<span class="type">int</span> index,String des,<span class="type">int</span> count)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (count&gt;<span class="number">4</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//åˆ°å­—ç¬¦ä¸²æœ«å°¾äº†</span></span><br><span class="line">    <span class="keyword">if</span> (index==s.length()) &#123;</span><br><span class="line">        <span class="keyword">if</span> (count==<span class="number">4</span>) &#123;</span><br><span class="line">            res.add(des.substring(<span class="number">0</span>,des.length()-<span class="number">1</span>));    </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//å¦‚æœä¸º 0 å°±ä¸ç”¨åˆ‡åˆ†äº†ï¼Œè¿™é‡Œå°±ç›¸å½“äºç›´æ¥è·³è¿‡</span></span><br><span class="line">    <span class="keyword">if</span> (s.charAt(index)==<span class="string">&#x27;0&#x27;</span>) &#123;</span><br><span class="line">        restoreIpAddresses(s,index+<span class="number">1</span>,des+<span class="string">&quot;0.&quot;</span>,count+<span class="number">1</span>);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="comment">//ä¸ä¸º 0 å°±éœ€è¦ç»§ç»­åˆ‡åˆ†ä¸º 1ï¼Œ2ï¼Œ3</span></span><br><span class="line">        <span class="comment">//åˆ‡åˆ†è¿‡ç¨‹ä¸­éœ€è¦æ³¨æ„è¦å°äº 255, åŒæ—¶éœ€è¦ä¸€ä¸ªè®¡æ•°å™¨æ¥åˆ¤åº¦æ˜¯å¦ç»ˆæ­¢</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">1</span>;i&lt;<span class="number">4</span>;i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (index+i&lt;=s.length()) &#123;</span><br><span class="line">                String temp=s.substring(index,index+i);</span><br><span class="line">                <span class="keyword">if</span> (Integer.valueOf(temp)&lt;=<span class="number">255</span>)&#123;</span><br><span class="line">                    restoreIpAddresses(s,index+i,des+temp+<span class="string">&quot;.&quot;</span>,count+<span class="number">1</span>);    </span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>UPDATE: 2020.8.9</strong></p>
<p>ä»Šå¤©çš„æ‰“å¡é¢˜ï¼Œç”¨ go é‡å†™äº†ä¸‹ï¼Œæ¯”ä¹‹å‰å†™çš„å¥½å¤šäº†ï¼Œä¸è¿‡ä¸€å¼€å§‹å¿˜äº†å¤„ç† 0WA äº†ä¸€å‘ï¼Œç„¶åæ‡’çš„å¯¹é•¿åº¦ä¸åˆæ³•çš„å‰ªæåˆ T äº†ä¸€å‘ã€‚</p>
<figure class="highlight golang"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">restoreIpAddresses</span><span class="params">(s <span class="type">string</span>)</span></span> []<span class="type">string</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> res []<span class="type">string</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(s) &lt; <span class="number">4</span> || <span class="built_in">len</span>(s) &gt; <span class="number">12</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> res</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> dfs <span class="function"><span class="keyword">func</span><span class="params">(s <span class="type">string</span>, lis []<span class="type">string</span>)</span></span></span><br><span class="line">    dfs = <span class="function"><span class="keyword">func</span><span class="params">(s <span class="type">string</span>, lis []<span class="type">string</span>)</span></span> &#123;</span><br><span class="line">        <span class="keyword">if</span> s == <span class="string">&quot;&quot;</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">len</span>(lis) == <span class="number">4</span> &#123;</span><br><span class="line">                res = <span class="built_in">append</span>(res, strings.Join(lis, <span class="string">&quot;.&quot;</span>))</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//s æœªéå†å®Œå°±é›†é½äº† 4 å—</span></span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(lis) &gt;= <span class="number">4</span> &#123;</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> i := <span class="number">1</span>; i &lt;= <span class="number">3</span>; i++ &#123;</span><br><span class="line">            <span class="keyword">if</span> i &lt;= <span class="built_in">len</span>(s) &amp;&amp; check(s[:i]) &#123;</span><br><span class="line">                lis = <span class="built_in">append</span>(lis, s[:i])</span><br><span class="line">                dfs(s[i:], lis)</span><br><span class="line">                lis = lis[:<span class="built_in">len</span>(lis)<span class="number">-1</span>]</span><br><span class="line">                <span class="comment">//å‰å¯¼ 0 çš„å¤„ç†ï¼Œè¯»å– 0 ä¹‹åå°±ä¸å†å‘åæ‰©å±•</span></span><br><span class="line">                <span class="keyword">if</span> s[:i] == <span class="string">&quot;0&quot;</span> &#123;</span><br><span class="line">                    <span class="keyword">return</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    dfs(s, []<span class="type">string</span>&#123;&#125;)</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">check</span><span class="params">(s <span class="type">string</span>)</span></span> <span class="type">bool</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> ns, _ := strconv.Atoi(s); ns &lt;= <span class="number">255</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="131-åˆ†å‰²å›æ–‡ä¸²"><a href="#131-åˆ†å‰²å›æ–‡ä¸²" class="headerlink" title="131. åˆ†å‰²å›æ–‡ä¸²"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/palindrome-partitioning/">131. åˆ†å‰²å›æ–‡ä¸²</a></h2><p>ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² sï¼Œå°† s åˆ†å‰²æˆä¸€äº›å­ä¸²ï¼Œä½¿æ¯ä¸ªå­ä¸²éƒ½æ˜¯å›æ–‡ä¸²ã€‚</p>
<p>è¿”å› s æ‰€æœ‰å¯èƒ½çš„åˆ†å‰²æ–¹æ¡ˆã€‚</p>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š<span class="string">&quot;aab&quot;</span></span><br><span class="line">è¾“å‡ºï¼š</span><br><span class="line">[</span><br><span class="line">  [<span class="string">&quot;aa&quot;</span>,<span class="string">&quot;b&quot;</span>],</span><br><span class="line">  [<span class="string">&quot;a&quot;</span>,<span class="string">&quot;a&quot;</span>,<span class="string">&quot;b&quot;</span>]</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•ä¸€</strong></p>
<p>æ€»ç®—è‡ªå·±å®Œæ•´åšäº†ä¸€é¢˜å‡ºæ¥äº†</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;List&lt;String&gt;&gt; <span class="title function_">partition</span><span class="params">(String s)</span> &#123;</span><br><span class="line">    partition(s,<span class="number">0</span>,<span class="keyword">new</span> <span class="title class_">ArrayList</span>());</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;   </span><br><span class="line"></span><br><span class="line">List&lt;List&lt;String&gt;&gt; res=<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">partition</span><span class="params">(String s,<span class="type">int</span> index,List&lt;String&gt; lis)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (index==s.length()) &#123;</span><br><span class="line">        <span class="comment">//æ³¨æ„è¿™é‡Œè¦ copy ä¸€ä¸ª list ä¸èƒ½ç›´æ¥æ·»åŠ  lis</span></span><br><span class="line">        <span class="comment">//lis å¼•ç”¨çš„å¯¹è±¡åé¢è¿˜ä¼šç»§ç»­å˜åŒ–ï¼Œæœ€åä¼šå˜ä¸º null</span></span><br><span class="line">        res.add(<span class="keyword">new</span> <span class="title class_">ArrayList</span>(lis));</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=index+<span class="number">1</span>;i&lt;=s.length();i++) &#123;</span><br><span class="line">        String temp=s.substring(index,i);</span><br><span class="line">        <span class="comment">//System.out.println(index+&quot;=&quot;+i+&quot;=&quot;+temp);</span></span><br><span class="line">        <span class="keyword">if</span> (isPalind(temp)) &#123;</span><br><span class="line">            lis.add(temp);</span><br><span class="line">            partition(s,i,lis);</span><br><span class="line">            <span class="comment">//ä¸èƒ½ç›´æ¥ remove(temp), ä¸»è¦æ˜¯ä¼šæœ‰é‡å¤çš„å­—ç¬¦ï¼Œæ‰€ä»¥ä¼šå¯¼è‡´æœ€åçš„é¡ºåºä¸ä¸€è‡´ï¼Œè€Œä¸”æ•ˆç‡ä¹Ÿå¾ˆä½</span></span><br><span class="line">            <span class="comment">//lis.remove(temp);</span></span><br><span class="line">            lis.remove(lis.size()-<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isPalind</span><span class="params">(String s)</span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>,j=s.length()-<span class="number">1</span>;i&lt;=j;i++,j--) &#123;</span><br><span class="line">        <span class="keyword">if</span> (s.charAt(i)!=s.charAt(j)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>4msï¼Œ93%ï¼Œå…¶å®å°±æ˜¯æš´åŠ›å›æº¯ï¼Œè¿˜æ˜¯æŒºç®€å•çš„ï¼Œä¸€å¼€å§‹å¿˜äº†<code>remove()</code>ï¼Œç›´æ¥æŠŠæ‰€æœ‰ç»“æœæ‰“å‡ºæ¥äº†ï¼Œ ç„¶åä¸€ç›´åœ¨æƒ³æ€ä¹ˆè°ƒæ•´é€’å½’çš„ç»“æ„ã€‚DFS åŸºæœ¬çš„å¥—è·¯éƒ½å¿˜äº†ğŸ˜‚</p>
<h2 id="46-å…¨æ’åˆ—"><a href="#46-å…¨æ’åˆ—" class="headerlink" title="46. å…¨æ’åˆ—"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/permutations/">46. å…¨æ’åˆ—</a></h2><p>ç»™å®šä¸€ä¸ª<strong>æ²¡æœ‰é‡å¤</strong>æ•°å­—çš„åºåˆ—ï¼Œè¿”å›å…¶æ‰€æœ‰å¯èƒ½çš„å…¨æ’åˆ—ã€‚</p>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">è¾“å‡ºï¼š</span><br><span class="line">[</span><br><span class="line">  [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],</span><br><span class="line">  [<span class="number">1</span>,<span class="number">3</span>,<span class="number">2</span>],</span><br><span class="line">  [<span class="number">2</span>,<span class="number">1</span>,<span class="number">3</span>],</span><br><span class="line">  [<span class="number">2</span>,<span class="number">3</span>,<span class="number">1</span>],</span><br><span class="line">  [<span class="number">3</span>,<span class="number">1</span>,<span class="number">2</span>],</span><br><span class="line">  [<span class="number">3</span>,<span class="number">2</span>,<span class="number">1</span>]</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•ä¸€</strong></p>
<p>ç»å…¸çš„å…¨æ’åˆ—é—®é¢˜ï¼Œç†Ÿæ‚‰äº† DFS å¥—è·¯ä¹‹åéƒ½æŒºç®€å•çš„ï¼Œæ³¨æ„å›æº¯å°±è¡Œäº†</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; <span class="title function_">permute</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (nums==<span class="literal">null</span> || nums.length&lt;=<span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">boolean</span>[] visit=<span class="keyword">new</span> <span class="title class_">boolean</span>[nums.length];</span><br><span class="line">    permute(nums,<span class="keyword">new</span> <span class="title class_">ArrayList</span>(),visit);</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> List&lt;List&lt;Integer&gt;&gt; res=<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">permute</span><span class="params">(<span class="type">int</span>[] nums,List&lt;Integer&gt; lis,<span class="type">boolean</span>[] visit)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (lis.size()==nums.length) &#123;</span><br><span class="line">        res.add(<span class="keyword">new</span> <span class="title class_">ArrayList</span>(lis));</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>;i&lt;nums.length;i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (visit[i]) <span class="keyword">continue</span>;</span><br><span class="line">        lis.add(nums[i]);</span><br><span class="line">        visit[i]=<span class="literal">true</span>;</span><br><span class="line">        permute(nums,lis,visit);</span><br><span class="line">        <span class="comment">//å›æº¯</span></span><br><span class="line">        visit[i]=<span class="literal">false</span>;</span><br><span class="line">        lis.remove(lis.size()-<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="60-ç¬¬-k-ä¸ªæ’åˆ—"><a href="#60-ç¬¬-k-ä¸ªæ’åˆ—" class="headerlink" title="60. ç¬¬ k ä¸ªæ’åˆ—"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/permutation-sequence/">60. ç¬¬ k ä¸ªæ’åˆ—</a></h2><p>ç»™å‡ºé›†åˆ [1,2,3,â€¦,n]ï¼Œå…¶æ‰€æœ‰å…ƒç´ å…±æœ‰ n! ç§æ’åˆ—ã€‚</p>
<p>æŒ‰å¤§å°é¡ºåºåˆ—å‡ºæ‰€æœ‰æ’åˆ—æƒ…å†µï¼Œå¹¶ä¸€ä¸€æ ‡è®°ï¼Œå½“ n = 3 æ—¶ï¼Œæ‰€æœ‰æ’åˆ—å¦‚ä¸‹ï¼š</p>
<ol>
<li><code>&quot;123&quot;</code></li>
<li><code>&quot;132&quot;</code></li>
<li><code>&quot;213&quot;</code></li>
<li><code>&quot;231&quot;</code></li>
<li><code>&quot;312&quot;</code></li>
<li><code>&quot;321&quot;</code></li>
</ol>
<p>ç»™å®š n å’Œ kï¼Œè¿”å›ç¬¬ k ä¸ªæ’åˆ—ã€‚</p>
<p><strong>è¯´æ˜ï¼š</strong></p>
<ul>
<li>ç»™å®š n çš„èŒƒå›´æ˜¯ [1, 9]ã€‚</li>
<li>ç»™å®š k çš„èŒƒå›´æ˜¯ [1,  n!]ã€‚</li>
</ul>
<p>**ç¤ºä¾‹ 1: **</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šn = <span class="number">3</span>, k = <span class="number">3</span></span><br><span class="line">è¾“å‡ºï¼š<span class="string">&quot;213&quot;</span></span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šn = <span class="number">4</span>, k = <span class="number">9</span></span><br><span class="line">è¾“å‡ºï¼š<span class="string">&quot;2314&quot;</span></span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•ä¸€</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> String <span class="title function_">getPermutation</span><span class="params">(<span class="type">int</span> n, <span class="type">int</span> k)</span> &#123;</span><br><span class="line">    <span class="type">boolean</span>[] visit=<span class="keyword">new</span> <span class="title class_">boolean</span>[n+<span class="number">1</span>];</span><br><span class="line">    getPermutation(n,k,<span class="number">0</span>,visit,<span class="keyword">new</span> <span class="title class_">StringBuilder</span>(<span class="string">&quot;&quot;</span>));</span><br><span class="line">    <span class="keyword">return</span> res.get(k-<span class="number">1</span>).toString();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> List&lt;StringBuilder&gt; res=<span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">getPermutation</span><span class="params">(<span class="type">int</span> n, <span class="type">int</span> k,<span class="type">int</span> count,<span class="type">boolean</span>[] visit,StringBuilder str)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (count == n) &#123;</span><br><span class="line">        res.add(<span class="keyword">new</span> <span class="title class_">StringBuilder</span>(str));</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (res.size()==k) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">1</span>;i&lt;=n;i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!visit[i]) &#123;</span><br><span class="line">            str.append(i);</span><br><span class="line">            visit[i]=<span class="literal">true</span>;</span><br><span class="line">            getPermutation(n,k,count+<span class="number">1</span>,visit,str);</span><br><span class="line">            visit[i]=<span class="literal">false</span>;</span><br><span class="line">            str.delete(str.length()-<span class="number">1</span>,str.length());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¶ç„¶å‘ç°è¿™ä¸€é¢˜å¹¶æ²¡æœ‰è®°å½•ï¼Œä¹‹å‰æ²¡æœ‰è®°å½•çš„åŸå› è‚¯å®šæ˜¯å› ä¸ºæ–¹æ³•å¤ªåƒåœ¾äº†ï¼Œè¿™é¢˜æœ€ä¼˜è§£æ˜¯ <code>åº·æ‰˜å±•å¼€</code>ï¼Œè¯´å®è¯ï¼Œæš‚æ—¶å¹¶ä¸æƒ³å»äº†è§£ğŸ˜‚ï¼Œåé¢æœ‰æ—¶é—´å†è¯´å§</p>
<h2 id="5374-é•¿åº¦ä¸º-n-çš„å¼€å¿ƒå­—ç¬¦ä¸²ä¸­å­—å…¸åºç¬¬-k-å°çš„å­—ç¬¦ä¸²"><a href="#5374-é•¿åº¦ä¸º-n-çš„å¼€å¿ƒå­—ç¬¦ä¸²ä¸­å­—å…¸åºç¬¬-k-å°çš„å­—ç¬¦ä¸²" class="headerlink" title="5374. é•¿åº¦ä¸º n çš„å¼€å¿ƒå­—ç¬¦ä¸²ä¸­å­—å…¸åºç¬¬ k å°çš„å­—ç¬¦ä¸²"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/the-k-th-lexicographical-string-of-all-happy-strings-of-length-n/">5374. é•¿åº¦ä¸º n çš„å¼€å¿ƒå­—ç¬¦ä¸²ä¸­å­—å…¸åºç¬¬ k å°çš„å­—ç¬¦ä¸²</a></h2><p>ä¸€ä¸ª ã€Œå¼€å¿ƒå­—ç¬¦ä¸²ã€å®šä¹‰ä¸ºï¼š</p>
<ul>
<li>ä»…åŒ…å«å°å†™å­—æ¯ [â€˜aâ€™, â€˜bâ€™, â€˜câ€™].</li>
<li>å¯¹æ‰€æœ‰åœ¨ 1 åˆ° s.length - 1 ä¹‹é—´çš„ i ï¼Œæ»¡è¶³ s[i] != s[i + 1] ï¼ˆå­—ç¬¦ä¸²çš„ä¸‹æ ‡ä» 1 å¼€å§‹ï¼‰ã€‚</li>
</ul>
<p>æ¯”æ–¹è¯´ï¼Œå­—ç¬¦ä¸² â€œabcâ€ï¼Œâ€acâ€ï¼Œâ€bâ€ å’Œ â€œabcbabcbcbâ€ éƒ½æ˜¯å¼€å¿ƒå­—ç¬¦ä¸²ï¼Œä½†æ˜¯ â€œaaâ€ï¼Œâ€baaâ€ å’Œ â€œababbcâ€ éƒ½ä¸æ˜¯å¼€å¿ƒå­—ç¬¦ä¸²ã€‚</p>
<p>ç»™ä½ ä¸¤ä¸ªæ•´æ•° n å’Œ k ï¼Œä½ éœ€è¦å°†é•¿åº¦ä¸º n çš„æ‰€æœ‰å¼€å¿ƒå­—ç¬¦ä¸²æŒ‰å­—å…¸åºæ’åºã€‚</p>
<p>è¯·ä½ è¿”å›æ’åºåçš„ç¬¬ k ä¸ªå¼€å¿ƒå­—ç¬¦ä¸²ï¼Œå¦‚æœé•¿åº¦ä¸º n çš„å¼€å¿ƒå­—ç¬¦ä¸²å°‘äº k ä¸ªï¼Œé‚£ä¹ˆè¯·ä½ è¿”å› ç©ºå­—ç¬¦ä¸² ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šn = <span class="number">1</span>, k = <span class="number">3</span></span><br><span class="line">è¾“å‡ºï¼š<span class="string">&quot;c&quot;</span></span><br><span class="line">è§£é‡Šï¼šåˆ—è¡¨ [<span class="string">&quot;a&quot;</span>, <span class="string">&quot;b&quot;</span>, <span class="string">&quot;c&quot;</span>] åŒ…å«äº†æ‰€æœ‰é•¿åº¦ä¸º <span class="number">1</span> çš„å¼€å¿ƒå­—ç¬¦ä¸²ã€‚æŒ‰ç…§å­—å…¸åºæ’åºåç¬¬ä¸‰ä¸ªå­—ç¬¦ä¸²ä¸º <span class="string">&quot;c&quot;</span> ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šn = <span class="number">1</span>, k = <span class="number">4</span></span><br><span class="line">è¾“å‡ºï¼š<span class="string">&quot;&quot;</span></span><br><span class="line">è§£é‡Šï¼šé•¿åº¦ä¸º <span class="number">1</span> çš„å¼€å¿ƒå­—ç¬¦ä¸²åªæœ‰ <span class="number">3</span> ä¸ªã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šn = <span class="number">3</span>, k = <span class="number">9</span></span><br><span class="line">è¾“å‡ºï¼š<span class="string">&quot;cab&quot;</span></span><br><span class="line">è§£é‡Šï¼šé•¿åº¦ä¸º <span class="number">3</span> çš„å¼€å¿ƒå­—ç¬¦ä¸²æ€»å…±æœ‰ <span class="number">12</span> ä¸ª [<span class="string">&quot;aba&quot;</span>, <span class="string">&quot;abc&quot;</span>, <span class="string">&quot;aca&quot;</span>, <span class="string">&quot;acb&quot;</span>, <span class="string">&quot;bab&quot;</span>, <span class="string">&quot;bac&quot;</span>, <span class="string">&quot;bca&quot;</span>, <span class="string">&quot;bcb&quot;</span>, <span class="string">&quot;cab&quot;</span>, <span class="string">&quot;cac&quot;</span>, <span class="string">&quot;cba&quot;</span>, <span class="string">&quot;cbc&quot;</span>] ã€‚ç¬¬ <span class="number">9</span> ä¸ªå­—ç¬¦ä¸²ä¸º <span class="string">&quot;cab&quot;</span></span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 4ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šn = <span class="number">2</span>, k = <span class="number">7</span></span><br><span class="line">è¾“å‡ºï¼š<span class="string">&quot;&quot;</span></span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 5ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šn = <span class="number">10</span>, k = <span class="number">100</span></span><br><span class="line">è¾“å‡ºï¼š<span class="string">&quot;abacbabacb&quot;</span></span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= n &lt;= 10</code></li>
<li><code>1 &lt;= k &lt;= 100</code></li>
</ul>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>è¡¥ä¸‹ 24th åŒå‘¨èµ› T3ï¼Œå’Œä¸Šé¢ä¸€é¢˜å¾ˆç±»ä¼¼ï¼Œç›´æ¥æš´åŠ›å›æº¯äº†</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> String <span class="title function_">getHappyString</span><span class="params">(<span class="type">int</span> n, <span class="type">int</span> k)</span> &#123;</span><br><span class="line">    dfs(<span class="string">&quot;a&quot;</span>,n,k);</span><br><span class="line">    dfs(<span class="string">&quot;b&quot;</span>,n,k);</span><br><span class="line">    dfs(<span class="string">&quot;c&quot;</span>,n,k);</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="type">int</span> count=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> String res=<span class="string">&quot;&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">dfs</span><span class="params">(String cur,<span class="type">int</span> n,<span class="type">int</span> k)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!<span class="string">&quot;&quot;</span>.equals(res)) <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">if</span>(cur.length()==n)&#123;</span><br><span class="line">        count++;</span><br><span class="line">        <span class="keyword">if</span>(count==k)&#123;</span><br><span class="line">            res=cur;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">char</span> last=cur.charAt(cur.length()-<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">if</span>(last==<span class="string">&#x27;a&#x27;</span>)&#123;</span><br><span class="line">        dfs(cur+<span class="string">&#x27;b&#x27;</span>,n,k);</span><br><span class="line">        dfs(cur+<span class="string">&#x27;c&#x27;</span>,n,k);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(last==<span class="string">&#x27;b&#x27;</span>)&#123;</span><br><span class="line">        dfs(cur+<span class="string">&#x27;a&#x27;</span>,n,k);</span><br><span class="line">        dfs(cur+<span class="string">&#x27;c&#x27;</span>,n,k);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(last==<span class="string">&#x27;c&#x27;</span>)&#123;</span><br><span class="line">        dfs(cur+<span class="string">&#x27;a&#x27;</span>,n,k);</span><br><span class="line">        dfs(cur+<span class="string">&#x27;b&#x27;</span>,n,k);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å…¶å®ç›´æ¥é˜Ÿåˆ—æ¨¡æ‹Ÿä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œæ¨¡æ‹Ÿçš„æ•ˆç‡åº”è¯¥ä¼šæ›´é«˜ä¸€äº›ï¼Œå¥½åƒä¹Ÿå¯ä»¥ç›´æ¥æ„é€ å‡ºæ¥</p>
<h2 id="47-å…¨æ’åˆ—-II"><a href="#47-å…¨æ’åˆ—-II" class="headerlink" title="47. å…¨æ’åˆ— II"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/permutations-ii/">47. å…¨æ’åˆ— II</a></h2><p>ç»™å®šä¸€ä¸ªå¯åŒ…å«é‡å¤æ•°å­—çš„åºåˆ—ï¼Œè¿”å›æ‰€æœ‰ä¸é‡å¤çš„å…¨æ’åˆ—ã€‚</p>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š[<span class="number">1</span>,<span class="number">1</span>,<span class="number">2</span>]</span><br><span class="line">è¾“å‡ºï¼š</span><br><span class="line">[</span><br><span class="line">  [<span class="number">1</span>,<span class="number">1</span>,<span class="number">2</span>],</span><br><span class="line">  [<span class="number">1</span>,<span class="number">2</span>,<span class="number">1</span>],</span><br><span class="line">  [<span class="number">2</span>,<span class="number">1</span>,<span class="number">1</span>]</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•ä¸€</strong></p>
<p>å¼€å§‹æˆ‘å¾ˆçº ç»“è¿™é¢˜ï¼Œåæ¥æƒ³é€šäº†ï¼Œå…¶å®å°±æ˜¯å»é‡ï¼Œé‡åˆ°å·²ç»å­˜åœ¨äºç»“æœä¸­ç›¸åŒçš„å…ƒç´ å°±ç›´æ¥è·³è¿‡å°±è¡Œäº†</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; <span class="title function_">permuteUnique</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (nums==<span class="literal">null</span> || nums.length&lt;=<span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//Arrays.sort(nums); è§£æ³•äºŒéœ€è¦å…ˆæ’åº</span></span><br><span class="line">    <span class="type">boolean</span>[] visit=<span class="keyword">new</span> <span class="title class_">boolean</span>[nums.length];</span><br><span class="line">    permuteUnique(nums,<span class="keyword">new</span> <span class="title class_">ArrayList</span>(),visit);</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> List&lt;List&lt;Integer&gt;&gt; res=<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">permuteUnique</span><span class="params">(<span class="type">int</span>[] nums,List&lt;Integer&gt; lis,<span class="type">boolean</span>[] visit)</span>&#123;</span><br><span class="line">    HashSet&lt;Integer&gt; set=<span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span> (lis.size()==nums.length) &#123;</span><br><span class="line">        res.add(<span class="keyword">new</span> <span class="title class_">ArrayList</span>(lis));</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>;i&lt;nums.length;i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!visit[i] &amp;&amp; !set.contains(nums[i])) &#123;</span><br><span class="line">            lis.add(nums[i]);</span><br><span class="line">            visit[i]=<span class="literal">true</span>;</span><br><span class="line">            set.add(nums[i]);</span><br><span class="line">            permuteUnique(nums,lis,visit);</span><br><span class="line">            visit[i]=<span class="literal">false</span>;</span><br><span class="line">            lis.remove(lis.size()-<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//éœ€è¦æ’åº</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">permuteUnique2</span><span class="params">(<span class="type">int</span>[] nums,List&lt;Integer&gt; lis,<span class="type">boolean</span>[] visit)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (lis.size()==nums.length) &#123;</span><br><span class="line">        res.add(<span class="keyword">new</span> <span class="title class_">ArrayList</span>(lis));</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>;i&lt;nums.length;i++) &#123;</span><br><span class="line">        <span class="comment">//å‰ªæå»é‡ï¼Œå’Œå‰ä¸€ä¸ªå…ƒç´ æ¯”è¾ƒ</span></span><br><span class="line">        <span class="comment">//Bug è­¦å‘Šï¼Œåº”è¯¥å†™ï¼visit[i-1]</span></span><br><span class="line">        <span class="keyword">if</span> (i&gt;<span class="number">0</span>&amp;&amp;nums[i]==nums[i-<span class="number">1</span>] &amp;&amp; !visit[i-<span class="number">1</span>]) </span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        <span class="keyword">if</span> (!visit[i]) &#123;</span><br><span class="line">            lis.add(nums[i]);</span><br><span class="line">            visit[i]=<span class="literal">true</span>;</span><br><span class="line">            permuteUnique2(nums,lis,visit);</span><br><span class="line">            visit[i]=<span class="literal">false</span>;</span><br><span class="line">            lis.remove(lis.size()-<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å…³äºå»é‡çš„æ–¹å¼ï¼Œå…¶å®æˆ‘ä»¬å¯ä»¥ä»å›æº¯çš„<strong>æ ¹èŠ‚ç‚¹</strong>æ¥è€ƒè™‘ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬è€ƒè™‘æœ€é¡¶å±‚çš„ã€<strong>1ï¼Œ1ï¼Œ2</strong>ã€‘çš„éå†æƒ…å†µï¼Œæ¯ä¸€æ¬¡éå†å®é™…ä¸Šéƒ½æ˜¯åœ¨æ‰¾<strong>ä»¥å½“å‰å…ƒç´ å¼€å¤´çš„æ’åˆ—</strong>ï¼Œå½“ç¬¬ä¸€æ¬¡å·²ç»éå†å®Œ 1 å¼€å¤´çš„æ‰€ä»¥æ’åˆ—åï¼Œåé¢çš„å¾ªç¯å†ç¢°åˆ° 1 è‡ªç„¶å°±å¯ä»¥ç›´æ¥è·³è¿‡äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥åœ¨ä¸€æ¬¡éå†ä¸­ç”¨ HashMap æ¥å»é‡ï¼Œæ¥ä¿è¯ä¸€æ¬¡å¾ªç¯ä¸­ä¸ä¼šæœ‰é‡å¤çš„å…ƒç´ è¢«é€‰å–ï¼Œå…¶å®ä¹Ÿåªæœ‰è¿™é¢˜å¯ä»¥ç”¨ HashSetï¼Œå› ä¸ºè¿™é‡Œæ’åˆ—æ˜¯è®²ç©¶é¡ºåºçš„ï¼Œå¾ªåºå®Œå…¨ä¸€æ ·æ‰æ˜¯é‡å¤ï¼Œåé¢çš„é¢˜éƒ½æ˜¯ä¸è®²ç©¶é¡ºåºçš„ï¼Œéƒ½éœ€è¦æ’åºæ‰èƒ½å»é‡ï¼Œå…·ä½“åé¢å†åˆ†æ</p>
<blockquote>
<p>æˆ‘é¦–å…ˆæƒ³åˆ°çš„å°±æ˜¯ Hash è¡¨ï¼Œè¿™é‡Œç¿»äº†ä¸‹è¯„è®ºåŒºå¥½åƒéƒ½æ˜¯ç”¨çš„ç¬¬äºŒç§æ–¹å¼å»é‡çš„ï¼Œéš¾é“ç”¨ HashSet ä¸å¥½ä¹ˆğŸ˜‚ï¼Œç¬¬äºŒç§å¿…é¡»è¦å…ˆæ’åºï¼Œä¿è¯ç›¸åŒçš„å…ƒç´ éƒ½èšåœ¨ä¸€èµ·ï¼Œæ–¹ä¾¿åˆ¤æ–­ï¼Œè¿™ç§é¢˜åœ¨çº¸ä¸Šç”»ä¸€ç”»é€’å½’æ ‘å…¶å®å°±å¾ˆæ¸…æ¥šäº†</p>
</blockquote>
<h3 id="Bug-è­¦å‘Š"><a href="#Bug-è­¦å‘Š" class="headerlink" title="Bug è­¦å‘Š"></a>Bug è­¦å‘Š</h3><p>è¿™é‡Œ <code>!visit[i-1]</code>å’Œ <code>visit[i-1]</code>å¯¹äºè¿™é¢˜æ¥è¯´å¹¶ä¸å½±å“æ­£ç¡®æ€§ï¼Œä½†æ˜¯ä½ å¦‚æœå°†ç”Ÿæˆçš„è¿‡ç¨‹æ‰“å°å‡ºæ¥å¯¹æ¯”ä¸‹å°±çŸ¥é“ä¸ºå•¥äº†ï¼Œå…·ä½“çš„è¯·çœ‹ä¸‹é¢ <a href="#1079-%E6%B4%BB%E5%AD%97%E5%8D%B0%E5%88%B7">1079. æ´»å­—å°åˆ·</a> çš„è§£é‡Š</p>
<h2 id="1286-å­—æ¯ç»„åˆè¿­ä»£å™¨"><a href="#1286-å­—æ¯ç»„åˆè¿­ä»£å™¨" class="headerlink" title="1286. å­—æ¯ç»„åˆè¿­ä»£å™¨"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/iterator-for-combination/">1286. å­—æ¯ç»„åˆè¿­ä»£å™¨</a></h2><p>è¯·ä½ è®¾è®¡ä¸€ä¸ªè¿­ä»£å™¨ç±»ï¼ŒåŒ…æ‹¬ä»¥ä¸‹å†…å®¹ï¼š</p>
<ul>
<li>ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œè¾“å…¥å‚æ•°åŒ…æ‹¬ï¼šä¸€ä¸ª æœ‰åºä¸”å­—ç¬¦å”¯ä¸€ çš„å­—ç¬¦ä¸² charactersï¼ˆè¯¥å­—ç¬¦ä¸²åªåŒ…å«å°å†™è‹±æ–‡å­—æ¯ï¼‰å’Œä¸€ä¸ªæ•°å­— combinationLength ã€‚</li>
<li>å‡½æ•° next() ï¼ŒæŒ‰ å­—å…¸åº è¿”å›é•¿åº¦ä¸º combinationLength çš„ä¸‹ä¸€ä¸ªå­—æ¯ç»„åˆã€‚</li>
<li>å‡½æ•° hasNext() ï¼Œåªæœ‰å­˜åœ¨é•¿åº¦ä¸º combinationLength çš„ä¸‹ä¸€ä¸ªå­—æ¯ç»„åˆæ—¶ï¼Œæ‰è¿”å› Trueï¼›å¦åˆ™ï¼Œè¿”å› Falseã€‚</li>
</ul>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">CombinationIterator</span> <span class="variable">iterator</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">CombinationIterator</span>(<span class="string">&quot;abc&quot;</span>, <span class="number">2</span>); <span class="comment">// åˆ›å»ºè¿­ä»£å™¨ iterator</span></span><br><span class="line"></span><br><span class="line">iterator.next(); <span class="comment">// è¿”å› &quot;ab&quot;</span></span><br><span class="line">iterator.hasNext(); <span class="comment">// è¿”å› true</span></span><br><span class="line">iterator.next(); <span class="comment">// è¿”å› &quot;ac&quot;</span></span><br><span class="line">iterator.hasNext(); <span class="comment">// è¿”å› true</span></span><br><span class="line">iterator.next(); <span class="comment">// è¿”å› &quot;bc&quot;</span></span><br><span class="line">iterator.hasNext(); <span class="comment">// è¿”å› false</span></span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li>1 &lt;= combinationLength &lt;= characters.length &lt;= 15</li>
<li>æ¯ç»„æµ‹è¯•æ•°æ®æœ€å¤šåŒ…å« 10^4 æ¬¡å‡½æ•°è°ƒç”¨ã€‚</li>
<li>é¢˜ç›®ä¿è¯æ¯æ¬¡è°ƒç”¨å‡½æ•° next æ—¶éƒ½å­˜åœ¨ä¸‹ä¸€ä¸ªå­—æ¯ç»„åˆã€‚</li>
</ul>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>å”‰ï¼ŒçœŸçš„èœï¼Œå¥½ä¹…æ²¡å†™å›æº¯äº†ï¼Œåˆçµ¦å¿˜äº†ï¼Œè¿™é¢˜å¼€å§‹è¢«åˆ«äººè¯¯å¯¼äº†ï¼Œä»¥ä¸ºæ˜¯ä¸‹ä¸€ä¸ªæ’åˆ—ï¼Œç„¶åå°±ä¸€ç›´åœ¨æƒ³æ€ä¹ˆå»æ±‚ nextï¼Œå…¶å®æ ¹æœ¬å°±ä¸ç”¨è¿™æ ·ã€‚..</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> LinkedList&lt;String&gt; res=<span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line"><span class="comment">//abc</span></span><br><span class="line"><span class="keyword">public</span> <span class="title function_">CombinationIterator</span><span class="params">(String characters, <span class="type">int</span> combinationLength)</span> &#123;</span><br><span class="line">    dfs(<span class="string">&quot;&quot;</span>,combinationLength,<span class="number">0</span>,<span class="number">0</span>,characters);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">next</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> res.pollFirst();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">dfs</span><span class="params">(String cur,<span class="type">int</span> len,<span class="type">int</span> index,<span class="type">int</span> count,String source)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (count == len) &#123;</span><br><span class="line">        res.add(cur); <span class="comment">//ç›´æ¥æ ¹æ® cur å¾—é•¿åº¦åˆ¤æ–­å°± ok äº†</span></span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=index;i&lt;source.length();i++) &#123;</span><br><span class="line">        dfs(cur+source.charAt(i),len,i+<span class="number">1</span>,count+<span class="number">1</span>,source);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">hasNext</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> !res.isEmpty();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>å›å¤´å¼€äº†ä¸‹ä¹‹å‰çš„ä»£ç ï¼Œå‘ç°éƒ½å†™å¾—ä¸å¥½ï¼Œå¾ˆå–œæ¬¢åŠ ä¸ª count ç»Ÿè®¡æ•°é‡ï¼Œå…¶å®ç›´æ¥æ ¹æ® cur å¾—é•¿åº¦åˆ¤æ–­å°±å¯ä»¥äº†</p>
</blockquote>
<h2 id="77-ç»„åˆ"><a href="#77-ç»„åˆ" class="headerlink" title="77. ç»„åˆ"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/combinations/">77. ç»„åˆ</a></h2><p>ç»™å®šä¸¤ä¸ªæ•´æ•° n å’Œ kï¼Œè¿”å› 1 â€¦ n ä¸­æ‰€æœ‰å¯èƒ½çš„ k ä¸ªæ•°çš„ç»„åˆã€‚</p>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šn = <span class="number">4</span>, k = <span class="number">2</span></span><br><span class="line">è¾“å‡ºï¼š</span><br><span class="line">[</span><br><span class="line">  [<span class="number">2</span>,<span class="number">4</span>],</span><br><span class="line">  [<span class="number">3</span>,<span class="number">4</span>],</span><br><span class="line">  [<span class="number">2</span>,<span class="number">3</span>],</span><br><span class="line">  [<span class="number">1</span>,<span class="number">2</span>],</span><br><span class="line">  [<span class="number">1</span>,<span class="number">3</span>],</span><br><span class="line">  [<span class="number">1</span>,<span class="number">4</span>],</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•ä¸€</strong></p>
<p>å…¶å®ä¸€å¼€å§‹æ²¡å†™å‡ºå‰ªæçš„ä»£ç ï¼Œçœ‹äº†ä¸€ç‚¹æç¤ºåæ‰å†™å‡ºäº†ä¸‹é¢çš„çš„ç¬¬ä¸€ç§å‰ªæçš„æ–¹æ³•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; <span class="title function_">combine</span><span class="params">(<span class="type">int</span> n, <span class="type">int</span> k)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (k&gt;n || n&lt;=<span class="number">0</span> ||k&lt;=<span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//boolean[] visit=new boolean[n+1];</span></span><br><span class="line">    combine(n,k,<span class="number">1</span>,<span class="keyword">new</span> <span class="title class_">ArrayList</span>(),<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;   </span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> List&lt;List&lt;Integer&gt;&gt; res=<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line"><span class="comment">//å‰ªæä¼˜åŒ– 1</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">combine</span><span class="params">(<span class="type">int</span> n, <span class="type">int</span> k,<span class="type">int</span> index,List&lt;Integer&gt; lis,<span class="type">int</span> count)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (count==k) &#123;</span><br><span class="line">        res.add(<span class="keyword">new</span> <span class="title class_">ArrayList</span>(lis));</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//1 2 3 4 | 3</span></span><br><span class="line">    <span class="comment">//index = 3 k=3  n=4 count=0 (3 ä¸ºå¤´ï¼Œæ˜¾ç„¶æ˜¯ä¸è¡Œçš„ï¼Œè‚¯å®šä¼šå’Œå‰é¢é‡å¤ï¼‰ --&gt; 3&lt;=3</span></span><br><span class="line">    <span class="comment">//index = 3 k=3  n=4 count=1 (3 ä¸ºç¬¬äºŒä¸ªï¼Œæ˜¯å¯è¡Œçš„ï¼‰ --&gt; 3 &lt;= 2</span></span><br><span class="line">    <span class="keyword">if</span> (n-index+<span class="number">2</span>&lt;=k-count) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=index;i&lt;=n;i++) &#123;</span><br><span class="line">        lis.add(i);</span><br><span class="line">        combine(n,k,i+<span class="number">1</span>,lis,count+<span class="number">1</span>);</span><br><span class="line">        <span class="comment">//å›æº¯çš„å…³é”®</span></span><br><span class="line">        lis.remove(lis.size()-<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å‰ªæä¼˜åŒ– 2</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">combine4</span><span class="params">(<span class="type">int</span> n, <span class="type">int</span> k,<span class="type">int</span> index,List&lt;Integer&gt; lis,<span class="type">int</span> count)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (count==k) &#123;</span><br><span class="line">        res.add(<span class="keyword">new</span> <span class="title class_">ArrayList</span>(lis));</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//å¾ªç¯çš„åŒºé—´è‡³å°‘è¦æœ‰ k-count ä¸ªå…ƒç´  ä¹Ÿå°±æ˜¯ [i,N] ä¹‹é—´è‡³å°‘è¦æœ‰ k-count ä¸ªå…ƒç´ </span></span><br><span class="line">    <span class="comment">//N-i+1&gt;=k-count --&gt; i&lt;=n-(k-count)+1</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=index;i&lt;=n-(k-count)+<span class="number">1</span>;i++) &#123;</span><br><span class="line">        lis.add(i);</span><br><span class="line">        combine4(n,k,i+<span class="number">1</span>,lis,count+<span class="number">1</span>);</span><br><span class="line">        <span class="comment">//å›æº¯çš„å…³é”®</span></span><br><span class="line">        lis.remove(lis.size()-<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸¾ä¸ªä¾‹å­<code>1ï¼Œ2ï¼Œ3ï¼Œ4 k=3</code>  å…¶å®åœ¨å¾ªç¯ n=3 çš„æ—¶å€™å°±å¯ä»¥ç»“æŸäº†ï¼Œå› ä¸ºåé¢å·²ç»æ²¡æœ‰é‚£ä¹ˆå¤šå…ƒç´ å¯ä»¥å’Œ 3 æ„æˆç»„åˆäº†</p>
<h2 id="39-ç»„åˆæ€»å’Œ"><a href="#39-ç»„åˆæ€»å’Œ" class="headerlink" title="39. ç»„åˆæ€»å’Œ"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/combination-sum/">39. ç»„åˆæ€»å’Œ</a></h2><p>ç»™å®šä¸€ä¸ªæ— é‡å¤å…ƒç´ çš„æ•°ç»„ candidates å’Œä¸€ä¸ªç›®æ ‡æ•° target ï¼Œæ‰¾å‡º candidates ä¸­æ‰€æœ‰å¯ä»¥ä½¿æ•°å­—å’Œä¸º target çš„ç»„åˆ ï¼Œ<code>candidates</code> ä¸­çš„æ•°å­—å¯ä»¥æ— é™åˆ¶é‡å¤è¢«é€‰å–</p>
<p>è¯´æ˜ï¼š</p>
<ul>
<li><p>æ‰€æœ‰æ•°å­—ï¼ˆåŒ…æ‹¬ targetï¼‰éƒ½æ˜¯æ­£æ•´æ•°ã€‚</p>
</li>
<li><p>è§£é›†ä¸èƒ½åŒ…å«é‡å¤çš„ç»„åˆã€‚ </p>
</li>
</ul>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šcandidates = [<span class="number">2</span>,<span class="number">3</span>,<span class="number">6</span>,<span class="number">7</span>], target = <span class="number">7</span>,</span><br><span class="line">æ‰€æ±‚è§£é›†ä¸ºï¼š</span><br><span class="line">[</span><br><span class="line">  [<span class="number">7</span>],</span><br><span class="line">  [<span class="number">2</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šcandidates = [<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>], target = <span class="number">8</span>,</span><br><span class="line">æ‰€æ±‚è§£é›†ä¸ºï¼š</span><br><span class="line">[</span><br><span class="line">  [<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>],</span><br><span class="line">  [<span class="number">2</span>,<span class="number">3</span>,<span class="number">3</span>],</span><br><span class="line">  [<span class="number">3</span>,<span class="number">5</span>]</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•ä¸€</strong></p>
<p>æ²¡æœ‰ä»»ä½•å‰ªæå¤„ç†çš„å›æº¯ï¼Œæ„Ÿè§‰ä¸€å¼€å§‹å°±æƒ³å¥½æ€ä¹ˆå‰ªæè¿˜æ˜¯ä¸å¤ªå®¹æ˜“ï¼Œè¿™é¢˜å…¶å®å’Œä¸Šé¢çš„ç»„åˆå¾ˆç±»ä¼¼ï¼Œå€¼å¾—æ³¨æ„çš„å°±æ˜¯å­é€’å½’è°ƒç”¨çš„æ—¶å€™ä¼ é€’çš„ index å‚æ•°</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; <span class="title function_">combinationSum</span><span class="params">(<span class="type">int</span>[] candidates, <span class="type">int</span> target)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (candidates==<span class="literal">null</span> || candidates.length&lt;=<span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    combinationSum(candidates,target,<span class="number">0</span>,<span class="number">0</span>,<span class="keyword">new</span> <span class="title class_">ArrayList</span>());</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> List&lt;List&lt;Integer&gt;&gt; res=<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">combinationSum</span><span class="params">(<span class="type">int</span>[] candidates, <span class="type">int</span> target,<span class="type">int</span> index,<span class="type">int</span> sum,List&lt;Integer&gt; lis)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (sum&gt;target) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (target==sum) &#123;</span><br><span class="line">        res.add(<span class="keyword">new</span> <span class="title class_">ArrayList</span>(lis));</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//è¿™é‡Œä¸€æ¬¡å¾ªç¯å…¶å®å°±ç¡®å®šäº†åŒ…å« i çš„æ‰€æœ‰å¯èƒ½è§£ï¼Œæ‰€ä»¥èµ·ç‚¹æ˜¯ index ä¸æ˜¯ 0</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=index;i&lt;candidates.length;i++) &#123;</span><br><span class="line">        <span class="comment">//è·³è¿‡æ¯” target å¤§çš„</span></span><br><span class="line">        <span class="keyword">if</span> (candidates[i]&gt;target) <span class="keyword">continue</span>;</span><br><span class="line">        sum+=candidates[i];</span><br><span class="line">        lis.add(candidates[i]);</span><br><span class="line">		<span class="comment">//å…¶å®ä¸»è¦å°±æ˜¯ææ¸…æ¥šæ¯æ¬¡ä»å“ªé‡Œå¼€å§‹ï¼Œä»¥åŠæ¯æ¬¡å¾ªç¯çš„ä½œç”¨</span></span><br><span class="line">        <span class="comment">//å¯ä»¥é‡å¤é€‰å–è‡ªå·±ï¼Œæ‰€ä»¥å­é€’å½’ä¹Ÿä» i å¼€å§‹è€Œä¸æ˜¯ i+1</span></span><br><span class="line">        combinationSum(candidates,target,i,sum,lis);</span><br><span class="line">        sum-=candidates[i];</span><br><span class="line">        lis.remove(lis.size()-<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>è§£æ³•äºŒ</strong></p>
<p>å‰ªæä¼˜åŒ–ï¼Œä¸»è¦æ˜¯è¦å…ˆæ’ä¸ªåºï¼Œè¿™æ ·å¦‚æœåœ¨å¾ªç¯è¿‡ç¨‹ä¸­ï¼Œç´¯åŠ å’Œå·²ç»å¤§äº target äº†å°±ç›´æ¥ returnï¼Œå¦‚æœä¸æ’åºå°±ä¸èƒ½ returnï¼Œå› ä¸ºæ— æ³•ç¡®ä¿åé¢ä¼šä¸ä¼šæ›´å°çš„å…ƒç´ </p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; <span class="title function_">combinationSum</span><span class="params">(<span class="type">int</span>[] candidates, <span class="type">int</span> target)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (candidates==<span class="literal">null</span> || candidates.length&lt;=<span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//æ’åºï¼Œæ–¹ä¾¿å‰ªæ</span></span><br><span class="line">    Arrays.sort(candidates);</span><br><span class="line">    combinationSum(candidates,target,<span class="number">0</span>,<span class="number">0</span>,<span class="keyword">new</span> <span class="title class_">ArrayList</span>());</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> List&lt;List&lt;Integer&gt;&gt; res=<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line"><span class="comment">//å‰ªæä¼˜åŒ– 2</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">combinationSum</span><span class="params">(<span class="type">int</span>[] candidates, <span class="type">int</span> target,<span class="type">int</span> index,<span class="type">int</span> sum,List&lt;Integer&gt; lis)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (sum&gt;target) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (target==sum) &#123;</span><br><span class="line">        res.add(<span class="keyword">new</span> <span class="title class_">ArrayList</span>(lis));</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=index;i&lt;candidates.length;i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (sum+candidates[i]&gt;target) <span class="keyword">return</span>;</span><br><span class="line">        sum+=candidates[i];</span><br><span class="line">        lis.add(candidates[i]);</span><br><span class="line">        <span class="comment">//æ³¨æ„è¿™é‡Œä¼ é€’è¿›å»çš„ index æ˜¯ i</span></span><br><span class="line">        combinationSum(candidates,target,i,sum,lis);</span><br><span class="line">        sum-=candidates[i];</span><br><span class="line">        lis.remove(lis.size()-<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™ä¸¤å¤©çŠ¶æ€è¿˜å¯ä»¥å•Šï¼Œå¥½å¤šé¢˜éƒ½å¯ä»¥å®Œå…¨ç‹¬ç«‹çš„å†™å‡ºæ¥äº†ğŸ˜</p>
<h2 id="40-ç»„åˆæ€»å’Œ-II"><a href="#40-ç»„åˆæ€»å’Œ-II" class="headerlink" title="40. ç»„åˆæ€»å’Œ II"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/combination-sum-ii/">40. ç»„åˆæ€»å’Œ II</a></h2><p>ç»™å®šä¸€ä¸ªæ•°ç»„ candidates å’Œä¸€ä¸ªç›®æ ‡æ•° target ï¼Œæ‰¾å‡º candidates ä¸­æ‰€æœ‰å¯ä»¥ä½¿æ•°å­—å’Œä¸º target çš„ç»„åˆã€‚</p>
<p>candidates ä¸­çš„æ¯ä¸ªæ•°å­—åœ¨æ¯ä¸ªç»„åˆä¸­åªèƒ½ä½¿ç”¨ä¸€æ¬¡ã€‚</p>
<p><strong>è¯´æ˜ï¼š</strong></p>
<ul>
<li>æ‰€æœ‰æ•°å­—ï¼ˆåŒ…æ‹¬ç›®æ ‡æ•°ï¼‰éƒ½æ˜¯æ­£æ•´æ•°ã€‚</li>
<li>è§£é›†ä¸èƒ½åŒ…å«é‡å¤çš„ç»„åˆã€‚ </li>
</ul>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šcandidates = [<span class="number">10</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">7</span>,<span class="number">6</span>,<span class="number">1</span>,<span class="number">5</span>], target = <span class="number">8</span>,</span><br><span class="line">æ‰€æ±‚è§£é›†ä¸ºï¼š</span><br><span class="line">[</span><br><span class="line">  [<span class="number">1</span>, <span class="number">7</span>],</span><br><span class="line">  [<span class="number">1</span>, <span class="number">2</span>, <span class="number">5</span>],</span><br><span class="line">  [<span class="number">2</span>, <span class="number">6</span>],</span><br><span class="line">  [<span class="number">1</span>, <span class="number">1</span>, <span class="number">6</span>]</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šcandidates = [<span class="number">2</span>,<span class="number">5</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">2</span>], target = <span class="number">5</span>,</span><br><span class="line">æ‰€æ±‚è§£é›†ä¸ºï¼š</span><br><span class="line">[</span><br><span class="line">  [<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>],</span><br><span class="line">  [<span class="number">5</span>]</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•ä¸€</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; <span class="title function_">combinationSum2</span><span class="params">(<span class="type">int</span>[] candidates, <span class="type">int</span> target)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (candidates ==<span class="literal">null</span> || candidates.length&lt;=<span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    Arrays.sort(candidates);</span><br><span class="line">    combinationSum2(candidates,target,<span class="number">0</span>,<span class="keyword">new</span> <span class="title class_">ArrayList</span>());</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">combinationSum2</span><span class="params">(<span class="type">int</span>[] candidates, <span class="type">int</span> target,<span class="type">int</span> index,List&lt;Integer&gt; lis)</span> &#123;</span><br><span class="line">    <span class="comment">/*if (target&lt;0) &#123;</span></span><br><span class="line"><span class="comment">            return;</span></span><br><span class="line"><span class="comment">        &#125;*/</span></span><br><span class="line">    <span class="keyword">if</span> (target==<span class="number">0</span>) &#123;</span><br><span class="line">        res.add(<span class="keyword">new</span> <span class="title class_">ArrayList</span>(lis));</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=index;i&lt;candidates.length;i++) &#123;</span><br><span class="line">        <span class="comment">//æ³¨æ„è¿™é‡Œ i&gt;index</span></span><br><span class="line">        <span class="keyword">if</span> (i&gt;index &amp;&amp; candidates[i]==candidates[i-<span class="number">1</span>]  ) <span class="keyword">continue</span>;</span><br><span class="line">        <span class="comment">//æ’è¿‡åºçš„ï¼Œå¯ä»¥ç›´æ¥ return</span></span><br><span class="line">        <span class="keyword">if</span> (target-candidates[i]&lt;<span class="number">0</span>) <span class="keyword">return</span>;</span><br><span class="line">        lis.add(candidates[i]);</span><br><span class="line">        combinationSum2(candidates,target-candidates[i],i+<span class="number">1</span>,lis);</span><br><span class="line">        lis.remove(lis.size()-<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å›æº¯å…¶å®å€¼å¾—æ³¨æ„çš„å°±é‚£å‡ ä¸ªç‚¹ï¼Œå¾ªç¯çš„èµ·ç‚¹ï¼Œä¸‹æ¬¡é€’å½’çš„èµ·ç‚¹ï¼Œå›æº¯ï¼Œå‡ºå£ï¼Œè¿™å‡ ä¸ªç‚¹éƒ½ææ¸…æ¥šäº†å…¶å®å°±å¾ˆç®€å•äº†ï¼Œå…³é”®çš„åœ°æ–¹å°±æ˜¯å¦‚ä½•å»é‡</p>
<p>è¿™é¢˜å¦‚æœå‚ç…§ä¸Šé¢ [å…¨æ’åˆ— 2](## 47. å…¨æ’åˆ— II) çš„ç¬¬ä¸€ç§ HashSet çš„å»é‡æ–¹å¼çš„è¯ï¼Œæ˜æ˜¾æ˜¯æœ‰é—®é¢˜çš„ï¼ŒHashSet çš„å»é‡æ–¹å¼åªèƒ½ä¿è¯<strong>æ¯ä¸€æ¬¡å¾ªç¯ä¸­ä¸ä¼šæœ‰é‡å¤çš„å…ƒç´ è¢«é€‰å–</strong>ï¼Œä½†æ˜¯è¿™é¢˜å³ä½¿å¾ªç¯ä¸­æ²¡æœ‰é‡å¤çš„å…ƒç´ è¢«é€‰å–ï¼Œç»“æœä»ç„¶ä¼šæœ‰é‡å¤</p>
<p>æ¯”å¦‚ <code>10,1,2,7,6,1,5</code> éå† 1 çš„æ—¶å€™ä¼šå¾—åˆ°<code>1 2 5</code>ï¼Œåç»­éå† 2 çš„æ—¶å€™åˆä¼šå¾—åˆ°ä¸€ä¸ª <code>2 1 5</code> ï¼Œä½†æ˜¯å…¶å®åœ¨ç¬¬ä¸€æ¬¡å¾ªç¯çš„æ—¶å€™å°±<strong>å·²ç»æ‰¾åˆ°äº†æ‰€æœ‰åŒ…å« 1 çš„è§£ï¼Œåé¢å¾ªç¯ä¸­åŒ…å« 1 çš„è§£å…¶å®éƒ½é‡å¤äº†</strong>ï¼Œå¦‚æœæˆ‘ä»¬æ’åºåå°±å˜ä¸º <code>1 1 2 5 6 7 10</code> æŠŠç›¸åŒçš„å…ƒç´ èšé›†åˆ°ä¸€èµ·ï¼Œä¸€æ–¹é¢å¯ä»¥å»é‡ï¼Œå¦ä¸€æ–¹é¢è¿˜å¯ä»¥å‰ªæï¼Œåœ¨ç¬¬ä¸€æ¬¡å¾ªç¯çš„æ—¶å€™å°±å·²ç»æ‰¾åˆ°äº†æ‰€æœ‰çš„ å¸¦æœ‰ 1 çš„è§£ï¼Œåé¢çš„è¿ç€çš„ 1 éƒ½å¯ä»¥è·³è¿‡äº†ï¼Œåç»­å°±ä¸ä¼šå†æœ‰åŒ…å« 1 çš„è§£äº†ï¼Œå¦‚æœä¸æ’åºï¼Œåé¢ä»ç„¶ä¼šæœ‰åŒ…å« 1 çš„è§£</p>
<h2 id="216-ç»„åˆæ€»å’Œ-III"><a href="#216-ç»„åˆæ€»å’Œ-III" class="headerlink" title="216. ç»„åˆæ€»å’Œ III"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/combination-sum-iii/">216. ç»„åˆæ€»å’Œ III</a></h2><p>æ‰¾å‡ºæ‰€æœ‰ç›¸åŠ ä¹‹å’Œä¸º n çš„ k ä¸ªæ•°çš„ç»„åˆã€‚ç»„åˆä¸­åªå…è®¸å«æœ‰ 1 - 9 çš„æ­£æ•´æ•°ï¼Œå¹¶ä¸”æ¯ç§ç»„åˆä¸­ä¸å­˜åœ¨é‡å¤çš„æ•°å­—ã€‚</p>
<p><strong>è¯´æ˜ï¼š</strong></p>
<ul>
<li>æ‰€æœ‰æ•°å­—éƒ½æ˜¯æ­£æ•´æ•°ã€‚</li>
<li>è§£é›†ä¸èƒ½åŒ…å«é‡å¤çš„ç»„åˆã€‚ </li>
</ul>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šk = <span class="number">3</span>, n = <span class="number">7</span></span><br><span class="line">è¾“å‡ºï¼š[[<span class="number">1</span>,<span class="number">2</span>,<span class="number">4</span>]]</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šk = <span class="number">3</span>, n = <span class="number">9</span></span><br><span class="line">è¾“å‡ºï¼š[[<span class="number">1</span>,<span class="number">2</span>,<span class="number">6</span>], [<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>], [<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]]</span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•ä¸€</strong></p>
<p>æ„Ÿè§‰æ¯”ä¸Šé¢ä¸¤é¢˜è¿˜ç®€å•ä¸€ç‚¹ï¼Œå¯ä»¥ç›´æ¥å‰ªæ</p>
<figure class="highlight golang"><table><tr><td class="code"><pre><span class="line"><span class="comment">//UPDATE: 2020.9.11</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">combinationSum3</span><span class="params">(k <span class="type">int</span>, n <span class="type">int</span>)</span></span> [][]<span class="type">int</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> res [][]<span class="type">int</span></span><br><span class="line">    <span class="keyword">var</span> dfs <span class="function"><span class="keyword">func</span><span class="params">(idx <span class="type">int</span>, sum <span class="type">int</span>, lis []<span class="type">int</span>)</span></span></span><br><span class="line">    dfs = <span class="function"><span class="keyword">func</span><span class="params">(idx <span class="type">int</span>, sum <span class="type">int</span>, lis []<span class="type">int</span>)</span></span> &#123;</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(lis) &gt; k &#123;</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> sum == n &amp;&amp; <span class="built_in">len</span>(lis) == k &#123;</span><br><span class="line">            dest := <span class="built_in">make</span>([]<span class="type">int</span>, <span class="built_in">len</span>(lis))</span><br><span class="line">            <span class="built_in">copy</span>(dest, lis)</span><br><span class="line">            res = <span class="built_in">append</span>(res, dest)</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> i := idx; i &lt;= <span class="number">9</span>; i++ &#123;</span><br><span class="line">            <span class="keyword">if</span> sum + i &gt; n &#123;</span><br><span class="line">                <span class="keyword">return</span></span><br><span class="line">            &#125;</span><br><span class="line">            dfs(i+<span class="number">1</span>, sum+i, <span class="built_in">append</span>(lis, i))</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    dfs(<span class="number">1</span>, <span class="number">0</span>, []<span class="type">int</span>&#123;&#125;)</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•äºŒï¼ˆUPDATEï¼š2020.9.11ï¼‰</strong></p>
<p>å­¦äº†ä¸‹äºŒè¿›åˆ¶æšä¸¾å­é›†çš„æ–¹æ³•ï¼Œå¾ˆç®€æ´</p>
<figure class="highlight golang"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">combinationSum3</span><span class="params">(k <span class="type">int</span>, n <span class="type">int</span>)</span></span> [][]<span class="type">int</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> res [][]<span class="type">int</span></span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; (<span class="number">1</span>&lt;&lt;<span class="number">9</span>); i++ &#123;</span><br><span class="line">        <span class="keyword">var</span> sum, cnt = <span class="number">0</span>, <span class="number">0</span></span><br><span class="line">        <span class="keyword">var</span> lis []<span class="type">int</span></span><br><span class="line">        <span class="keyword">for</span> j := <span class="number">0</span>; j &lt; <span class="number">9</span>; j++ &#123;</span><br><span class="line">            <span class="keyword">if</span> i &amp; (<span class="number">1</span>&lt;&lt;j) != <span class="number">0</span> &#123;</span><br><span class="line">                sum += j+<span class="number">1</span></span><br><span class="line">                cnt++</span><br><span class="line">                lis = <span class="built_in">append</span>(lis, j+<span class="number">1</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> sum == n &amp;&amp; cnt == k &#123;</span><br><span class="line">            res = <span class="built_in">append</span>(res, lis)   </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="78-å­é›†"><a href="#78-å­é›†" class="headerlink" title="78. å­é›†"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/subsets/">78. å­é›†</a></h2><p>ç»™å®šä¸€ç»„<strong>ä¸å«é‡å¤å…ƒç´ </strong>çš„æ•´æ•°æ•°ç»„ numsï¼Œè¿”å›è¯¥æ•°ç»„æ‰€æœ‰å¯èƒ½çš„å­é›†ï¼ˆå¹‚é›†ï¼‰ã€‚</p>
<p><strong>è¯´æ˜ï¼š</strong>è§£é›†ä¸èƒ½åŒ…å«é‡å¤çš„å­é›†ã€‚</p>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">è¾“å‡ºï¼š</span><br><span class="line">[</span><br><span class="line">  [<span class="number">3</span>],</span><br><span class="line">  [<span class="number">1</span>],</span><br><span class="line">  [<span class="number">2</span>],</span><br><span class="line">  [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],</span><br><span class="line">  [<span class="number">1</span>,<span class="number">3</span>],</span><br><span class="line">  [<span class="number">2</span>,<span class="number">3</span>],</span><br><span class="line">  [<span class="number">1</span>,<span class="number">2</span>],</span><br><span class="line">  []</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•ä¸€</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> List&lt;List&lt;Integer&gt;&gt; res=<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; <span class="title function_">subsets</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (nums==<span class="literal">null</span> || nums.length&lt;=<span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    subsets(nums,<span class="number">0</span>,<span class="keyword">new</span> <span class="title class_">ArrayList</span>());</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">subsets</span><span class="params">(<span class="type">int</span>[] nums,<span class="type">int</span> index,List&lt;Integer&gt; lis)</span> &#123;</span><br><span class="line">    <span class="comment">//if (index&lt;=nums.length) &#123;</span></span><br><span class="line">        res.add(<span class="keyword">new</span> <span class="title class_">ArrayList</span>(lis));</span><br><span class="line">    <span class="comment">//&#125;</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=index; i&lt;nums.length;i++) &#123;</span><br><span class="line">        lis.add(nums[i]);</span><br><span class="line">        subsets(nums,i+<span class="number">1</span>,lis);</span><br><span class="line">        lis.remove(lis.size()-<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç®€å•çš„å›æº¯ï¼Œæ³¨æ„æ”¶é›†ç»“æœçš„æ—¶æœºå°±è¡Œ</p>
<p><strong>Update: 2020.6.20</strong></p>
<p>å¢åŠ ä¸€ä¸ª go çš„å†™æ³•</p>
<figure class="highlight golang"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">subsets</span><span class="params">(nums []<span class="type">int</span>)</span></span> [][]<span class="type">int</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> res [][]<span class="type">int</span></span><br><span class="line">    <span class="keyword">var</span> lis []<span class="type">int</span></span><br><span class="line">    <span class="keyword">var</span> dfs <span class="function"><span class="keyword">func</span><span class="params">(index <span class="type">int</span>)</span></span></span><br><span class="line">    dfs = <span class="function"><span class="keyword">func</span><span class="params">(index <span class="type">int</span>)</span></span>&#123;</span><br><span class="line">        dest:=<span class="built_in">make</span>([]<span class="type">int</span>,<span class="built_in">len</span>(lis))</span><br><span class="line">        <span class="built_in">copy</span>(dest,lis)</span><br><span class="line">        res=<span class="built_in">append</span>(res,dest)</span><br><span class="line">        <span class="keyword">for</span> i:=index;i&lt;<span class="built_in">len</span>(nums);i++&#123;</span><br><span class="line">            lis=<span class="built_in">append</span>(lis,nums[i])</span><br><span class="line">            dfs(i+<span class="number">1</span>)</span><br><span class="line">            lis=lis[:<span class="built_in">len</span>(lis)<span class="number">-1</span>]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    dfs(<span class="number">0</span>)</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•äºŒ</strong></p>
<p>BFSï¼Œç±»ä¼¼äºäºŒå‰æ ‘å±‚æ¬¡éå†ï¼Œé¦–å…ˆåˆå§‹åŒ–ä¸€ä¸ªç©ºçš„ listï¼Œåé¢æ¯æ¬¡è¿­ä»£éƒ½å°† list ä¸­çš„æ‰€æœ‰å…ƒç´ éƒ½å–å‡ºæ¥åŠ ä¸Šå½“å‰å…ƒç´ ï¼Œå†é‡æ–°åŠ å…¥åˆ° list ä¸­</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; <span class="title function_">subsets</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; queue=<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span> (nums==<span class="literal">null</span> || nums.length&lt;=<span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> queue;</span><br><span class="line">    &#125;</span><br><span class="line">    queue.add(<span class="keyword">new</span> <span class="title class_">ArrayList</span>());</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>;i&lt;nums.length;i++) &#123;</span><br><span class="line">        <span class="type">int</span> next=queue.size();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j=<span class="number">0</span>;j&lt;next;j++) &#123;</span><br><span class="line">            List&lt;Integer&gt; temp=<span class="keyword">new</span> <span class="title class_">ArrayList</span>(queue.get(j));</span><br><span class="line">            temp.add(nums[i]);</span><br><span class="line">            queue.add(temp);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> queue;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>è§£æ³•ä¸‰ï¼ˆUPDATE: 2020.9.11ï¼‰</strong></p>
<p>äºŒè¿›åˆ¶æšä¸¾å­é›†</p>
<figure class="highlight golang"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">subsets</span><span class="params">(nums []<span class="type">int</span>)</span></span> [][]<span class="type">int</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> n = <span class="built_in">len</span>(nums)</span><br><span class="line">    <span class="keyword">var</span> res [][]<span class="type">int</span></span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; (<span class="number">1</span>&lt;&lt;n); i++ &#123;</span><br><span class="line">        <span class="keyword">var</span> lis []<span class="type">int</span></span><br><span class="line">        <span class="keyword">for</span> j := <span class="number">0</span>; j &lt; n; j++ &#123;</span><br><span class="line">            <span class="keyword">if</span> i &amp; (<span class="number">1</span>&lt;&lt;j) != <span class="number">0</span> &#123;</span><br><span class="line">                lis = <span class="built_in">append</span>(lis, nums[j])</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        res = <span class="built_in">append</span>(res, lis)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="90-å­é›†-II"><a href="#90-å­é›†-II" class="headerlink" title="90. å­é›† II"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/subsets-ii/">90. å­é›† II</a></h2><p>ç»™å®šä¸€ä¸ª<strong>å¯èƒ½åŒ…å«é‡å¤å…ƒç´ </strong>çš„æ•´æ•°æ•°ç»„ numsï¼Œè¿”å›è¯¥æ•°ç»„æ‰€æœ‰å¯èƒ½çš„å­é›†ï¼ˆå¹‚é›†ï¼‰ã€‚</p>
<p><strong>è¯´æ˜ï¼š</strong>è§£é›†ä¸èƒ½åŒ…å«é‡å¤çš„å­é›†ã€‚</p>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š[<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>]</span><br><span class="line">è¾“å‡ºï¼š</span><br><span class="line">[</span><br><span class="line">  [<span class="number">2</span>],</span><br><span class="line">  [<span class="number">1</span>],</span><br><span class="line">  [<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>],</span><br><span class="line">  [<span class="number">2</span>,<span class="number">2</span>],</span><br><span class="line">  [<span class="number">1</span>,<span class="number">2</span>],</span><br><span class="line">  []</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•ä¸€</strong></p>
<p>å’Œ 40 é¢˜å¾ˆç±»ä¼¼ï¼Œä¸»è¦å°±æ˜¯è¿™ä¸ªå»é‡çš„æ“ä½œï¼Œæ¯”å¦‚é¢˜ç›®ç»™çš„ caseï¼Œ<code>[1,2,2]</code> å·²ç»æœ‰åºäº†ï¼Œåœ¨é€‰æ‹©ç¬¬ä¸€ä¸ª 2 çš„æ—¶å€™å…¶å®å°±å·²ç»å°†æ‰€æœ‰åŒ…å« 2 çš„å­é›†éƒ½æ±‚å‡ºæ¥äº†ï¼Œåé¢çš„ 2 å°±å¯ä»¥ç›´æ¥è·³è¿‡ï¼Œå½“ç„¶è¿™é‡Œ 1ï¼Œ2ï¼Œ2 æœ¬èº«å°±æ˜¯æœ‰åºçš„ï¼Œè¯•æƒ³å¦‚æœæ˜¯<code>2,1,2</code> éå†ç¬¬ä¸€ä¸ª 2 ä¼šå°†æ‰€æœ‰åŒ…å« 2 çš„å­é›†æ±‚å‡ºæ¥ï¼Œä½†æ˜¯éå†åˆ° 1 çš„æ—¶å€™ä¼šå°†ç¬¬ä¸‰ä¸ª 2 åŒ…å«è¿›æ¥ï¼Œä¹Ÿå°±æ˜¯<code>1ï¼Œ2</code> è¿™ä¸ªè§£ï¼Œä½†æ˜¯å‰é¢å·²ç»æ±‚å‡ºäº†<code>[2,1]</code> è¿™å°±é‡å¤äº†ï¼Œæ’åºå°±æ˜¯ä¸ºäº†å°†ç›¸åŒçš„å…ƒç´ èšåˆåˆ°ä¸€èµ·ï¼Œè¿™æ ·é‡åˆ°ç›¸åŒçš„å…ƒç´ å°±è·³è¿‡ï¼Œåé¢çš„å…ƒç´ å°±ä¸ä¼šå†åŒ…å«å·²ç»éå†è¿‡çš„å…ƒç´ äº†</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; <span class="title function_">subsetsWithDup</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (nums==<span class="literal">null</span> || nums.length&lt;=<span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//éœ€è¦å…ˆæ’åºï¼Œä¾¿äºè·³è¿‡ç›¸åŒçš„å…ƒç´ </span></span><br><span class="line">    Arrays.sort(nums);</span><br><span class="line">    subsets(nums,<span class="number">0</span>,<span class="keyword">new</span> <span class="title class_">ArrayList</span>());</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>  List&lt;List&lt;Integer&gt;&gt; res=<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">subsets</span><span class="params">(<span class="type">int</span>[] nums,<span class="type">int</span> index,List&lt;Integer&gt; lis)</span> &#123;</span><br><span class="line">    res.add(<span class="keyword">new</span> <span class="title class_">ArrayList</span>(lis));</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=index;i&lt;nums.length;i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (i&gt;index &amp;&amp; nums[i] == nums[i-<span class="number">1</span>]) &#123;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        lis.add(nums[i]);</span><br><span class="line">        subsets(nums,i+<span class="number">1</span>,lis);</span><br><span class="line">        lis.remove(lis.size()-<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>Update: 2020.6.20</strong></p>
<p>ç”¨ go é‡å†™äº†ä¸€éï¼Œå¤ä¹ ä¸‹</p>
<figure class="highlight golang"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">subsetsWithDup</span><span class="params">(nums []<span class="type">int</span>)</span></span> [][]<span class="type">int</span> &#123;</span><br><span class="line">    sort.Ints(nums)</span><br><span class="line">    <span class="keyword">var</span> res [][]<span class="type">int</span></span><br><span class="line">    <span class="keyword">var</span> lis []<span class="type">int</span></span><br><span class="line">    <span class="keyword">var</span> dfs <span class="function"><span class="keyword">func</span><span class="params">(index <span class="type">int</span>)</span></span></span><br><span class="line">    dfs = <span class="function"><span class="keyword">func</span><span class="params">(index <span class="type">int</span>)</span></span>&#123;</span><br><span class="line">        dest:=<span class="built_in">make</span>([]<span class="type">int</span>,<span class="built_in">len</span>(lis))</span><br><span class="line">        <span class="built_in">copy</span>(dest,lis)</span><br><span class="line">        res=<span class="built_in">append</span>(res,dest)</span><br><span class="line">        <span class="keyword">for</span> i:=index;i&lt;<span class="built_in">len</span>(nums);i++&#123;</span><br><span class="line">            <span class="keyword">if</span> i&gt;index &amp;&amp; nums[i]==nums[i<span class="number">-1</span>]&#123;</span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">            &#125;</span><br><span class="line">            lis=<span class="built_in">append</span>(lis,nums[i])</span><br><span class="line">            dfs(i+<span class="number">1</span>)</span><br><span class="line">            lis=lis[:<span class="built_in">len</span>(lis)<span class="number">-1</span>]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    dfs(<span class="number">0</span>)</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="357-è®¡ç®—å„ä¸ªä½æ•°ä¸åŒçš„æ•°å­—ä¸ªæ•°"><a href="#357-è®¡ç®—å„ä¸ªä½æ•°ä¸åŒçš„æ•°å­—ä¸ªæ•°" class="headerlink" title="357. è®¡ç®—å„ä¸ªä½æ•°ä¸åŒçš„æ•°å­—ä¸ªæ•°"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/count-numbers-with-unique-digits/">357. è®¡ç®—å„ä¸ªä½æ•°ä¸åŒçš„æ•°å­—ä¸ªæ•°</a></h2><p>ç»™å®šä¸€ä¸ªéè´Ÿæ•´æ•° nï¼Œè®¡ç®—å„ä½æ•°å­—éƒ½ä¸åŒçš„æ•°å­— x çš„ä¸ªæ•°ï¼Œå…¶ä¸­ 0 â‰¤ x &lt; 10n ã€‚</p>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š<span class="number">2</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">91</span> </span><br><span class="line">è§£é‡Šï¼šç­”æ¡ˆåº”ä¸ºé™¤å» <span class="number">11</span>,<span class="number">22</span>,<span class="number">33</span>,<span class="number">44</span>,<span class="number">55</span>,<span class="number">66</span>,<span class="number">77</span>,<span class="number">88</span>,<span class="number">99</span> å¤–ï¼Œåœ¨ [<span class="number">0</span>,<span class="number">100</span>) åŒºé—´å†…çš„æ‰€æœ‰æ•°å­—ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•ä¸€</strong></p>
<blockquote>
<p>è¿™é‡Œè¦å­˜ä¸ªç–‘é—®ï¼Œè¿™é‡Œçš„å›æº¯è®°å¿†åŒ–åº”è¯¥æ˜¯é”™çš„ï¼Œå¯èƒ½æ˜¯æ•°æ®å¤ªå°‘äº†ï¼Œæ²¡æµ‹è¯•å‡ºæ¥ï¼Œä½†æ˜¯å±…ç„¶çœŸçš„æé«˜äº†æ•ˆç‡ã€‚è¿™å°±å¾ˆè¯¡å¼‚</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//è¿™ç§å¯ä»¥åšè®°å¿†åŒ–ï¼Œ0ms</span></span><br><span class="line">Integer[] cache=<span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">countNumbersWithUniqueDigits2</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">    <span class="type">boolean</span>[] visit=<span class="keyword">new</span> <span class="title class_">boolean</span>[<span class="number">10</span>];</span><br><span class="line">    cache=<span class="keyword">new</span> <span class="title class_">Integer</span>[n+<span class="number">1</span>];</span><br><span class="line">    <span class="type">int</span> res=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span> (n==<span class="number">0</span>) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">1</span>;i&lt;=<span class="number">9</span>;i++) &#123; <span class="comment">//ä¸è€ƒè™‘ 0 å¼€å¤´çš„</span></span><br><span class="line">        visit[i]=<span class="literal">true</span>;</span><br><span class="line">        res+=countNumbersWithUniqueDigits2(n,visit,<span class="number">1</span>);</span><br><span class="line">        visit[i]=<span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res+<span class="number">1</span>; <span class="comment">//åŠ çš„æ˜¯ 0 è¿™ç§æƒ…å†µ</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//[index,n](ä½æ•°)åŒºé—´å†…ï¼Œèƒ½æ„æˆæœ€å¤šçš„ä¸é‡å¤æ•°å­—</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">countNumbersWithUniqueDigits2</span><span class="params">(<span class="type">int</span> n,<span class="type">boolean</span>[] visit,<span class="type">int</span> index)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (index==n) &#123; <span class="comment">//æ²¡å¾—é€‰ï¼Œåªæœ‰ä¸€ç§</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (cache[index]!=<span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> cache[index];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> count=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>;i&lt;=<span class="number">9</span>;i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!visit[i]) &#123;</span><br><span class="line">            visit[i]=<span class="literal">true</span>;</span><br><span class="line">            count+=countNumbersWithUniqueDigits2(n,visit,index+<span class="number">1</span>);</span><br><span class="line">            visit[i]=<span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> cache[index]=count;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æˆ‘éƒ½ä¸å¥½æ„æ€æ”¾åˆ°å›æº¯ä¸“é¢˜ä¸­ï¼Œå¼€å§‹å†™äº†ä¸ªè´¼è„‘æ®‹çš„å›æº¯ 451msï¼Œå®åœ¨ä¸å¥½æ„æ€æ”¾ä¸Šæ¥</p>
<p><strong>è§£æ³•äºŒ</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//æ•°å­¦æ–¹æ³•ï¼ˆåˆä¸­æ•°å­¦ï¼‰</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">countNumbersWithUniqueDigits3</span><span class="params">(<span class="type">int</span> n)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (n==<span class="number">0</span>) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (n&gt;<span class="number">10</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> res=<span class="number">10</span>,count=<span class="number">9</span>; <span class="comment">//i=1 çš„æƒ…å†µ</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">2</span>;i&lt;=n;i++) &#123;</span><br><span class="line">        count*=(<span class="number">11</span>-i); <span class="comment">//9*9*8*7*6*5.....</span></span><br><span class="line">        res+=count;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¯´å®è¯ï¼Œè¿™ç§æ–¹æ³•æˆ‘ä¸€å¼€å§‹å†™ç¬¬ä¸€ç§å¾ˆè„‘æ®‹çš„å›æº¯çš„æ—¶å€™æ¨å‡ºæ¥äº†çš„ï¼Œä½†æ˜¯æˆ‘å±…ç„¶æ²¡æ„è¯†åˆ°ã€‚</p>
<h2 id="89-æ ¼é›·ç¼–ç "><a href="#89-æ ¼é›·ç¼–ç " class="headerlink" title="89. æ ¼é›·ç¼–ç "></a>89. æ ¼é›·ç¼–ç </h2><p>æ ¼é›·ç¼–ç æ˜¯ä¸€ä¸ªäºŒè¿›åˆ¶æ•°å­—ç³»ç»Ÿï¼Œåœ¨è¯¥ç³»ç»Ÿä¸­ï¼Œä¸¤ä¸ªè¿ç»­çš„æ•°å€¼ä»…æœ‰ä¸€ä¸ªä½æ•°çš„å·®å¼‚ã€‚</p>
<p>ç»™å®šä¸€ä¸ªä»£è¡¨ç¼–ç æ€»ä½æ•°çš„éè´Ÿæ•´æ•° nï¼Œæ‰“å°å…¶æ ¼é›·ç¼–ç åºåˆ—ã€‚æ ¼é›·ç¼–ç åºåˆ—å¿…é¡»ä»¥ 0 å¼€å¤´ã€‚</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š<span class="number">2</span></span><br><span class="line">è¾“å‡ºï¼š[<span class="number">0</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">2</span>]</span><br><span class="line">è§£é‡Šï¼š</span><br><span class="line"><span class="number">00</span> - <span class="number">0</span></span><br><span class="line"><span class="number">01</span> - <span class="number">1</span></span><br><span class="line"><span class="number">11</span> - <span class="number">3</span></span><br><span class="line"><span class="number">10</span> - <span class="number">2</span></span><br><span class="line"></span><br><span class="line">å¯¹äºç»™å®šçš„ nï¼Œå…¶æ ¼é›·ç¼–ç åºåˆ—å¹¶ä¸å”¯ä¸€ã€‚</span><br><span class="line">ä¾‹å¦‚ï¼Œ[<span class="number">0</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">1</span>] ä¹Ÿæ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„æ ¼é›·ç¼–ç åºåˆ—ã€‚</span><br><span class="line"></span><br><span class="line"><span class="number">00</span> - <span class="number">0</span></span><br><span class="line"><span class="number">10</span> - <span class="number">2</span></span><br><span class="line"><span class="number">11</span> - <span class="number">3</span></span><br><span class="line"><span class="number">01</span> - <span class="number">1</span></span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š<span class="number">0</span></span><br><span class="line">è¾“å‡ºï¼š[<span class="number">0</span>]</span><br><span class="line">è§£é‡Šï¼šæˆ‘ä»¬å®šä¹‰æ ¼é›·ç¼–ç åºåˆ—å¿…é¡»ä»¥ <span class="number">0</span> å¼€å¤´ã€‚</span><br><span class="line">     ç»™å®šç¼–ç æ€»ä½æ•°ä¸º n çš„æ ¼é›·ç¼–ç åºåˆ—ï¼Œå…¶é•¿åº¦ä¸º 2nã€‚å½“ n = <span class="number">0</span> æ—¶ï¼Œé•¿åº¦ä¸º <span class="number">20</span> = <span class="number">1</span>ã€‚</span><br><span class="line">     å› æ­¤ï¼Œå½“ n = <span class="number">0</span> æ—¶ï¼Œå…¶æ ¼é›·ç¼–ç åºåˆ—ä¸º [<span class="number">0</span>]ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•ä¸€</strong></p>
<p>åˆä¸€ä¸ªè„‘æ®‹åšæ³•ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title function_">grayCode3</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">    List&lt;Integer&gt; res=<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    res.add(<span class="number">0</span>);</span><br><span class="line">    <span class="type">int</span> max=(<span class="number">1</span>&lt;&lt;n)-<span class="number">1</span>; <span class="comment">//æ³¨æ„ä¼˜å…ˆçº§</span></span><br><span class="line">    <span class="type">boolean</span>[] visit=<span class="keyword">new</span> <span class="title class_">boolean</span>[max+<span class="number">1</span>];</span><br><span class="line">    grayCode3(max,res,visit);</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">grayCode3</span><span class="params">(<span class="type">int</span> max,List&lt;Integer&gt; lis,<span class="type">boolean</span>[] visit)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (lis.size()&gt;max) &#123; <span class="comment">// list.size()==max+1 eg. when max=3 the list.size()=4</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> last=lis.get(lis.size()-<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">1</span>;i&lt;=max;i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!visit[i] &amp;&amp; Integer.bitCount(i^last)==<span class="number">1</span>) &#123;</span><br><span class="line">            lis.add(i);</span><br><span class="line">            visit[i]=<span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">if</span>(grayCode3(max,lis,visit))&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            lis.remove(lis.size()-<span class="number">1</span>);</span><br><span class="line">            visit[i]=<span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•äºŒ</strong></p>
<p>æ­£å¸¸çš„å›æº¯ï¼Œæ¯æ¬¡ä¿®æ”¹ä¸€ä½ï¼Œ<strong>ç›´æ¥ç”Ÿæˆä¸‹ä¸€ä¸ªå¯èƒ½çš„æ ¼é›·ç </strong>ï¼Œè€Œä¸æ˜¯å‘ä¸Šé¢ä¸€æ ·ä¸€ä¸ªä¸ªéå†ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//å¸¸è§„å›æº¯</span></span><br><span class="line"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title function_">grayCode2</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">    List&lt;Integer&gt; res=<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    <span class="type">boolean</span>[] visit=<span class="keyword">new</span> <span class="title class_">boolean</span>[<span class="number">1</span>&lt;&lt;n];</span><br><span class="line">    res.add(<span class="number">0</span>);</span><br><span class="line">    visit[<span class="number">0</span>]=<span class="literal">true</span>;</span><br><span class="line">    grayCode2(n,res,visit,<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">grayCode2</span><span class="params">(<span class="type">int</span> n,List&lt;Integer&gt; lis,<span class="type">boolean</span>[] visit,<span class="type">int</span> last)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (lis.size()&gt;=(<span class="number">1</span>&lt;&lt;n)) &#123; <span class="comment">// list.size()==max+1 eg. when max=3 the list.size()=4</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;i++) &#123;</span><br><span class="line">        <span class="comment">//ç›´æ¥ç”Ÿæˆä¸‹ä¸€ä¸ª</span></span><br><span class="line">        <span class="type">int</span> next=last^(<span class="number">1</span>&lt;&lt;i); <span class="comment">//è¿™ä¸€æ­¥å…¶å®å°±æ˜¯ä»åå¾€å‰ï¼Œä¾æ¬¡æ”¹å˜ last ä¸€ä½</span></span><br><span class="line">        <span class="keyword">if</span> (!visit[next]) &#123;</span><br><span class="line">            lis.add(next);</span><br><span class="line">            visit[next]=<span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">if</span>(grayCode2(n,lis,visit,next))&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            lis.remove(lis.size()-<span class="number">1</span>);</span><br><span class="line">            visit[next]=<span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>è§£æ³•ä¸‰</strong></p>
<p>ä¸åœçš„å’Œè‡ªå·±å³ç§»ä¸€ä½çš„å€¼åšå¼‚æˆ–ï¼Œæœ€ç»ˆå°±å¯ä»¥çš„åˆ°å®Œæ•´çš„æ ¼é›·ç ï¼Œè‡³äºåŸç†å¹¶ä¸æƒ³å»ç ”ç©¶ğŸ˜‚ï¼Œå…ˆè®°ä½å†è¯´</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//æœ€ä¼˜è§£ï¼Œè§„å¾‹</span></span><br><span class="line"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title function_">grayCode</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">    List&lt;Integer&gt; res=<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>;i&lt;<span class="number">1</span>&lt;&lt;n;i++) &#123;</span><br><span class="line">        res.add(i^(i&gt;&gt;<span class="number">1</span>));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>çœ‹äº†è¯„è®ºåŒºå‘ç°è¿˜æœ‰ä¸ªè§„å¾‹ï¼Œæ¯ä¸€å±‚çš„æ ¼é›·ç éƒ½æ˜¯ä¸Šä¸€å±‚å‰é¢åŠ  0 å’Œé€†åºä¸Šä¸€å±‚åœ¨å‰é¢åŠ  1ï¼Œæ„Ÿè§‰å¯èƒ½å’Œä¸Šé¢çš„è§„å¾‹æ˜¯ä¸€æ ·çš„ï¼Œä¸€å›¾ä»¥è”½ä¹‹</p>
<p><img src="http://static.imlgw.top/blog/20191219/7rzdkpDvA4IN.png?imageslim" alt="leetCode é¢˜è§£"></p>
<h2 id="526-ä¼˜ç¾çš„æ’åˆ—"><a href="#526-ä¼˜ç¾çš„æ’åˆ—" class="headerlink" title="526. ä¼˜ç¾çš„æ’åˆ—"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/beautiful-arrangement/">526. ä¼˜ç¾çš„æ’åˆ—</a></h2><p>å‡è®¾æœ‰ä» 1 åˆ° N çš„ N ä¸ªæ•´æ•°ï¼Œå¦‚æœä»è¿™ N ä¸ªæ•°å­—ä¸­æˆåŠŸæ„é€ å‡ºä¸€ä¸ªæ•°ç»„ï¼Œä½¿å¾—æ•°ç»„çš„ç¬¬ i ä½ (1 &lt;= i &lt;= N) æ»¡è¶³å¦‚ä¸‹ä¸¤ä¸ªæ¡ä»¶ä¸­çš„ä¸€ä¸ªï¼Œæˆ‘ä»¬å°±ç§°è¿™ä¸ªæ•°ç»„ä¸ºä¸€ä¸ªä¼˜ç¾çš„æ’åˆ—ã€‚æ¡ä»¶ï¼š</p>
<ol>
<li>ç¬¬ i ä½çš„æ•°å­—èƒ½è¢« i æ•´é™¤</li>
<li>i èƒ½è¢«ç¬¬ i ä½ä¸Šçš„æ•°å­—æ•´é™¤</li>
</ol>
<p>ç°åœ¨ç»™å®šä¸€ä¸ªæ•´æ•° Nï¼Œè¯·é—®å¯ä»¥æ„é€ å¤šå°‘ä¸ªä¼˜ç¾çš„æ’åˆ—ï¼Ÿ</p>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>å›æº¯æ³•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">countArrangement</span><span class="params">(<span class="type">int</span> N)</span> &#123;</span><br><span class="line">    <span class="type">boolean</span>[] visit=<span class="keyword">new</span> <span class="title class_">boolean</span>[N+<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">return</span> countArrangement(N,visit,<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">countArrangement</span><span class="params">(<span class="type">int</span> N,<span class="type">boolean</span>[] visit,<span class="type">int</span> index)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (index &gt; N) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> res=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">1</span>;i&lt;=N;i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!visit[i] &amp;&amp; (index%i==<span class="number">0</span> || i%index==<span class="number">0</span>)) &#123;</span><br><span class="line">            visit[i]=<span class="literal">true</span>;</span><br><span class="line">            res+=countArrangement(N,visit,index+<span class="number">1</span>);</span><br><span class="line">            visit[i]=<span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å…¶å®æˆ‘æ˜¯æƒ³æ”¹æˆè®°å¿†åŒ–é€’å½’çš„ï¼Œä¸ç„¶æˆ‘ä¹Ÿä¸ä¼šè¿™æ ·å†™ï¼Œä½†æ˜¯åé¢æ”¹çš„æ—¶å€™å±…ç„¶å‡ºäº† bugï¼Œè¿™ä¹Ÿç®—æ˜¯æ‰“é†’äº†æˆ‘ï¼Œæˆ‘ä¸€ç›´ä»¥ä¸ºè¿™æ ·çš„å›æº¯éƒ½èƒ½æ”¹æˆè®°å¿†åŒ–é€’å½’ã€‚è¿™é‡Œå¾ˆæ˜æ˜¾æ— æ³•åšè®°å¿†åŒ–ï¼Œå› ä¸ºä½ æ¯æ¬¡å›æº¯çš„æ—¶å€™ index ç›¸åŒï¼Œä½†æ˜¯ visit æ•°ç»„çš„çŠ¶æ€æ˜¯ä¸ä¸€æ ·çš„ï¼Œç›´æ¥è®°å¿†åŒ–è‚¯å®šå°±é”™äº†ã€‚ä½†æ˜¯è¯´åˆ°è¿™é‡Œæˆ‘å‘ç°ä¸Šé¢çš„ <a href="##">357. å„ä¸ªä½æ•°ä¸åŒæ•°å­—ä¸ªæ•°</a> å±…ç„¶è¿™æ ·è¿‡äº†ï¼Œå¹¶ä¸”è¿˜çœŸçš„æé«˜äº†æ•ˆç‡ã€‚</p>
<h2 id="784-å­—æ¯å¤§å°å†™å…¨æ’åˆ—"><a href="#784-å­—æ¯å¤§å°å†™å…¨æ’åˆ—" class="headerlink" title="784. å­—æ¯å¤§å°å†™å…¨æ’åˆ—"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/letter-case-permutation/">784. å­—æ¯å¤§å°å†™å…¨æ’åˆ—</a></h2><p>ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² Sï¼Œé€šè¿‡å°†å­—ç¬¦ä¸² S ä¸­çš„æ¯ä¸ªå­—æ¯è½¬å˜å¤§å°å†™ï¼Œæˆ‘ä»¬å¯ä»¥è·å¾—ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ã€‚è¿”å›æ‰€æœ‰å¯èƒ½å¾—åˆ°çš„å­—ç¬¦ä¸²é›†åˆã€‚</p>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šS = <span class="string">&quot;a1b2&quot;</span></span><br><span class="line">è¾“å‡ºï¼š[<span class="string">&quot;a1b2&quot;</span>, <span class="string">&quot;a1B2&quot;</span>, <span class="string">&quot;A1b2&quot;</span>, <span class="string">&quot;A1B2&quot;</span>]</span><br><span class="line"></span><br><span class="line">è¾“å…¥ï¼šS = <span class="string">&quot;3z4&quot;</span></span><br><span class="line">è¾“å‡ºï¼š[<span class="string">&quot;3z4&quot;</span>, <span class="string">&quot;3Z4&quot;</span>]</span><br><span class="line"></span><br><span class="line">è¾“å…¥ï¼šS = <span class="string">&quot;12345&quot;</span></span><br><span class="line">è¾“å‡ºï¼š[<span class="string">&quot;12345&quot;</span>]</span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„ï¼š</strong></p>
<ul>
<li>S çš„é•¿åº¦ä¸è¶…è¿‡ 12ã€‚</li>
<li>S ä»…ç”±æ•°å­—å’Œå­—æ¯ç»„æˆã€‚ </li>
</ul>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>ä¸€çœ‹æ˜¯ç®€å•é¢˜ï¼Œå±é¢ å±é¢ å°±å¼€å§‹æï¼Œç»“æœå‘ç°æ²¡æƒ³è±¡ä¸­ç®€å•ï¼ˆä¸»è¦æ˜¯æˆ‘å¤ªèœäº†ï¼‰</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> List&lt;String&gt; res=<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> List&lt;String&gt; <span class="title function_">letterCasePermutation</span><span class="params">(String S)</span> &#123;</span><br><span class="line">    letterCasePermutation(S,<span class="number">0</span>,<span class="keyword">new</span> <span class="title class_">StringBuilder</span>(S));</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">letterCasePermutation</span><span class="params">(String S,<span class="type">int</span> index,StringBuilder cur)</span> &#123;</span><br><span class="line">    res.add(cur.toString()); <span class="comment">//å˜åŒ–ä¸€æ¬¡å°±æ·»åŠ ä¸€æ¬¡</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=index;i&lt;S.length();i++) &#123;</span><br><span class="line">        <span class="type">char</span> c=S.charAt(i);</span><br><span class="line">        <span class="keyword">if</span> (c&gt;=<span class="string">&#x27;0&#x27;</span> &amp;&amp; c&lt;=<span class="string">&#x27;9&#x27;</span>) &#123;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        cur.replace(i,i+<span class="number">1</span>,letterCase(c));</span><br><span class="line">        letterCasePermutation(S,i+<span class="number">1</span>,cur);</span><br><span class="line">        cur.replace(i,i+<span class="number">1</span>,letterCase(cur.charAt(i))); <span class="comment">//çŠ¶æ€é‡ç½®</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è¿™é‡Œå…¶å®æœ‰ä¸€ä¸ªå°æŠ€å·§ï¼šc^(1&lt;&lt;5) å°±å¯ä»¥ä½¿å¤§å†™å˜å°å†™ï¼Œå°å†™å˜å¤§å†™</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">letterCase</span><span class="params">(<span class="type">char</span> c)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (c&gt;=<span class="string">&#x27;a&#x27;</span> &amp;&amp; c&lt;=<span class="string">&#x27;z&#x27;</span>) &#123; <span class="comment">//65:A 97:a</span></span><br><span class="line">        c-=<span class="number">32</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span> (c&gt;=<span class="string">&#x27;A&#x27;</span> &amp;&amp; c&lt;=<span class="string">&#x27;Z&#x27;</span>) &#123;</span><br><span class="line">        c+=<span class="number">32</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> c+<span class="string">&quot;&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œçš„çŠ¶æ€é‡ç½®å’Œä¹‹å‰çš„ä¸å¤ªä¸€æ ·ï¼Œä¸è¿‡æ•´ä½“è¿˜æ˜¯å¾ˆå¥½æƒ³çš„ï¼Œå…¶å®ä¹Ÿå¯ä»¥å®Œå…¨ä¸ç”¨å¾ªç¯çš„å½¢å¼</p>
<h2 id="1079-æ´»å­—å°åˆ·"><a href="#1079-æ´»å­—å°åˆ·" class="headerlink" title="1079. æ´»å­—å°åˆ·"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/letter-tile-possibilities/">1079. æ´»å­—å°åˆ·</a></h2><p>ä½ æœ‰ä¸€å¥—æ´»å­—å­—æ¨¡ tilesï¼Œå…¶ä¸­æ¯ä¸ªå­—æ¨¡ä¸Šéƒ½åˆ»æœ‰ä¸€ä¸ªå­—æ¯ tiles[i]ã€‚è¿”å›ä½ å¯ä»¥å°å‡ºçš„éç©ºå­—æ¯åºåˆ—çš„æ•°ç›®ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š<span class="string">&quot;AAB&quot;</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">8</span></span><br><span class="line">è§£é‡Šï¼šå¯èƒ½çš„åºåˆ—ä¸º <span class="string">&quot;A&quot;</span>, <span class="string">&quot;B&quot;</span>, <span class="string">&quot;AA&quot;</span>, <span class="string">&quot;AB&quot;</span>, <span class="string">&quot;BA&quot;</span>, <span class="string">&quot;AAB&quot;</span>, <span class="string">&quot;ABA&quot;</span>, <span class="string">&quot;BAA&quot;</span>ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š<span class="string">&quot;AAABBC&quot;</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">188</span></span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ol>
<li><code>1 &lt;= tiles.length &lt;= 7</code></li>
<li><code>tiles</code> ç”±å¤§å†™è‹±æ–‡å­—æ¯ç»„æˆ</li>
</ol>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>è¿™é“é¢˜è¿˜æ˜¯æŒºæœ‰æ„æ€çš„ï¼Œæœ‰ç‚¹ç»“åˆå…¨æ’åˆ—å’Œå­é›†çš„æ„æ€ï¼Œ</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">numTilePossibilities</span><span class="params">(String tiles)</span> &#123;</span><br><span class="line">    <span class="type">boolean</span>[] visit=<span class="keyword">new</span> <span class="title class_">boolean</span>[tiles.length()];</span><br><span class="line">    <span class="type">char</span>[] cs=tiles.toCharArray();</span><br><span class="line">    Arrays.sort(cs);</span><br><span class="line">    numTilePossibilities(cs,visit);</span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> count=-<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ’åºå»é‡</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">numTilePossibilities</span><span class="params">(<span class="type">char</span>[]cs,<span class="type">boolean</span>[] visit)</span> &#123;</span><br><span class="line">    count++;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>;i&lt;cs.length;i++) &#123;</span><br><span class="line">        <span class="comment">//æƒ³æ¸…æ¥šè¿™é‡Œä¸ºå•¥å¿…é¡»æ˜¯ï¼visit[i-1]</span></span><br><span class="line">        <span class="keyword">if</span>(i&gt;<span class="number">0</span> &amp;&amp; cs[i]==cs[i-<span class="number">1</span>] &amp;&amp; !visit[i-<span class="number">1</span>])&#123; </span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (!visit[i]) &#123;</span><br><span class="line">            visit[i]=<span class="literal">true</span>;</span><br><span class="line">            numTilePossibilities(cs,visit);</span><br><span class="line">            visit[i]=<span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™é¢˜æ”¶è·æ¯”è¾ƒå¤§ï¼Œå¯¹æ’åˆ—ç»„åˆç±»å‹çš„é¢˜ç›®åˆå¤šäº†ä¸€å±‚ç†è§£ï¼ŒåŒæ—¶ä¹Ÿçº æ­£äº†ä¹‹å‰çš„é”™è¯¯è§‚ç‚¹</p>
<h3 id="Bug-è­¦å‘Šï¼ï¼ï¼"><a href="#Bug-è­¦å‘Šï¼ï¼ï¼" class="headerlink" title="Bug è­¦å‘Šï¼ï¼ï¼"></a>Bug è­¦å‘Šï¼ï¼ï¼</h3><p>çœ‹ä¸€ä¸‹æœ€å¼€å§‹å†™çš„é”™è¯¯è§£æ³•ï¼Œå”¯ä¸€çš„åŒºåˆ«å°±åœ¨è¿™ä¸ª<code>!visit[i-1]</code>ä¸Šï¼</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (i&gt;<span class="number">0</span> &amp;&amp; cs[i]==cs[i-<span class="number">1</span>] &amp;&amp; visit[i-<span class="number">1</span>])</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œæˆ‘ä¹‹å‰ä¸€ç›´ç†è§£æˆäº†ä¿ç•™ç¬¬ä¸€ä¸ªåˆ†æ”¯ï¼Œä¸Šä¸€ä¸ªå…ƒç´ å·²ç»è®¿é—®è¿‡äº†ï¼Œåé¢å°±ç›´æ¥è·³è¿‡ï¼Œåšäº†è¿™ä¸€é¢˜å†™å‡ºé—®é¢˜äº†æ‰çŸ¥é“åŸæ¥è¿™é‡Œå®Œå…¨ç†è§£åäº†ğŸ˜‚ï¼Œå½“æ—¶æ²¡æœ‰ä»”ç»†æƒ³ï¼Œå…¶å®è¿™é‡Œç»†æƒ³ä¸€ä¸‹å°±å¾ˆå®¹æ˜“å‘ç°é—®é¢˜ï¼Œvisit æ•°ç»„å…¶å®ä¿è¯çš„æ˜¯å½“å‰è¿™ä¸€æ¡<strong>è‡ªä¸Šè€Œä¸‹çš„çºµå‘åˆ†æ”¯å†…ä¸ä¼šæœ‰é‡å¤ä½ç½®çš„å…ƒç´ è¢«é€‰å–</strong>ï¼Œè€Œè¿™é‡Œæˆ‘ä»¬<strong>è¦ç¡®ä¿çš„å…¶å®æ˜¯æ¨ªå‘çš„ä¸é‡å¤ï¼Œä¹Ÿå°±æ˜¯åŒä¸€å±‚å†…ä¸é‡å¤</strong>ï¼Œæ‰€ä»¥è¿™é‡Œä½¿ç”¨<code>visit[i-1]</code> å…¶å®ä»è¯­ä¹‰ä¸Šæ¥è¯´å°±æ˜¯æœ‰é—®é¢˜çš„ï¼Œç”»ä¸ªå›¾æ¥è¯´æ˜ä¸‹ä¸ºå•¥ä¼šæœ‰é—®é¢˜</p>
<p><img src="http://static.imlgw.top/blog/20200625/HekOxo1dFTYw.png?imageslim" alt="mark"></p>
<p>ç”»ä¸ªé€’å½’æ ‘ï¼Œç„¶åæ¨¡æ‹Ÿä¸€ä¸‹ï¼Œå…¶å®å°±æ˜ç™½äº†ï¼Œä½¿ç”¨<code>visit[i-1]</code>çš„æ–¹å¼ï¼Œç”Ÿæˆçš„ç¬¬ä¸€ä¸ªåˆ†æ”¯å…¶å®å°±ä¸å®Œæ•´äº†ï¼Œåªæœ‰åé¢çš„ç¬¬äºŒä¸ªåˆ†æ”¯æ‰ä¼šæ˜¯å®Œæ•´çš„ï¼Œæ‰€ä»¥<strong>å¯ä»¥ç†è§£ä¸ºä¿ç•™æœ€åä¸€ä¸ªåˆ†æ”¯ï¼Œå°†å‰é¢çš„åˆ†æ”¯å‰ªæ‰</strong>ï¼Œåœ¨å…¨æ’åˆ—ä¸­å› ä¸ºæœ‰é•¿åº¦é™åˆ¶ï¼Œç¬¬ä¸€ä¸ªåˆ†æ”¯å¹¶æ²¡æœ‰è¾¾åˆ°ç»™å®šçš„é•¿åº¦ï¼Œæ‰€ä»¥å¹¶ä¸ä¼šåŠ å…¥ç»“æœé›†ï¼Œå¯¹ç»“æœæ²¡æœ‰å½±å“ï¼Œï¼ˆå…¶å®æ˜¯ä¼šå½±å“æ•ˆç‡çš„ï¼Œä¼šé‡å¤çš„éå†åˆ†æ”¯ï¼Œè¿™ä¸ªæ‰“å°ä¸€ä¸‹ç”Ÿæˆå…¨æ’åˆ—è¿‡ç¨‹çš„ç»“æœé›†å°±èƒ½çœ‹å‡ºæ¥ï¼‰</p>
<p>ä½†æ˜¯åœ¨è¿™ä¸€é¢˜ï¼Œå¹¶æ²¡æœ‰é•¿åº¦çš„é™åˆ¶ï¼Œæ‰€ä»¥ count ä¼šå°†ç¬¬ä¸€ä¸ªä¸å®Œæ•´çš„åˆ†æ”¯ä¹Ÿå½“ä½œç»“æœé›†ç®—è¿›å»ï¼Œè€Œåé¢ç¬¬äºŒä¸ªåˆ†æ”¯çš„æ—¶å€™ï¼ˆå®Œæ•´åˆ†æ”¯ï¼‰åˆä¼šè®¡ç®—ä¸€éï¼Œç»“æœå°±é”™äº†</p>
<p><strong>é‚£ä¸ºä»€ä¹ˆ<code>!visit[i-1]</code> å°±å¯ä»¥å‘¢ï¼Ÿ</strong></p>
<p>å…¶å®ä¹Ÿå¾ˆå¥½ç†è§£ï¼Œvisit è™½ç„¶ä¿è¯çš„æ˜¯çºµå‘çš„ä¸é‡å¤ï¼Œä½†æ˜¯æ¯éå†å®Œä¸€ä¸ªåˆ†æ”¯åï¼Œéƒ½ä¼šå›æº¯çŠ¶æ€ï¼Œè€Œæˆ‘ä»¬åˆæ˜¯<strong>æŒ‰ç…§é¡ºåºæ¥éå†å…ƒç´ </strong>çš„ï¼Œæ‰€ä»¥å¦‚æœä¸Šä¸€ä¸ªå…ƒç´ çš„ visit[i] æ˜¯ falseï¼Œé‚£å°±è¯´æ˜ä¸Šä¸€ä¸ªå…ƒç´ çš„åˆ†æ”¯å·²ç»éå†å®Œäº†ï¼ä»¥å®ƒå¼€å¤´çš„æ‰€æœ‰æ’åˆ—éƒ½æ‰¾å®Œäº†ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬åˆ¤æ–­æ˜¯å¦ç›¸ç­‰ç„¶åè·³è¿‡ï¼Œæ‰æ˜¯çœŸæ­£çš„ä¿ç•™äº†ç¬¬ä¸€ä¸ªåˆ†æ”¯ï¼åé¢çš„ç›´æ¥è·³è¿‡ï¼Œå‡å°‘äº†å¤šä½™çš„æ“ä½œï¼ŒåŒæ—¶ä¹Ÿä¸ä¼šå‡ºç° bugï¼Œæ‰€ä»¥ä½ æ˜ç™½ä»¥åè¦ç”¨é‚£ä¸ªäº†å§ğŸ˜‰</p>
<h2 id="1291-é¡ºæ¬¡æ•°"><a href="#1291-é¡ºæ¬¡æ•°" class="headerlink" title="1291. é¡ºæ¬¡æ•°"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/sequential-digits/">1291. é¡ºæ¬¡æ•°</a></h2><p>æˆ‘ä»¬å®šä¹‰ã€Œé¡ºæ¬¡æ•°ã€ä¸ºï¼šæ¯ä¸€ä½ä¸Šçš„æ•°å­—éƒ½æ¯”å‰ä¸€ä½ä¸Šçš„æ•°å­—å¤§ 1 çš„æ•´æ•°ã€‚</p>
<p>è¯·ä½ è¿”å›ç”± [low, high] èŒƒå›´å†…æ‰€æœ‰é¡ºæ¬¡æ•°ç»„æˆçš„ æœ‰åº åˆ—è¡¨ï¼ˆä»å°åˆ°å¤§æ’åºï¼‰ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å‡ºï¼šlow = <span class="number">100</span>, high = <span class="number">300</span></span><br><span class="line">è¾“å‡ºï¼š[<span class="number">123</span>,<span class="number">234</span>]</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å‡ºï¼šlow = <span class="number">1000</span>, high = <span class="number">13000</span></span><br><span class="line">è¾“å‡ºï¼š[<span class="number">1234</span>,<span class="number">2345</span>,<span class="number">3456</span>,<span class="number">4567</span>,<span class="number">5678</span>,<span class="number">6789</span>,<span class="number">12345</span>]</span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li>10 &lt;= low &lt;= high &lt;= 10^9 </li>
</ul>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>å›æº¯ tag ä¸‹çš„ï¼ŒæŸä¸€æ¬¡å‘¨èµ›çš„é¢˜ï¼Œæˆ‘å†™çš„å·²ç»ä¸åƒå›æº¯äº†ï¼Œå°¾é€’å½’ï¼Œæœ‰ç‚¹é¸¡è‚‹</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title function_">sequentialDigits</span><span class="params">(<span class="type">int</span> low, <span class="type">int</span> high)</span> &#123;</span><br><span class="line">    String slow=String.valueOf(low);</span><br><span class="line">    <span class="type">int</span> slen=slow.length();</span><br><span class="line">    <span class="type">int</span> first=Integer.valueOf(slow.charAt(<span class="number">0</span>))-<span class="string">&#x27;0&#x27;</span>-<span class="number">1</span>;</span><br><span class="line">    List&lt;Integer&gt; res=<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    <span class="type">int</span> start=first,len=slen;</span><br><span class="line">    <span class="keyword">if</span>(first+len&gt;<span class="number">9</span>)&#123;</span><br><span class="line">        start=<span class="number">0</span>;</span><br><span class="line">        len++;</span><br><span class="line">    &#125;</span><br><span class="line">    sequentialDigits(low,high,start,len,res);</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> String str=<span class="string">&quot;123456789&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">sequentialDigits</span><span class="params">(<span class="type">int</span> low,<span class="type">int</span> high,<span class="type">int</span> start,<span class="type">int</span> len,List&lt;Integer&gt; list)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span>(start+len&gt;<span class="number">9</span>) <span class="keyword">return</span>;</span><br><span class="line">    <span class="type">int</span> cur=Integer.valueOf(str.substring(start,start+len));</span><br><span class="line">    <span class="keyword">if</span>(cur&gt;high)&#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(cur&gt;=low)&#123;</span><br><span class="line">        list.add(cur);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(start+len==<span class="number">9</span>)&#123;</span><br><span class="line">        sequentialDigits(low,high,<span class="number">0</span>,len+<span class="number">1</span>,list);    </span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        sequentialDigits(low,high,start+<span class="number">1</span>,len,list);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å…¶å®ç›´æ¥æš´åŠ›æšä¸¾<code>1~9</code>çš„æ‰€æœ‰é¡ºåºç»„åˆç„¶ååˆ¤æ–­åœ¨ä¸åœ¨<code>low~high</code> ä¹‹é—´å°± ok äº†ï¼Œæœ€å†æ’ä¸ªåºå°± okï¼Œä¸€å…±ä¹Ÿåªæœ‰ 36 ä¸ªï¼Œä¸ªäººæ„Ÿè§‰æˆ‘ä¸Šé¢çš„è¿˜æ˜¯æ¯”å•çº¯çš„æš´åŠ›ä¼šå¥½ä¸€ç‚¹ï¼Œé¦–å…ˆä¸ç”¨æ’åºï¼Œå…¶æ¬¡ä¹Ÿä¸ä¼šä»å¤´å¼€å§‹éå†ï¼Œä¼šæ ¹æ® low çš„å€¼æ¥é€‰å–ä»å“ªé‡Œå¼€å§‹æˆªå–ï¼Œä½†æ˜¯è¿™é¢˜æ•°æ®é‡æœ‰é™ï¼Œä½“ç°ä¸å‡ºæ¥å·®å¼‚</p>
<h2 id="22-æ‹¬å·ç”Ÿæˆ"><a href="#22-æ‹¬å·ç”Ÿæˆ" class="headerlink" title="22. æ‹¬å·ç”Ÿæˆ"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/generate-parentheses/">22. æ‹¬å·ç”Ÿæˆ</a></h2><p>ç»™å‡º n ä»£è¡¨ç”Ÿæˆæ‹¬å·çš„å¯¹æ•°ï¼Œè¯·ä½ å†™å‡ºä¸€ä¸ªå‡½æ•°ï¼Œä½¿å…¶èƒ½å¤Ÿç”Ÿæˆæ‰€æœ‰å¯èƒ½çš„å¹¶ä¸”æœ‰æ•ˆçš„æ‹¬å·ç»„åˆã€‚</p>
<p>ä¾‹å¦‚ï¼Œç»™å‡º <code>n = 3</code>ï¼Œç”Ÿæˆç»“æœä¸ºï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">[</span><br><span class="line">  <span class="string">&quot;((()))&quot;</span>,</span><br><span class="line">  <span class="string">&quot;(()())&quot;</span>,</span><br><span class="line">  <span class="string">&quot;(())()&quot;</span>,</span><br><span class="line">  <span class="string">&quot;()(())&quot;</span>,</span><br><span class="line">  <span class="string">&quot;()()()&quot;</span></span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•ä¸€</strong></p>
<p>å“ï¼ŒçŸ¥é“æ˜¯å›æº¯è¿˜æ˜¯æ²¡åšå‡ºæ¥ï¼Œè¿˜æ˜¯å¤ªèœäº†å•Š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;String&gt; <span class="title function_">generateParenthesis</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">    dfs(n,<span class="string">&quot;&quot;</span>,<span class="number">0</span>,<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> List&lt;String&gt; res=<span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span> n,String sb,<span class="type">int</span> left,<span class="type">int</span> right)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (left&gt;n <span class="comment">/*|| right&gt;n*/</span> || right&gt;left) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (left==n &amp;&amp; right ==n) &#123;</span><br><span class="line">        res.add(sb.toString());   </span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    dfs(n,sb+<span class="string">&quot;(&quot;</span>,left+<span class="number">1</span>,right);</span><br><span class="line">    dfs(n,sb+<span class="string">&quot;)&quot;</span>,left,right+<span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å…³é”®è¿˜æ˜¯æ²¡æƒ³æ˜ç™½è¿™é¢˜çš„é€’å½’æ¡ä»¶ï¼Œæˆ‘çŸ¥é“æ˜¯å…ˆç”Ÿæˆ â€œ(â€œ å†ç”Ÿæˆ â€œ)â€ ä½†æ˜¯ç»ˆæ­¢æ¡ä»¶ä¸€ç›´æ²¡æƒ³æ¸…æ¥šï¼Œå…¶å®æˆ‘ä»¬éœ€è¦ç»™å·¦å³æ‹¬å·åŠ ä¸€ä¸ªè®¡æ•°å™¨<code>left å’Œ right</code>ï¼Œç”¨æ¥è®°å½•å·²ç»ç”Ÿæˆçš„å·¦å³æ‹¬å·çš„æ•°é‡ï¼Œç„¶åæˆ‘ä»¬æ€è€ƒç»ˆæ­¢æ¡ä»¶æ˜¯å•¥ï¼Œé¦–å…ˆå¾ˆå®¹æ˜“æƒ³åˆ°çš„å°±æ˜¯å·¦å³æ‹¬å·æ•°é‡ <code>left==right</code> çš„æ—¶å€™ï¼Œè¿™æ˜¯åˆæ³•çš„ç»ˆæ­¢æ¡ä»¶ï¼Œä½†æ˜¯è¿™æ ·å°±å¤Ÿäº†ä¹ˆï¼Ÿå¾ˆæ˜æ˜¾ä¸å¤Ÿï¼Œ<code>()))((</code> ç±»ä¼¼è¿™æ ·çš„å°±å¹¶ä¸æ˜¯åˆæ³•çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿˜éœ€è¦ä¿è¯ç”Ÿæˆæ‹¬å·çš„åˆæ³•æ€§ï¼Œæ‰€ä»¥è¿™ç§æ—¶å€™è‹¥æ˜¯ä¸å¤ªæ¸…æ¥šçš„å°±å¯ä»¥æ¥ç”»ä¸€ç”»é€’å½’æ ‘</p>
<p><img src="http://static.imlgw.top/blog/20191024/9uvjEQzjtKtf.png?imageslim" alt="mark"></p>
<p>å›¾ç”»çš„æ¯”è¾ƒé­”æ€§ï¼Œä½†æ˜¯è¿˜æ˜¯å¾ˆå®¹æ˜“çœ‹æ‡‚çš„ï¼Œé€šè¿‡è¿™ä¸ªé€’å½’æ ‘æˆ‘è¿˜å‘ç°äº†ä¸Šé¢ä»£ç çš„ä¸€ç‚¹å°é—®é¢˜ï¼Œ<code>right&gt;n</code> æ˜¯ä¸ªå†—ä½™æ¡ä»¶ï¼Œåˆæ³•æ¡ä»¶ <code>right&lt; left &lt; n</code>ï¼Œright è‚¯å®šä¸ä¼šè¶…è¿‡ nï¼Œæ­£å¦‚ä¸Šé¢ä¸‰ä¸ªç”» âŒçš„åœ°æ–¹å°±æ˜¯å¯¹åº”çš„ä¸‰ä¸ªä¸åˆæ³•çš„ç»ˆæ­¢æ¡ä»¶ï¼Œæœ‰äº†è¿™ä¸ªå°±å¯ä»¥å¾ˆå®¹æ˜“çš„å†™å‡ºå›æº¯ä»£ç ï¼Œä¸‹é¢çš„æ˜¯ç”¨çš„<code>StringBuilder</code>çš„ï¼Œéœ€è¦å›æº¯å­—ç¬¦ä¸²ï¼Œæ›´ç¬¦åˆå›æº¯çš„æ€æƒ³ï¼Œä¸Šé¢çš„ String æ˜¯ä¸å¯å˜å¯¹è±¡ï¼Œæ‰€ä»¥ä¸éœ€è¦æ‰‹åŠ¨å›æº¯</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;String&gt; <span class="title function_">generateParenthesis</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">    dfs(n,<span class="keyword">new</span> <span class="title class_">StringBuilder</span>(),<span class="number">0</span>,<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> List&lt;String&gt; res=<span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span> n,StringBuilder sb,<span class="type">int</span> left,<span class="type">int</span> right)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (left&gt;n || right&gt;n || right&gt;left) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (left==n &amp;&amp; right ==n) &#123;</span><br><span class="line">        res.add(sb.toString());</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    dfs(n,sb.append(<span class="string">&quot;(&quot;</span>),left+<span class="number">1</span>,right);</span><br><span class="line">    sb.delete(sb.length()-<span class="number">1</span>,sb.length());</span><br><span class="line">    dfs(n,sb.append(<span class="string">&quot;)&quot;</span>),left,right+<span class="number">1</span>);</span><br><span class="line">    sb.delete(sb.length()-<span class="number">1</span>,sb.length());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="306-ç´¯åŠ æ•°"><a href="#306-ç´¯åŠ æ•°" class="headerlink" title="306. ç´¯åŠ æ•°"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/additive-number/">306. ç´¯åŠ æ•°</a></h2><p>ç´¯åŠ æ•°æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œç»„æˆå®ƒçš„æ•°å­—å¯ä»¥å½¢æˆç´¯åŠ åºåˆ—ã€‚</p>
<p>ä¸€ä¸ªæœ‰æ•ˆçš„ç´¯åŠ åºåˆ—å¿…é¡»<strong>è‡³å°‘</strong>åŒ…å« 3 ä¸ªæ•°ã€‚é™¤äº†æœ€å¼€å§‹çš„ä¸¤ä¸ªæ•°ä»¥å¤–ï¼Œå­—ç¬¦ä¸²ä¸­çš„å…¶ä»–æ•°éƒ½ç­‰äºå®ƒä¹‹å‰ä¸¤ä¸ªæ•°ç›¸åŠ çš„å’Œã€‚</p>
<p>ç»™å®šä¸€ä¸ªåªåŒ…å«æ•°å­— <code>&#39;0&#39;-&#39;9&#39;</code> çš„å­—ç¬¦ä¸²ï¼Œç¼–å†™ä¸€ä¸ªç®—æ³•æ¥åˆ¤æ–­ç»™å®šè¾“å…¥æ˜¯å¦æ˜¯ç´¯åŠ æ•°ã€‚</p>
<p><strong>è¯´æ˜ï¼š</strong> ç´¯åŠ åºåˆ—é‡Œçš„æ•°ä¸ä¼šä»¥ 0 å¼€å¤´ï¼Œæ‰€ä»¥ä¸ä¼šå‡ºç° <code>1, 2, 03</code> æˆ–è€… <code>1, 02, 3</code> çš„æƒ…å†µã€‚</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š<span class="string">&quot;112358&quot;</span></span><br><span class="line">è¾“å‡ºï¼š<span class="literal">true</span> </span><br><span class="line">è§£é‡Šï¼šç´¯åŠ åºåˆ—ä¸ºï¼š<span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">8</span> ã€‚<span class="number">1</span> + <span class="number">1</span> = <span class="number">2</span>, <span class="number">1</span> + <span class="number">2</span> = <span class="number">3</span>, <span class="number">2</span> + <span class="number">3</span> = <span class="number">5</span>, <span class="number">3</span> + <span class="number">5</span> = <span class="number">8</span></span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š<span class="string">&quot;199100199&quot;</span></span><br><span class="line">è¾“å‡ºï¼š<span class="literal">true</span> </span><br><span class="line">è§£é‡Šï¼šç´¯åŠ åºåˆ—ä¸ºï¼š<span class="number">1</span>, <span class="number">99</span>, <span class="number">100</span>, <span class="number">199</span>ã€‚<span class="number">1</span> + <span class="number">99</span> = <span class="number">100</span>, <span class="number">99</span> + <span class="number">100</span> = <span class="number">199</span></span><br></pre></td></tr></table></figure>

<p><strong>è¿›é˜¶ï¼š</strong></p>
<ul>
<li>ä½ å¦‚ä½•å¤„ç†ä¸€ä¸ªæº¢å‡ºçš„è¿‡å¤§çš„æ•´æ•°è¾“å…¥ï¼Ÿ</li>
</ul>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>åœ¨å›æº¯ä¸“é¢˜é‡Œç¿»åˆ°çš„ï¼Œè¯´å®è¯ï¼Œcase æœ‰ç‚¹æ¶å¿ƒ</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isAdditiveNumber</span><span class="params">(String num)</span> &#123;</span><br><span class="line">    LinkedList&lt;String&gt; list=<span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    list.add(<span class="string">&quot;-1&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> dfs(num,<span class="number">0</span>,list);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">dfs</span><span class="params">(String num,<span class="type">int</span> index,List&lt;String&gt; list)</span> &#123;</span><br><span class="line">    <span class="comment">//System.out.println(list);</span></span><br><span class="line">    <span class="keyword">if</span> (index==num.length() &amp;&amp; list.size()&gt;<span class="number">4</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=index+<span class="number">1</span>;i&lt;=num.length();i++)&#123;</span><br><span class="line">        <span class="comment">//0 å¼€å¤´åº”è¯¥ç›´æ¥ break, é™¤éæ˜¯å•ç‹¬çš„ 0....</span></span><br><span class="line">        <span class="keyword">if</span> (num.charAt(index)==<span class="string">&#x27;0&#x27;</span> &amp;&amp; i&gt;index+<span class="number">1</span>) &#123; <span class="comment">//&quot;101&quot; .....</span></span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//å‰ªæ</span></span><br><span class="line">        <span class="keyword">if</span> (i-index&gt;num.length()/<span class="number">2</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        String sub=num.substring(index,i);</span><br><span class="line">        String a=list.get(list.size()-<span class="number">1</span>);</span><br><span class="line">        String b=list.get(list.size()-<span class="number">2</span>);</span><br><span class="line">        list.add(sub);</span><br><span class="line">        <span class="keyword">if</span> ((<span class="string">&quot;-1&quot;</span>.equals(a)||<span class="string">&quot;-1&quot;</span>.equals(b) || addTwoStr(a,b).equals(sub)) &amp;&amp; dfs(num,i,list)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        list.remove(list.size()-<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å¤§æ•°ç›¸åŠ </span></span><br><span class="line"><span class="keyword">private</span> String <span class="title function_">addTwoStr</span><span class="params">(String a,String b)</span>&#123;</span><br><span class="line">    StringBuilder res=<span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">    <span class="type">int</span> aIdx=a.length()-<span class="number">1</span>;</span><br><span class="line">    <span class="type">int</span> bIdx=b.length()-<span class="number">1</span>;</span><br><span class="line">    <span class="type">int</span> temp=<span class="number">0</span>; <span class="comment">//è¿›ä½</span></span><br><span class="line">    <span class="keyword">while</span>(aIdx&gt;=<span class="number">0</span> || bIdx&gt;=<span class="number">0</span>) &#123;</span><br><span class="line">        <span class="type">int</span> as=aIdx&gt;=<span class="number">0</span>?a.charAt(aIdx)-<span class="number">48</span>:<span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> bs=bIdx&gt;=<span class="number">0</span>?b.charAt(bIdx)-<span class="number">48</span>:<span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> sum=as+bs+temp;</span><br><span class="line">        temp=(sum)/<span class="number">10</span>;</span><br><span class="line">        res.append(sum%<span class="number">10</span>);</span><br><span class="line">        aIdx--;bIdx--;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (temp==<span class="number">1</span>) &#123;</span><br><span class="line">        res.append(<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res.reverse().toString();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å›æº¯ä¸éš¾æƒ³åˆ°ï¼Œè¿™ä¸€ç±»å›æº¯å’‹è¯´å‘¢ï¼Œå±äº â€œä¸€é•œåˆ°åº•â€ çš„é‚£ç§ï¼Œå¯ä»¥çœ‹çœ‹è§£æ•°ç‹¬çš„å“ªä¸ªè§£æ³•ï¼Œä¹Ÿæ˜¯è¿™æ ·çš„ï¼ˆå…¶å®å°±æ˜¯å‚è€ƒçš„é‚£ä¸ªï¼‰å¸¦ä¸€ä¸ª boolean è¿”å›å€¼ï¼Œèµ°åˆ°ç»“å°¾èµ°ä¸é€šæ‰ä¼šå›æº¯ï¼ŒN çš‡åè¿™ç§å°±ä¸å¤ªä¸€æ ·ï¼Œä¸ç®¡æ˜¯å¦æˆåŠŸéƒ½ä¼šå›æº¯ï¼Œåæ­£ç›®å‰å¤§è‡´çš„æ„Ÿè§‰å°±æ˜¯è¿™æ ·ï¼Œåé¢é‡åˆ°æ›´å¤šé¢˜å‹å†æ¥æ€»ç»“</p>
<p>ä¸è¿‡æ„Ÿè§‰è¿™é¢˜çš„å…³é”®ä¸æ˜¯å›æº¯ï¼Œè€Œæ˜¯è¾¹ç•Œçš„å¤„ç†ï¼Œé¦–å…ˆæ˜¯æº¢å‡ºçš„é—®é¢˜ï¼Œæˆ‘çœ‹è§æœ‰è¿›é˜¶çš„å°±æ²¡è€ƒè™‘æº¢å‡ºï¼Œç»“æœè¿˜æ˜¯æº¢å‡ºäº†ï¼Œè€Œä¸”æº¢å‡ºäº†ä¸¤æ¬¡ï¼ï¼ï¼æœ€åæ²¡åŠæ³•ï¼Œä¹Ÿä¸æƒ³ç”¨<code>BigInteger</code>å°±è‡ªå·±å†™äº†å¤§æ•°ç›¸åŠ çš„é€»è¾‘</p>
<p>é™¤äº†æº¢å‡ºçš„é—®é¢˜ï¼Œè¿™é¢˜éœ€è¦æ³¨æ„ <code>0 </code> åœ¨è¿™ä¸ª<code>0</code> ä¸Šä¹Ÿ WA äº†ä¸€å‘ï¼Œå› ä¸ºå›æº¯è¿˜æ˜¯åœ¨åˆ†å‰²å­—ç¬¦ä¸²ï¼Œä½†æ˜¯å¦‚æœæœ‰ 0 çš„è¯å°±ä¸èƒ½éšä¾¿çš„åˆ†å‰²äº†ï¼Œå…·ä½“çœ‹ä»£ç å°±æ‡‚äº†</p>
<h2 id="842-å°†æ•°ç»„æ‹†åˆ†æˆæ–æ³¢é‚£å¥‘åºåˆ—"><a href="#842-å°†æ•°ç»„æ‹†åˆ†æˆæ–æ³¢é‚£å¥‘åºåˆ—" class="headerlink" title="842. å°†æ•°ç»„æ‹†åˆ†æˆæ–æ³¢é‚£å¥‘åºåˆ—"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/split-array-into-fibonacci-sequence/">842. å°†æ•°ç»„æ‹†åˆ†æˆæ–æ³¢é‚£å¥‘åºåˆ—</a></h2><p>ç»™å®šä¸€ä¸ªæ•°å­—å­—ç¬¦ä¸² Sï¼Œæ¯”å¦‚ S = â€œ123456579â€ï¼Œæˆ‘ä»¬å¯ä»¥å°†å®ƒåˆ†æˆæ–æ³¢é‚£å¥‘å¼çš„åºåˆ— [123, 456, 579]ã€‚</p>
<p>å½¢å¼ä¸Šï¼Œæ–æ³¢é‚£å¥‘å¼åºåˆ—æ˜¯ä¸€ä¸ªéè´Ÿæ•´æ•°åˆ—è¡¨ Fï¼Œä¸”æ»¡è¶³ï¼š</p>
<ul>
<li>0 &lt;= F[i] &lt;= 2^31 - 1ï¼Œï¼ˆä¹Ÿå°±æ˜¯è¯´ï¼Œæ¯ä¸ªæ•´æ•°éƒ½ç¬¦åˆ 32 ä½æœ‰ç¬¦å·æ•´æ•°ç±»å‹ï¼‰ï¼›</li>
<li>F.length &gt;= 3ï¼›</li>
<li>å¯¹äºæ‰€æœ‰çš„ 0 &lt;= i &lt; F.length - 2ï¼Œéƒ½æœ‰ <code>F[i] + F[i+1] = F[i+2]</code> æˆç«‹ã€‚</li>
</ul>
<p>å¦å¤–ï¼Œè¯·æ³¨æ„ï¼Œå°†å­—ç¬¦ä¸²æ‹†åˆ†æˆå°å—æ—¶ï¼Œæ¯ä¸ªå—çš„æ•°å­—ä¸€å®šä¸è¦ä»¥é›¶å¼€å¤´ï¼Œé™¤éè¿™ä¸ªå—æ˜¯æ•°å­— 0 æœ¬èº«ã€‚</p>
<p>è¿”å›ä» S æ‹†åˆ†å‡ºæ¥çš„æ‰€æœ‰æ–æ³¢é‚£å¥‘å¼çš„åºåˆ—å—ï¼Œå¦‚æœä¸èƒ½æ‹†åˆ†åˆ™è¿”å› <code>[]</code>ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š<span class="string">&quot;123456579&quot;</span></span><br><span class="line">è¾“å‡ºï¼š[<span class="number">123</span>,<span class="number">456</span>,<span class="number">579</span>]</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š<span class="string">&quot;11235813&quot;</span></span><br><span class="line">è¾“å‡ºï¼š[<span class="number">1</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">8</span>,<span class="number">13</span>]</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š&quot;112358130&quot;</span><br><span class="line">è¾“å‡ºï¼š[]</span><br><span class="line">è§£é‡Šï¼šè¿™é¡¹ä»»åŠ¡æ— æ³•å®Œæˆã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 4ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š<span class="string">&quot;0123&quot;</span></span><br><span class="line">è¾“å‡ºï¼š[]</span><br><span class="line">è§£é‡Šï¼šæ¯ä¸ªå—çš„æ•°å­—ä¸èƒ½ä»¥é›¶å¼€å¤´ï¼Œå› æ­¤ <span class="string">&quot;01&quot;</span>ï¼Œ<span class="string">&quot;2&quot;</span>ï¼Œ<span class="string">&quot;3&quot;</span> ä¸æ˜¯æœ‰æ•ˆç­”æ¡ˆã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 5ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š<span class="string">&quot;1101111&quot;</span></span><br><span class="line">è¾“å‡ºï¼š[<span class="number">110</span>, <span class="number">1</span>, <span class="number">111</span>]</span><br><span class="line">è§£é‡Šï¼šè¾“å‡º [<span class="number">11</span>,<span class="number">0</span>,<span class="number">11</span>,<span class="number">11</span>] ä¹ŸåŒæ ·è¢«æ¥å—ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= S.length &lt;= 200</code></li>
<li>å­—ç¬¦ä¸² S ä¸­åªå«æœ‰æ•°å­—ã€‚</li>
</ul>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>å’Œä¸Šé¢é‚£é¢˜ä¸€æ ·ï¼Œä½†æ˜¯è¿™é¢˜ä¼šç®€å•ä¸€ç‚¹ï¼Œä¸ç”¨å¤„ç†å¤§æ•°ç›¸åŠ çš„æƒ…å†µï¼ŒåŒæ—¶é™å®šäº†æ•°å­—çš„èŒƒå›´å°±æ˜¯ 32 ä½ intï¼Œæ‰€ä»¥åªè¦èŒƒå›´è¶…è¿‡äº† int32 å°±ç›´æ¥ break</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title function_">splitIntoFibonacci</span><span class="params">(String S)</span> &#123;</span><br><span class="line">    LinkedList&lt;Integer&gt; res=<span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    dfs(S,<span class="number">0</span>,res);</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">dfs</span><span class="params">(String S,<span class="type">int</span> index,List&lt;Integer&gt; lis)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (index == S.length()) &#123;</span><br><span class="line">        <span class="keyword">return</span> lis.size()&gt;<span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=index+<span class="number">1</span>;i&lt;=S.length();i++) &#123;</span><br><span class="line">        String temp=S.substring(index,i);</span><br><span class="line">        <span class="comment">//é•¿åº¦å¤§äº 10, æˆ–è€… Long è§£æå‡ºæ¥å¤§äº INT_MAX äº†å°±ç›´æ¥ break</span></span><br><span class="line">        <span class="keyword">if</span> (S.charAt(index) == <span class="string">&#x27;0&#x27;</span> &amp;&amp; i&gt;index+<span class="number">1</span> || temp.length()&gt;<span class="number">10</span> || Long.valueOf(temp)&gt;Integer.MAX_VALUE) &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> str=Integer.valueOf(temp);</span><br><span class="line">        <span class="type">int</span> one=lis.size()&gt;=<span class="number">2</span> ? lis.get(lis.size()-<span class="number">1</span>):-<span class="number">1</span>;</span><br><span class="line">        <span class="type">int</span> two=lis.size()&gt;=<span class="number">2</span> ? lis.get(lis.size()-<span class="number">2</span>):-<span class="number">1</span>;</span><br><span class="line">        lis.add(str);</span><br><span class="line">        <span class="keyword">if</span> ((one==-<span class="number">1</span> || two==-<span class="number">1</span> || one+two==str) &amp;&amp; dfs(S,i,lis)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        lis.remove(lis.size()-<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="139-å•è¯æ‹†åˆ†"><a href="#139-å•è¯æ‹†åˆ†" class="headerlink" title="139. å•è¯æ‹†åˆ†"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/word-break/">139. å•è¯æ‹†åˆ†</a></h2><p>ç»™å®šä¸€ä¸ªéç©ºå­—ç¬¦ä¸² s å’Œä¸€ä¸ªåŒ…å«éç©ºå•è¯åˆ—è¡¨çš„å­—å…¸ wordDictï¼Œåˆ¤å®š s æ˜¯å¦å¯ä»¥è¢«ç©ºæ ¼æ‹†åˆ†ä¸ºä¸€ä¸ªæˆ–å¤šä¸ªåœ¨å­—å…¸ä¸­å‡ºç°çš„å•è¯ã€‚</p>
<p><strong>è¯´æ˜ï¼š</strong></p>
<ul>
<li>æ‹†åˆ†æ—¶å¯ä»¥é‡å¤ä½¿ç”¨å­—å…¸ä¸­çš„å•è¯ã€‚</li>
<li>ä½ å¯ä»¥å‡è®¾å­—å…¸ä¸­æ²¡æœ‰é‡å¤çš„å•è¯ã€‚</li>
</ul>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = <span class="string">&quot;leetcode&quot;</span>, wordDict = [<span class="string">&quot;leet&quot;</span>, <span class="string">&quot;code&quot;</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="literal">true</span></span><br><span class="line">è§£é‡Šï¼šè¿”å› <span class="literal">true</span> å› ä¸º <span class="string">&quot;leetcode&quot;</span> å¯ä»¥è¢«æ‹†åˆ†æˆ <span class="string">&quot;leet code&quot;</span>ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = <span class="string">&quot;applepenapple&quot;</span>, wordDict = [<span class="string">&quot;apple&quot;</span>, <span class="string">&quot;pen&quot;</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="literal">true</span></span><br><span class="line">è§£é‡Šï¼šè¿”å› <span class="literal">true</span> å› ä¸º <span class="string">&quot;applepenapple&quot;</span> å¯ä»¥è¢«æ‹†åˆ†æˆ <span class="string">&quot;apple pen apple&quot;</span>ã€‚</span><br><span class="line">     æ³¨æ„ä½ å¯ä»¥é‡å¤ä½¿ç”¨å­—å…¸ä¸­çš„å•è¯ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = <span class="string">&quot;catsandog&quot;</span>, wordDict = [<span class="string">&quot;cats&quot;</span>, <span class="string">&quot;dog&quot;</span>, <span class="string">&quot;sand&quot;</span>, <span class="string">&quot;and&quot;</span>, <span class="string">&quot;cat&quot;</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="literal">false</span></span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•ä¸€</strong></p>
<p>å›æº¯ DFS+è®°å¿†åŒ–</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Boolean[] cache=<span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">wordBreak</span><span class="params">(String s, List&lt;String&gt; wordDict)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (s==<span class="literal">null</span> || s.length()&lt;=<span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    cache=<span class="keyword">new</span> <span class="title class_">Boolean</span>[s.length()];</span><br><span class="line">    HashSet&lt;String&gt; set=<span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;(wordDict);</span><br><span class="line">    <span class="keyword">return</span> dfs(s,set,<span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ¤æ–­ã€index,s.lenã€‘ä¸­çš„å­—ç¬¦æ˜¯å¦èƒ½æ‹†åˆ†</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">dfs</span><span class="params">(String s, HashSet&lt;String&gt; dict,<span class="type">int</span> index)</span> &#123;</span><br><span class="line">    <span class="comment">//è¿™é‡Œçš„ç»ˆæ­¢æ¡ä»¶è¿˜æ˜¯æœ‰ç‚¹è¿·æƒ‘çš„ï¼Œè¿™é‡Œ index åªæœ‰åœ¨å­—å…¸ä¸­å­˜åœ¨å½“å‰å…ƒç´ çš„æ—¶å€™æ‰ä¼šå‘åç§»åŠ¨</span></span><br><span class="line">    <span class="comment">//æ‰€ä»¥å½“ index ç§»åŠ¨åˆ° s==length çš„æ˜¯å¶å°±è¯´æ˜å‰é¢çš„å•è¯éƒ½åŒ¹é…ä¸Šäº†</span></span><br><span class="line">    <span class="keyword">if</span> (index==s.length()) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (cache[index]!=<span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> cache[index];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=index+<span class="number">1</span>;i&lt;=s.length();i++) &#123;</span><br><span class="line">        <span class="comment">//System.out.println(s.substring(index,i));</span></span><br><span class="line">        <span class="keyword">if</span> (dict.contains(s.substring(index,i)) &amp;&amp; dfs(s,dict,i))&#123;</span><br><span class="line">            <span class="keyword">return</span> cache[index]=<span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> cache[index]=<span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¾ˆä¹…ä¹‹å‰åšçš„é¢˜ç›®ï¼Œåœ¨åšè¿™é¢˜è¿›é˜¶ç‰ˆçš„æ—¶å€™å‘ç°è¿™ä¸€é¢˜åšäº†ä½†æ˜¯æ²¡æœ‰è®°å½•ã€‚å¯èƒ½æ˜¯å¿˜äº†</p>
<p>è¿™é‡Œå›æº¯è®°å¿†åŒ–æ²¡å•¥å¥½è¯´çš„ï¼Œä¹Ÿæ˜¯å±äºé‚£ç§ â€œä¸€é•œåˆ°åº•â€ ç±»å‹çš„</p>
<p><strong>è§£æ³•äºŒ</strong></p>
<p>BFS</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//BFS, éœ€è¦ä¸€ä¸ª visit ä¿è¯ä¸ä¼šé‡å¤è®¿é—®</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">wordBreak</span><span class="params">(String s, List&lt;String&gt; wordDict)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (s==<span class="literal">null</span> || s.length()&lt;=<span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    HashSet&lt;String&gt; dict=<span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;(wordDict);</span><br><span class="line">    <span class="comment">//queue ä¸­å­˜ index</span></span><br><span class="line">    LinkedList&lt;Integer&gt; queue=<span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    <span class="type">boolean</span>[] visit=<span class="keyword">new</span> <span class="title class_">boolean</span>[s.length()];</span><br><span class="line">    queue.add(<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">while</span>(!queue.isEmpty())&#123;</span><br><span class="line">        <span class="type">int</span> index=queue.poll();</span><br><span class="line">        <span class="keyword">if</span> (!visit[index]) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> i=index+<span class="number">1</span>;i&lt;=s.length();i++) &#123;</span><br><span class="line">                <span class="keyword">if</span>(dict.contains(s.substring(index,i)))&#123;</span><br><span class="line">                    <span class="keyword">if</span> (i==s.length()) &#123;</span><br><span class="line">                        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    queue.add(i);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            visit[index]=<span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è‡ªå·±å†™çš„å±…ç„¶ä¸€ç‚¹å°è±¡éƒ½æ²¡æœ‰ï¼ŒBFS æ„Ÿè§‰ä¹Ÿæ²¡å•¥å¥½è¯´çš„</p>
<p><strong>è§£æ³•ä¸‰</strong></p>
<p>åŠ¨æ€è§„åˆ’ï¼Œè¿™ä¸ªå½“æ—¶æ²¡æœ‰å†™å‡ºæ¥ï¼Œä»Šå¤©é‡æ–°çœ‹çš„æ—¶å€™å‘ç°æœ‰ dp çš„ tag å°±å†™äº†ä¸€ä¸‹ï¼Œè¿˜æ˜¯æŒºç®€å•çš„</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">wordBreak</span><span class="params">(String s, List&lt;String&gt; wordDict)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (s==<span class="literal">null</span> || s.length()&lt;=<span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    HashSet&lt;String&gt; dict=<span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;(wordDict);</span><br><span class="line">    <span class="type">boolean</span>[] dp=<span class="keyword">new</span> <span class="title class_">boolean</span>[s.length()+<span class="number">1</span>];</span><br><span class="line">    dp[<span class="number">0</span>]=<span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">1</span>;i&lt;=s.length();i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j=<span class="number">0</span>;j&lt;=i;j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (dp[j] &amp;&amp; dict.contains(s.substring(j,i))) &#123;</span><br><span class="line">               dp[i]=<span class="literal">true</span>; <span class="comment">//ç›¸æ¯”ä¸Šé¢çš„å¯ä»¥ break</span></span><br><span class="line">               <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[s.length()];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="140-å•è¯æ‹†åˆ†-II"><a href="#140-å•è¯æ‹†åˆ†-II" class="headerlink" title="140. å•è¯æ‹†åˆ† II"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/word-break-ii/">140. å•è¯æ‹†åˆ† II</a></h2><p>ç»™å®šä¸€ä¸ª<strong>éç©º</strong>å­—ç¬¦ä¸² s å’Œä¸€ä¸ªåŒ…å«éç©ºå•è¯åˆ—è¡¨çš„å­—å…¸ wordDictï¼Œåœ¨å­—ç¬¦ä¸²ä¸­å¢åŠ ç©ºæ ¼æ¥æ„å»ºä¸€ä¸ªå¥å­ï¼Œä½¿å¾—å¥å­ä¸­æ‰€æœ‰çš„å•è¯éƒ½åœ¨è¯å…¸ä¸­ã€‚è¿”å›æ‰€æœ‰è¿™äº›å¯èƒ½çš„å¥å­ã€‚</p>
<p><strong>è¯´æ˜ï¼š</strong></p>
<ul>
<li>åˆ†éš”æ—¶å¯ä»¥é‡å¤ä½¿ç”¨å­—å…¸ä¸­çš„å•è¯ã€‚</li>
<li>ä½ å¯ä»¥å‡è®¾å­—å…¸ä¸­æ²¡æœ‰é‡å¤çš„å•è¯ã€‚</li>
</ul>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š</span><br><span class="line">s = <span class="string">&quot;catsanddog&quot;</span></span><br><span class="line">wordDict = [<span class="string">&quot;cat&quot;</span>, <span class="string">&quot;cats&quot;</span>, <span class="string">&quot;and&quot;</span>, <span class="string">&quot;sand&quot;</span>, <span class="string">&quot;dog&quot;</span>]</span><br><span class="line">è¾“å‡ºï¼š</span><br><span class="line">[</span><br><span class="line">  <span class="string">&quot;cats and dog&quot;</span>,</span><br><span class="line">  <span class="string">&quot;cat sand dog&quot;</span></span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š</span><br><span class="line">s = <span class="string">&quot;pineapplepenapple&quot;</span></span><br><span class="line">wordDict = [<span class="string">&quot;apple&quot;</span>, <span class="string">&quot;pen&quot;</span>, <span class="string">&quot;applepen&quot;</span>, <span class="string">&quot;pine&quot;</span>, <span class="string">&quot;pineapple&quot;</span>]</span><br><span class="line">è¾“å‡ºï¼š</span><br><span class="line">[</span><br><span class="line">  <span class="string">&quot;pine apple pen apple&quot;</span>,</span><br><span class="line">  <span class="string">&quot;pineapple pen apple&quot;</span>,</span><br><span class="line">  <span class="string">&quot;pine applepen apple&quot;</span></span><br><span class="line">]</span><br><span class="line">è§£é‡Šï¼šæ³¨æ„ä½ å¯ä»¥é‡å¤ä½¿ç”¨å­—å…¸ä¸­çš„å•è¯ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š</span><br><span class="line">s = <span class="string">&quot;catsandog&quot;</span></span><br><span class="line">wordDict = [<span class="string">&quot;cats&quot;</span>, <span class="string">&quot;dog&quot;</span>, <span class="string">&quot;sand&quot;</span>, <span class="string">&quot;and&quot;</span>, <span class="string">&quot;cat&quot;</span>]</span><br><span class="line">è¾“å‡ºï¼š</span><br><span class="line">[]</span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•ä¸€</strong></p>
<p>è¿™é¢˜è¦æ±‚å‡ºæ‰€æœ‰çš„åºåˆ—ï¼Œæ‰€ä»¥ dp è‚¯å®šæ˜¯ä¸å¥½æ•´äº†ï¼Œç›´æ¥ä¸Šå›æº¯</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;String&gt; <span class="title function_">wordBreak</span><span class="params">(String s, List&lt;String&gt; wordDict)</span> &#123;</span><br><span class="line">    HashSet&lt;String&gt; dict=<span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;(wordDict);</span><br><span class="line">    dfs(s,<span class="number">0</span>,<span class="string">&quot;&quot;</span>,dict);</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> List&lt;String&gt; res=<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">dfs</span><span class="params">(String s,<span class="type">int</span> index,String word,HashSet&lt;String&gt; dict)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (index==s.length()) &#123;</span><br><span class="line">        res.add(word.substring(<span class="number">0</span>,word.length()-<span class="number">1</span>));</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=index+<span class="number">1</span>;i&lt;=s.length();i++) &#123;</span><br><span class="line">        String str=s.substring(index,i);</span><br><span class="line">        <span class="keyword">if</span> (dict.contains(str)) &#123;</span><br><span class="line">            <span class="comment">//word.append(str+&quot; &quot;); // app#pa# </span></span><br><span class="line">            dfs(s,i,word+str+<span class="string">&quot; &quot;</span>,dict);</span><br><span class="line">            <span class="comment">//word.delete(word.length()-(i-),i);</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¾ˆå¯æƒœï¼Œè¶…æ—¶äº†ï¼Œå¡åœ¨äº† aaaaaaaaâ€¦. é‚£ä¸ª case ä¸Šï¼Œç¿»äº†è¯„è®ºåŒºï¼Œå‘ç°å¾ˆå¤šäººå€Ÿç”¨äº†ä¸Šä¸€é¢˜çš„è§£æ³•ï¼Œå…ˆå¯¹æ•´ä¸ª s åšå¯è¡Œæ€§åˆ†æï¼Œä¹Ÿå°±æ˜¯çœ‹èƒ½ä¸èƒ½æ‹†åˆ†ï¼Œèƒ½æ‹†åˆ†ç„¶åå†è¿›è¡Œå›æº¯ï¼Œè¿™æ ·å°±åˆšå¥½è·³è¿‡äº†é‚£ä¸ª caseï¼Œå¥½åƒç¡®å®æ˜¯å¯ä»¥è¿‡ï¼Œä½†æ˜¯æˆ‘æ„Ÿè§‰æœ‰ç‚¹é¢å‘ case ç¼–ç¨‹äº†ã€‚</p>
<p><strong>è§£æ³•äºŒ</strong></p>
<p>è®°å¿†åŒ–å›æº¯ï¼Œä¸Šé¢çš„è¿‡ç¨‹åˆ†æä¸€ä¸‹ä¼šå‘ç°å…¶å®æœ‰å¾ˆå¤šçš„é‡å¤è®¡ç®—ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥æœ‰é’ˆå¯¹æ€§çš„åšè®°å¿†åŒ–ï¼ŒåŠ å¿«æœç´¢é€Ÿåº¦</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//åšè®°å¿†åŒ–</span></span><br><span class="line">HashMap&lt;String,List&lt;String&gt;&gt; cache=<span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> List&lt;String&gt; <span class="title function_">wordBreak</span><span class="params">(String s, List&lt;String&gt; wordDict)</span> &#123;</span><br><span class="line">    HashSet&lt;String&gt; dict=<span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;(wordDict);</span><br><span class="line">    <span class="keyword">return</span> dfs(s,dict);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> List&lt;String&gt; <span class="title function_">dfs</span><span class="params">(String s,HashSet&lt;String&gt; dict)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (cache.containsKey(s)) &#123;</span><br><span class="line">        <span class="keyword">return</span> cache.get(s);</span><br><span class="line">    &#125;</span><br><span class="line">    List&lt;String&gt; res=<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span> (s.length()==<span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>;i&lt;=s.length();i++) &#123;</span><br><span class="line">        String word=s.substring(<span class="number">0</span>,i);</span><br><span class="line">        <span class="keyword">if</span> (dict.contains(word)) &#123;</span><br><span class="line">            <span class="keyword">if</span> (i==s.length()) &#123;</span><br><span class="line">                res.add(word);</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="comment">//å‰©ä½™å­—ç¬¦</span></span><br><span class="line">                List&lt;String&gt; temp=dfs(s.substring(i,s.length()),dict);</span><br><span class="line">                <span class="keyword">for</span> (String tmp:temp) &#123;</span><br><span class="line">                    res.add(word+<span class="string">&quot; &quot;</span>+tmp);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cache.put(s,res);</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å…¶å®æˆ‘è¿™é‡Œä¹Ÿæ˜¯å‚è€ƒäº†è¯„è®ºåŒºçš„è§£æ³•ï¼Œæˆ‘ä¸Šé¢çš„é‚£ç§å›æº¯çš„æ–¹å¼è¦æ”¹æˆè®°å¿†åŒ–æœ‰ç‚¹ä¸å¥½æï¼Œæœ‰ä¸¤ä¸ªå˜é‡ï¼Œå¦å¤–æˆ‘æ„Ÿè§‰è¿™ç§<strong>å›æº¯åˆ†å‰²</strong>çš„æ–¹å¼æ„Ÿè§‰æ›´åŠ çš„ç›´è§‚æ˜“æ‡‚ get</p>
<p><strong>UPDATE: 2020.7.8</strong></p>
<p>å¶ç„¶çœ‹åˆ°è¿™ä¸ªé¢˜ï¼Œé‡å†™äº†ä¸€ä¸‹ï¼Œç›´æ¥è®°å¿†åŒ–</p>
<figure class="highlight golang"><table><tr><td class="code"><pre><span class="line"><span class="comment">//è®°å¿†åŒ–é€’å½’</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">wordBreak</span><span class="params">(s <span class="type">string</span>, wordDict []<span class="type">string</span>)</span></span> []<span class="type">string</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> set = <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">string</span>]<span class="type">bool</span>)</span><br><span class="line">    <span class="keyword">var</span> cache = <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">string</span>][]<span class="type">string</span>)</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(wordDict); i++ &#123;</span><br><span class="line">        set[wordDict[i]] = <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dfs(s, set, cache)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">dfs</span><span class="params">(s <span class="type">string</span>, set <span class="keyword">map</span>[<span class="type">string</span>]<span class="type">bool</span>, cache <span class="keyword">map</span>[<span class="type">string</span>][]<span class="type">string</span>)</span></span> []<span class="type">string</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> _, ok := cache[s]; ok &#123;</span><br><span class="line">        <span class="keyword">return</span> cache[s]</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> res []<span class="type">string</span></span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">1</span>; i &lt;= <span class="built_in">len</span>(s); i++ &#123;</span><br><span class="line">        <span class="keyword">if</span> set[s[:i]] &#123;</span><br><span class="line">            <span class="keyword">if</span> i == <span class="built_in">len</span>(s) &#123;</span><br><span class="line">                res = <span class="built_in">append</span>(res, s[:i])</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                temp := dfs(s[i:], set, cache)</span><br><span class="line">                <span class="keyword">for</span> _, w := <span class="keyword">range</span> temp &#123;</span><br><span class="line">                    res = <span class="built_in">append</span>(res, s[:i]+<span class="string">&quot; &quot;</span>+w)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cache[s] = res</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="473-ç«æŸ´æ‹¼æ­£æ–¹å½¢"><a href="#473-ç«æŸ´æ‹¼æ­£æ–¹å½¢" class="headerlink" title="473. ç«æŸ´æ‹¼æ­£æ–¹å½¢"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/matchsticks-to-square/">473. ç«æŸ´æ‹¼æ­£æ–¹å½¢</a></h2><p>è¿˜è®°å¾—ç«¥è¯ã€Šå–ç«æŸ´çš„å°å¥³å­©ã€‹å—ï¼Ÿç°åœ¨ï¼Œä½ çŸ¥é“å°å¥³å­©æœ‰å¤šå°‘æ ¹ç«æŸ´ï¼Œè¯·æ‰¾å‡ºä¸€ç§èƒ½ä½¿ç”¨æ‰€æœ‰ç«æŸ´æ‹¼æˆä¸€ä¸ªæ­£æ–¹å½¢çš„æ–¹æ³•ã€‚ä¸èƒ½æŠ˜æ–­ç«æŸ´ï¼Œå¯ä»¥æŠŠç«æŸ´è¿æ¥èµ·æ¥ï¼Œå¹¶ä¸”æ¯æ ¹ç«æŸ´éƒ½è¦ç”¨åˆ°ã€‚</p>
<p>è¾“å…¥ä¸ºå°å¥³å­©æ‹¥æœ‰ç«æŸ´çš„æ•°ç›®ï¼Œæ¯æ ¹ç«æŸ´ç”¨å…¶é•¿åº¦è¡¨ç¤ºã€‚è¾“å‡ºå³ä¸ºæ˜¯å¦èƒ½ç”¨æ‰€æœ‰çš„ç«æŸ´æ‹¼æˆæ­£æ–¹å½¢ã€‚</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š[<span class="number">1</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="literal">true</span></span><br><span class="line"></span><br><span class="line">è§£é‡Šï¼šèƒ½æ‹¼æˆä¸€ä¸ªè¾¹é•¿ä¸º <span class="number">2</span> çš„æ­£æ–¹å½¢ï¼Œæ¯è¾¹ä¸¤æ ¹ç«æŸ´ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š[<span class="number">3</span>,<span class="number">3</span>,<span class="number">3</span>,<span class="number">3</span>,<span class="number">4</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="literal">false</span></span><br><span class="line"></span><br><span class="line">è§£é‡Šï¼šä¸èƒ½ç”¨æ‰€æœ‰ç«æŸ´æ‹¼æˆä¸€ä¸ªæ­£æ–¹å½¢ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„ï¼š</strong></p>
<ol>
<li>ç»™å®šçš„ç«æŸ´é•¿åº¦å’Œåœ¨ <code>0</code> åˆ° <code>10^9</code>ä¹‹é—´ã€‚</li>
<li>ç«æŸ´æ•°ç»„çš„é•¿åº¦ä¸è¶…è¿‡ 15ã€‚</li>
</ol>
<p><strong>è§£æ³•ä¸€</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//ç­‰ä»·äºèƒ½å¦å°† nums åˆ†ä¸º 4 ç­‰åˆ†</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">makesquare</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span>(nums==<span class="literal">null</span> || nums.length&lt;<span class="number">4</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> N=nums.length;</span><br><span class="line">    <span class="type">int</span> sum=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;N;i++)&#123;</span><br><span class="line">        sum+=nums[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(sum%<span class="number">4</span>!=<span class="number">0</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="type">int</span>[] side=<span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">4</span>];</span><br><span class="line">    Arrays.sort(nums);</span><br><span class="line">    <span class="keyword">return</span> dfs(nums,N-<span class="number">1</span>,side,sum/<span class="number">4</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span>[] nums,<span class="type">int</span> index,<span class="type">int</span>[] side,<span class="type">int</span> avg)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(index==-<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;side.length;i++)&#123;</span><br><span class="line">        <span class="comment">//if(side[i]+nums[index]&lt;=avg)&#123;</span></span><br><span class="line">        <span class="type">int</span> rest=avg-side[i]-nums[index];</span><br><span class="line">        <span class="keyword">if</span>(rest==<span class="number">0</span> || rest&gt;=nums[<span class="number">0</span>])&#123; <span class="comment">//æ”¹è¿›å‰ªææ–¹å¼</span></span><br><span class="line">            side[i]+=nums[index];</span><br><span class="line">            <span class="keyword">if</span>(dfs(nums,index-<span class="number">1</span>,side,avg))&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            side[i]-=nums[index];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸€å¼€å§‹æ²¡æƒ³åˆ°åˆ†æ¡¶çš„åšæ³•ï¼Œåªæƒ³ç€è¿™ä¹ˆæœç´¢ 4 ç­‰åˆ†ï¼Œçœ‹äº†ä¸€çœ¼è¯„è®ºåŒºå°±æ˜ç™½äº†ï¼ŒæŠ½è±¡å‡º 4 æ¡è¾¹ï¼Œç„¶åéå†æ‰€æœ‰ç«æŸ´ï¼Œå°è¯•å°†ç«æŸ´æ”¾å…¥æ‰€æœ‰çš„ç›’å­ï¼Œçœ‹æœ‰æ²¡æœ‰ä¸€ç§å¯èƒ½æ˜¯ 4 ç­‰åˆ†çš„ï¼Œè¯´ç™½äº†å…¶å®å°±æ˜¯æš´åŠ›æœç´¢ï¼Œç„¶ååŠ ä¸Šä¸€ç‚¹å‰ªæä¼˜åŒ–ï¼Œè¿™é¢˜å°±ä¸ç»†è¯´äº†ï¼Œå…³é”®çœ‹ä¸‹é¢è¿™é¢˜</p>
<h2 id="698-åˆ’åˆ†ä¸º-k-ä¸ªç›¸ç­‰çš„å­é›†"><a href="#698-åˆ’åˆ†ä¸º-k-ä¸ªç›¸ç­‰çš„å­é›†" class="headerlink" title="698. åˆ’åˆ†ä¸º k ä¸ªç›¸ç­‰çš„å­é›†"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/partition-to-k-equal-sum-subsets/">698. åˆ’åˆ†ä¸º k ä¸ªç›¸ç­‰çš„å­é›†</a></h2><p>ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„  <code>nums</code> å’Œä¸€ä¸ªæ­£æ•´æ•° <code>k</code>ï¼Œæ‰¾å‡ºæ˜¯å¦æœ‰å¯èƒ½æŠŠè¿™ä¸ªæ•°ç»„åˆ†æˆ <code>k</code> ä¸ªéç©ºå­é›†ï¼Œå…¶æ€»å’Œéƒ½ç›¸ç­‰ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š nums = [<span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">2</span>, <span class="number">1</span>], k = <span class="number">4</span></span><br><span class="line">è¾“å‡ºï¼š True</span><br><span class="line">è¯´æ˜ï¼š æœ‰å¯èƒ½å°†å…¶åˆ†æˆ <span class="number">4</span> ä¸ªå­é›†ï¼ˆ<span class="number">5</span>ï¼‰ï¼Œï¼ˆ<span class="number">1</span>,<span class="number">4</span>ï¼‰ï¼Œï¼ˆ<span class="number">2</span>,<span class="number">3</span>ï¼‰ï¼Œï¼ˆ<span class="number">2</span>,<span class="number">3</span>ï¼‰ç­‰äºæ€»å’Œã€‚</span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„ï¼š</strong></p>
<ul>
<li><code>1 &lt;= k &lt;= len(nums) &lt;= 16</code></li>
<li><code>0 &lt; nums[i] &lt; 10000</code></li>
</ul>
<p><strong>è§£æ³•ä¸€</strong></p>
<p><a href="#473-%E7%81%AB%E6%9F%B4%E6%8B%BC%E6%AD%A3%E6%96%B9%E5%BD%A2">473. ç«æŸ´æ‹¼æ­£æ–¹å½¢</a>å…¶å®åªæ˜¯è¿™é“é¢˜çš„ä¸€ä¸ªå­é—®é¢˜ï¼Œå…³é”®ææ‡‚è¿™é¢˜å°±è¡Œäº†</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">canPartitionKSubsets</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> k)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span>(nums==<span class="literal">null</span> || nums.length&lt;=<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> sum=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;nums.length;i++)&#123;</span><br><span class="line">        sum+=nums[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(sum%k!=<span class="number">0</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    Arrays.sort(nums);</span><br><span class="line">    <span class="keyword">return</span> dfs(nums,nums.length-<span class="number">1</span>,<span class="keyword">new</span> <span class="title class_">int</span>[k],sum);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span>[] nums,<span class="type">int</span> index,<span class="type">int</span>[] bucket,<span class="type">int</span> sum)</span>&#123;</span><br><span class="line">    <span class="comment">//sum(bucket)==sum</span></span><br><span class="line">    <span class="comment">//if æ¡ä»¶ï¼šbucket[i]&lt;=sum/bucket.len =&gt; bucket[i]&lt;=sum(bucket)/bucket.len</span></span><br><span class="line">    <span class="comment">//æ‰€ä»¥ä¸ç”¨å•ç‹¬å»åˆ¤æ–­æ˜¯å¦éƒ½ç›¸ç­‰ï¼Œç›´æ¥ retuen true</span></span><br><span class="line">    <span class="keyword">if</span>(index==-<span class="number">1</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;bucket.length;i++)&#123;</span><br><span class="line">        <span class="comment">//æ™®é€šçš„å‰ªæ 60msï¼Œåªåˆ¤æ–­äº†æ˜¯å¦å°äºå¹³å‡å€¼</span></span><br><span class="line">        <span class="comment">//if(bucket[i]+nums[index]&lt;=sum/bucket.length)&#123;</span></span><br><span class="line">        <span class="comment">//æ›´å¥½çš„å‰ªææ–¹å¼ 1msï¼Œåˆ¤æ–­å‰©ä½™ç©ºé—´ä¸ä¸º 0 çš„æ—¶å€™è¿˜èƒ½ä¸èƒ½å¡«å…¶ä»–å…ƒç´ </span></span><br><span class="line">        <span class="type">int</span> rest=sum/bucket.length-bucket[i]-nums[index];</span><br><span class="line">        <span class="keyword">if</span>(rest==<span class="number">0</span> || rest&gt;=nums[<span class="number">0</span>])&#123; <span class="comment">//å°äº nums[0] å°±å•¥ä¹Ÿå¡«ä¸äº†äº†</span></span><br><span class="line">            bucket[i]+=nums[index];</span><br><span class="line">            <span class="keyword">if</span>(dfs(nums,index-<span class="number">1</span>,bucket,sum))&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            bucket[i]-=nums[index];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å…¶å®æ€»ä½“ä¸Šæ¥è¯´è¿˜æ˜¯æš´åŠ›çš„æœç´¢ï¼Œç„¶ååŠ ä¸Šä¸€äº›å‰ªæä¼˜åŒ–çš„æ‰‹æ®µï¼Œé¦–å…ˆèƒ½æƒ³åˆ°çš„æ˜¯<strong>çº¦æŸæ¡¶å†…å…ƒç´ å’Œè¦å°äºç­‰äº<code>sum/k</code>**ï¼Œè¿™æ ·å°±èƒ½å‡å»å¾ˆå¤šæ— æ•ˆæœç´¢ï¼Œä½†æ˜¯ä»…ä»…è¿™æ ·è¿˜æ˜¯æ— æ³• AC è¿™é¢˜ï¼Œè¿˜æœ‰ä¸€æ­¥å¾ˆå…³é”®çš„ä¼˜åŒ–ç‚¹æ˜¯</strong>æ’åº**ï¼Œæ’åºåæˆ‘ä»¬ä»å¤§å¾€å°æœç´¢ï¼Œä¹Ÿå°±æ˜¯ä¼˜å…ˆå°†å¤§çš„å…ƒç´ æ”¾å…¥æ¡¶ä¸­ï¼Œå°½å¿«æ»¡è¶³ if æ¡ä»¶ï¼Œç»è¿‡ä¸Šé¢çš„ä¼˜åŒ–å°±å¯ä»¥æˆåŠŸçš„ AC äº†ï¼Œè€—æ—¶ 60ms å·¦å³ï¼Œä½†æ˜¯çœ‹äº†è¯„è®ºåŒºçš„å¤§ä½¬çš„è§£æ³•åå‘ç°è¿˜æœ‰ä¸€ç§æ›´å¥½çš„å‰ªææ–¹å¼ï¼Œå°±æ˜¯è€ƒè™‘æ”¾ä¸‹å½“å‰å…ƒç´ åè¿˜èƒ½ä¸èƒ½æ”¾ä¸‹å…¶ä»–çš„å…ƒç´ ï¼Œå¦‚æœåˆšå¥½æ”¾ä¸‹å°±ç›´æ¥æ”¾ï¼Œå¦‚æœæ”¾ä¸‹åè¿˜æœ‰å‰©ä½™ç©ºé—´ï¼Œä¸”è¿™ä¸ªå‰©ä½™ç©ºé—´å¾ˆå°ï¼Œè¿<code>nums[0]</code>éƒ½æ”¾ä¸ä¸‹ï¼ˆå‰é¢æ’åºäº†ï¼‰é‚£ä¹ˆè¿™ç§æƒ…å†µä¹Ÿæ˜¯å¯ä»¥ç›´æ¥å‰ªæ‰çš„ï¼Œæ—¶é—´ä¼˜åŒ–åˆ° 1ms</p>
<blockquote>
<p><code>index==-1</code>ä¸ºä»€ä¹ˆå°±ç›´æ¥è¿”å› true äº†ï¼Ÿç®€å•æ¨ä¸€ä¸‹å°±è¡Œäº†</p>
<p>é¦–å…ˆ<code>index==-1</code>è¯´æ˜æ‰€æœ‰å…ƒç´ éƒ½å·²ç»æ”¾å…¥<code>bucket</code>ä¸­äº†ï¼Œæ‰€ä»¥<code>sum(bucket)=sum(nums)</code></p>
<p>å†æ¥çœ‹æˆ‘ä»¬çš„ if æ¡ä»¶ï¼šçº¦æŸæ¡¶å†…å…ƒç´ å°äºç­‰äº<code>sum/k</code>ï¼Œä¹Ÿå°±æ˜¯<code>bucket[i]&lt;=sum(nums)/k</code> å€ŸåŠ©ä¸Šé¢çš„ç»“è®ºï¼Œè½¬æ¢ä¸€ä¸‹å°±æ˜¯ <code>bucket[i]&lt;=sum(bucket)/k</code>ä¹Ÿå°±æ˜¯<code>bucket[i]&lt;=avg(bucket)</code>å¾ˆæ˜æ˜¾ï¼Œåªæœ‰åœ¨æ¯ä¸ªæ¡¶å†…å…ƒç´ éƒ½ç›¸ç­‰çš„æ—¶å€™æ‰æˆç«‹ï¼Œæ•…è¿™é‡Œå¯ä»¥ç›´æ¥è¿”å› true</p>
</blockquote>
<p><strong>è§£æ³•äºŒ</strong></p>
<p>å®˜æ–¹æä¾›äº†ä¸€ä¸ªçŠ¶å‹çš„æ–¹æ³•ï¼Œä½†æ˜¯æ²¡çœ‹æ‡‚ï¼Œè‡ªå·±è¯•ç€å‹äº†ä¸‹æ²¡è¿‡ï¼Œæ‡’å¾—å»ç ”ç©¶äº†</p>
<h2 id="491-é€’å¢å­åºåˆ—"><a href="#491-é€’å¢å­åºåˆ—" class="headerlink" title="491. é€’å¢å­åºåˆ—"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/increasing-subsequences/">491. é€’å¢å­åºåˆ—</a></h2><p>Difficulty: <strong>ä¸­ç­‰</strong></p>
<p>ç»™å®šä¸€ä¸ªæ•´å‹æ•°ç»„ï¼Œä½ çš„ä»»åŠ¡æ˜¯æ‰¾åˆ°æ‰€æœ‰è¯¥æ•°ç»„çš„é€’å¢å­åºåˆ—ï¼Œé€’å¢å­åºåˆ—çš„é•¿åº¦è‡³å°‘æ˜¯ 2ã€‚</p>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š[4, 6, 7, 7]</span><br><span class="line">è¾“å‡ºï¼š[[4, 6], [4, 7], [4, 6, 7], [4, 6, 7, 7], [6, 7], [6, 7, 7], [7,7], [4,7,7]]</span><br></pre></td></tr></table></figure>

<p><strong>è¯´æ˜ï¼š</strong></p>
<ol>
<li> ç»™å®šæ•°ç»„çš„é•¿åº¦ä¸ä¼šè¶…è¿‡ 15ã€‚</li>
<li> æ•°ç»„ä¸­çš„æ•´æ•°èŒƒå›´æ˜¯Â [-100,100]ã€‚</li>
<li> ç»™å®šæ•°ç»„ä¸­å¯èƒ½åŒ…å«é‡å¤æ•°å­—ï¼Œç›¸ç­‰çš„æ•°å­—åº”è¯¥è¢«è§†ä¸ºé€’å¢çš„ä¸€ç§æƒ…å†µã€‚</li>
</ol>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>æ„Ÿè§‰ä»Šå¤©æ™šä¸ŠçŠ¶æ€ä¸å¤ªå¥½ï¼Œå¥½ä¹…æ²¡å†™å›æº¯äº†ï¼Œå†™äº†å‡ å‘æ€è·¯éƒ½æœ‰é—®é¢˜ï¼Œæœ€åç„äº†ä¸€çœ¼è¯„è®ºåŒºæ‰ååº”è¿‡æ¥ï¼Œå’Œä¸Šé¢ <a href="#842-%E5%B0%86%E6%95%B0%E7%BB%84%E6%8B%86%E5%88%86%E6%88%90%E6%96%90%E6%B3%A2%E9%82%A3%E5%A5%91%E5%BA%8F%E5%88%97">842-å°†æ•°ç»„æ‹†åˆ†æˆæ–æ³¢é‚£å¥‘åºåˆ—</a>å¾ˆç±»ä¼¼ï¼Œéƒ½æ˜¯åˆ©ç”¨ lis æ•°ç»„ä¸Šæ¬¡å­˜å€¼åˆ¤æ–­ï¼Œå½“æ—¶è¿™é¢˜è¿˜æ˜¯æˆ‘ç‹¬ç«‹å†™å‡ºæ¥çš„ï¼Œå†™å®Œå‘çš„ code è¯„è®ºè¿˜æ˜¯ä¸ªçƒ­è¯„ï¼Œä»Šå¤©å†™è¿™é¢˜å±…ç„¶æ²¡ååº”è¿‡æ¥ï¼Œå¤ªèœäº†ğŸ˜¥</p>
<figure class="highlight golang"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">findSubsequences</span><span class="params">(nums []<span class="type">int</span>)</span></span> [][]<span class="type">int</span> &#123;</span><br><span class="line"> Â  Â <span class="keyword">var</span> n = <span class="built_in">len</span>(nums)</span><br><span class="line"> Â  Â <span class="keyword">var</span> res [][]<span class="type">int</span></span><br><span class="line"> Â  Â <span class="keyword">var</span> dfs <span class="function"><span class="keyword">func</span><span class="params">(<span class="type">int</span>, []<span class="type">int</span>)</span></span></span><br><span class="line"> Â  Â dfs = <span class="function"><span class="keyword">func</span><span class="params">(index <span class="type">int</span>, lis []<span class="type">int</span>)</span></span>&#123;</span><br><span class="line"> Â  Â  Â  Â <span class="keyword">if</span> <span class="built_in">len</span>(lis) &gt;= <span class="number">2</span>&#123;</span><br><span class="line"> Â  Â  Â  Â  Â  Â dest := <span class="built_in">make</span>([]<span class="type">int</span>, <span class="built_in">len</span>(lis))</span><br><span class="line"> Â  Â  Â  Â  Â  Â <span class="built_in">copy</span>(dest, lis)</span><br><span class="line"> Â  Â  Â  Â  Â  Â res = <span class="built_in">append</span>(res, dest)</span><br><span class="line"> Â  Â  Â   &#125;</span><br><span class="line"> Â  Â  Â  Â <span class="comment">//ä¿è¯ä¸€æ¬¡ for å¾ªç¯ä¸­æ²¡æœ‰é‡å¤çš„å°±è¡Œäº†ï¼Œæ ¹æ®å–å€¼èŒƒå›´åšä¸‹åç§»</span></span><br><span class="line"> Â  Â  Â  Â <span class="keyword">var</span> visit = <span class="built_in">make</span>([]<span class="type">bool</span>, <span class="number">201</span>)</span><br><span class="line"> Â  Â  Â  Â <span class="keyword">for</span> i := index; i &lt; n; i++&#123;</span><br><span class="line"> Â  Â  Â  Â  Â  Â <span class="keyword">if</span> !visit[nums[i]+<span class="number">100</span>] &amp;&amp; (<span class="built_in">len</span>(lis) == <span class="number">0</span> || nums[i] &gt;= lis[<span class="built_in">len</span>(lis)<span class="number">-1</span>]) &#123;</span><br><span class="line"> Â  Â  Â  Â  Â  Â  Â  Â visit[nums[i]+<span class="number">100</span>] = <span class="literal">true</span></span><br><span class="line"> Â  Â  Â  Â  Â  Â  Â  Â lis = <span class="built_in">append</span>(lis, nums[i])</span><br><span class="line"> Â  Â  Â  Â  Â  Â  Â  Â dfs(i+<span class="number">1</span>, lis)</span><br><span class="line"> Â  Â  Â  Â  Â  Â  Â  Â lis = lis[:<span class="built_in">len</span>(lis)<span class="number">-1</span>]</span><br><span class="line"> Â  Â  Â  Â  Â   &#125;</span><br><span class="line"> Â  Â  Â   &#125;</span><br><span class="line"> Â   &#125;</span><br><span class="line"> Â  Â dfs(<span class="number">0</span>, <span class="built_in">make</span>([]<span class="type">int</span>, <span class="number">0</span>))</span><br><span class="line"> Â  Â <span class="keyword">return</span> res</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="679-24-ç‚¹æ¸¸æˆ"><a href="#679-24-ç‚¹æ¸¸æˆ" class="headerlink" title="679. 24 ç‚¹æ¸¸æˆ"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/24-game/">679. 24 ç‚¹æ¸¸æˆ</a></h2><p>Difficulty: <strong>å›°éš¾</strong></p>
<p>ä½ æœ‰ 4 å¼ å†™æœ‰ 1 åˆ° 9 æ•°å­—çš„ç‰Œã€‚ä½ éœ€è¦åˆ¤æ–­æ˜¯å¦èƒ½é€šè¿‡Â <code>*</code>ï¼Œ<code>/</code>ï¼Œ<code>+</code>ï¼Œ<code>-</code>ï¼Œ<code>(</code>ï¼Œ<code>)</code>Â çš„è¿ç®—å¾—åˆ° 24ã€‚</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š[<span class="number">4</span>, <span class="number">1</span>, <span class="number">8</span>, <span class="number">7</span>]</span><br><span class="line">è¾“å‡ºï¼šTrue</span><br><span class="line">è§£é‡Šï¼š(<span class="number">8</span><span class="number">-4</span>) * (<span class="number">7</span><span class="number">-1</span>) = <span class="number">24</span></span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š[<span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">2</span>]</span><br><span class="line">è¾“å‡ºï¼šFalse</span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„ï¼š</strong></p>
<ol>
<li> é™¤æ³•è¿ç®—ç¬¦Â <code>/</code>Â è¡¨ç¤ºå®æ•°é™¤æ³•ï¼Œè€Œä¸æ˜¯æ•´æ•°é™¤æ³•ã€‚ä¾‹å¦‚ 4 / (1 - 2/3) = 12 ã€‚</li>
<li> æ¯ä¸ªè¿ç®—ç¬¦å¯¹ä¸¤ä¸ªæ•°è¿›è¡Œè¿ç®—ã€‚ç‰¹åˆ«æ˜¯æˆ‘ä»¬ä¸èƒ½ç”¨Â <code>-</code>Â ä½œä¸ºä¸€å…ƒè¿ç®—ç¬¦ã€‚ä¾‹å¦‚ï¼Œ<code>[1, 1, 1, 1]</code>Â ä½œä¸ºè¾“å…¥æ—¶ï¼Œè¡¨è¾¾å¼Â <code>-1 - 1 - 1 - 1</code>Â æ˜¯ä¸å…è®¸çš„ã€‚</li>
<li> ä½ ä¸èƒ½å°†æ•°å­—è¿æ¥åœ¨ä¸€èµ·ã€‚ä¾‹å¦‚ï¼Œè¾“å…¥ä¸ºÂ <code>[1, 2, 1, 2]</code>Â æ—¶ï¼Œä¸èƒ½å†™æˆ 12 + 12 ã€‚</li>
</ol>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>ä»£ç æœ‰ç‚¹é•¿ï¼Œä¸è¿‡æ€è·¯è¿˜æ˜¯å¾ˆæ¸…æ¥šï¼Œä¸€å…± 4 ä¸ªæ•°å­—ï¼Œä»é‡Œé¢ä»»æ„é€‰ 2 ä¸ªï¼Œç„¶ååšå„ç§è¿ç®—åå’Œå‰©ä¸‹çš„æ•°å­—æ„æˆæ–°çš„æ•°ç»„ï¼Œç„¶åé‡å¤è¯¥è¿‡ç¨‹ç›´åˆ°æ•°ç»„åªå‰©ä¸‹ä¸€ä¸ªç„¶ååˆ¤æ–­å€¼æ˜¯å¦æ˜¯ 24ï¼ˆæ³¨æ„ç²¾åº¦ï¼‰</p>
<figure class="highlight golang"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">judgePoint24</span><span class="params">(nums []<span class="type">int</span>)</span></span> <span class="type">bool</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> eps <span class="type">float32</span> = <span class="number">1e-5</span></span><br><span class="line">    <span class="keyword">var</span> Abs = <span class="function"><span class="keyword">func</span><span class="params">(a <span class="type">float32</span>)</span></span> <span class="type">float32</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> a &lt; <span class="number">0</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> -a</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> a</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//è®¡æ•°+-*/</span></span><br><span class="line">    <span class="keyword">var</span> compute = <span class="function"><span class="keyword">func</span><span class="params">(a, b <span class="type">float32</span>)</span></span> []<span class="type">float32</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> []<span class="type">float32</span>&#123;a + b, a * b, a - b, a / b&#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> dfs <span class="function"><span class="keyword">func</span><span class="params">([]<span class="type">float32</span>)</span></span> <span class="type">bool</span></span><br><span class="line">    dfs = <span class="function"><span class="keyword">func</span><span class="params">(nums []<span class="type">float32</span>)</span></span> <span class="type">bool</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(nums) == <span class="number">0</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(nums) == <span class="number">1</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> Abs(nums[<span class="number">0</span>]<span class="number">-24</span>) &lt; eps</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">var</span> n = <span class="built_in">len</span>(nums)</span><br><span class="line">        <span class="comment">//ä» nums ä¸­é€‰å– 2 ä¸ªæ•°</span></span><br><span class="line">        <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; n; i++ &#123;</span><br><span class="line">            <span class="keyword">for</span> j := <span class="number">0</span>; j &lt; n; j++ &#123;</span><br><span class="line">                <span class="keyword">if</span> i == j &#123;</span><br><span class="line">                    <span class="keyword">continue</span></span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">//æ”¶é›†å‰©ä¸‹çš„æ•°å­—</span></span><br><span class="line">                <span class="keyword">var</span> rest []<span class="type">float32</span></span><br><span class="line">                <span class="keyword">for</span> k := <span class="number">0</span>; k &lt; n; k++ &#123;</span><br><span class="line">                    <span class="keyword">if</span> k != i &amp;&amp; k != j &#123;</span><br><span class="line">                        rest = <span class="built_in">append</span>(rest, nums[k])</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">//å°è¯•åšå„ç§è¿ç®—</span></span><br><span class="line">                <span class="keyword">for</span> _, v := <span class="keyword">range</span> compute(nums[i], nums[j]) &#123;</span><br><span class="line">                    <span class="keyword">if</span> dfs(<span class="built_in">append</span>(rest, v)) &#123;</span><br><span class="line">                        <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> temp = <span class="built_in">make</span>([]<span class="type">float32</span>, <span class="built_in">len</span>(nums))</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(nums); i++ &#123;</span><br><span class="line">        temp[i] = <span class="type">float32</span>(nums[i])</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dfs(temp)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="5526-æœ€å¤šå¯è¾¾æˆçš„æ¢æ¥¼è¯·æ±‚æ•°ç›®"><a href="#5526-æœ€å¤šå¯è¾¾æˆçš„æ¢æ¥¼è¯·æ±‚æ•°ç›®" class="headerlink" title="5526. æœ€å¤šå¯è¾¾æˆçš„æ¢æ¥¼è¯·æ±‚æ•°ç›®"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/maximum-number-of-achievable-transfer-requests/">5526. æœ€å¤šå¯è¾¾æˆçš„æ¢æ¥¼è¯·æ±‚æ•°ç›®</a></h2><p>Difficulty: <strong>å›°éš¾</strong></p>
<p>æˆ‘ä»¬æœ‰Â <code>n</code>Â æ ‹æ¥¼ï¼Œç¼–å·ä»Â <code>0</code>Â åˆ°Â <code>n - 1</code>Â ã€‚æ¯æ ‹æ¥¼æœ‰è‹¥å¹²å‘˜å·¥ã€‚ç”±äºç°åœ¨æ˜¯æ¢æ¥¼çš„å­£èŠ‚ï¼Œéƒ¨åˆ†å‘˜å·¥æƒ³è¦æ¢ä¸€æ ‹æ¥¼å±…ä½ã€‚</p>
<p>ç»™ä½ ä¸€ä¸ªæ•°ç»„ <code>requests</code>Â ï¼Œå…¶ä¸­Â requests[i] = [from<sub style="display: inline;">i</sub>, to<sub style="display: inline;">i</sub>]Â ï¼Œè¡¨ç¤ºä¸€ä¸ªå‘˜å·¥è¯·æ±‚ä»ç¼–å·ä¸º from<sub style="display: inline;">i</sub>Â çš„æ¥¼æ¬åˆ°ç¼–å·ä¸ºÂ to<sub style="display: inline;">i</sub>çš„æ¥¼ã€‚</p>
<p>ä¸€å¼€å§‹Â <strong>æ‰€æœ‰æ¥¼éƒ½æ˜¯æ»¡çš„</strong>ï¼Œæ‰€ä»¥ä»è¯·æ±‚åˆ—è¡¨ä¸­é€‰å‡ºçš„è‹¥å¹²ä¸ªè¯·æ±‚æ˜¯å¯è¡Œçš„éœ€è¦æ»¡è¶³ æ¯æ ‹æ¥¼å‘˜å·¥å‡€å˜åŒ–ä¸º 0Â ã€‚æ„æ€æ˜¯æ¯æ ‹æ¥¼ <strong>ç¦»å¼€</strong>Â çš„å‘˜å·¥æ•°ç›® <strong>ç­‰äº</strong>Â è¯¥æ¥¼ <strong>æ¬å…¥</strong>Â çš„å‘˜å·¥æ•°æ•°ç›®ã€‚æ¯”æ–¹è¯´Â <code>n = 3</code>Â ä¸”ä¸¤ä¸ªå‘˜å·¥è¦ç¦»å¼€æ¥¼Â <code>0</code>Â ï¼Œä¸€ä¸ªå‘˜å·¥è¦ç¦»å¼€æ¥¼Â <code>1</code>Â ï¼Œä¸€ä¸ªå‘˜å·¥è¦ç¦»å¼€æ¥¼ <code>2</code>Â ï¼Œå¦‚æœè¯¥è¯·æ±‚åˆ—è¡¨å¯è¡Œï¼Œåº”è¯¥è¦æœ‰ä¸¤ä¸ªå‘˜å·¥æ¬å…¥æ¥¼Â <code>0</code>Â ï¼Œä¸€ä¸ªå‘˜å·¥æ¬å…¥æ¥¼Â <code>1</code>Â ï¼Œä¸€ä¸ªå‘˜å·¥æ¬å…¥æ¥¼Â <code>2</code>Â ã€‚</p>
<p>è¯·ä½ ä»åŸè¯·æ±‚åˆ—è¡¨ä¸­é€‰å‡ºè‹¥å¹²ä¸ªè¯·æ±‚ï¼Œä½¿å¾—å®ƒä»¬æ˜¯ä¸€ä¸ªå¯è¡Œçš„è¯·æ±‚åˆ—è¡¨ï¼Œå¹¶è¿”å›æ‰€æœ‰å¯è¡Œåˆ—è¡¨ä¸­æœ€å¤§è¯·æ±‚æ•°ç›®ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<p><img src="https://s1.ax1x.com/2020/09/27/0AZHr8.png" alt="0AZHr8.png"></p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šn = <span class="number">5</span>, requests = [[<span class="number">0</span>,<span class="number">1</span>],[<span class="number">1</span>,<span class="number">0</span>],[<span class="number">0</span>,<span class="number">1</span>],[<span class="number">1</span>,<span class="number">2</span>],[<span class="number">2</span>,<span class="number">0</span>],[<span class="number">3</span>,<span class="number">4</span>]]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">5</span></span><br><span class="line">è§£é‡Šï¼šè¯·æ±‚åˆ—è¡¨å¦‚ä¸‹ï¼š</span><br><span class="line">ä»æ¥¼ <span class="number">0</span> ç¦»å¼€çš„å‘˜å·¥ä¸º x å’Œ y ï¼Œä¸”ä»–ä»¬éƒ½æƒ³è¦æ¬åˆ°æ¥¼ <span class="number">1</span> ã€‚</span><br><span class="line">ä»æ¥¼ <span class="number">1</span> ç¦»å¼€çš„å‘˜å·¥ä¸º a å’Œ b ï¼Œä¸”ä»–ä»¬åˆ†åˆ«æƒ³è¦æ¬åˆ°æ¥¼ <span class="number">2</span> å’Œ <span class="number">0</span> ã€‚</span><br><span class="line">ä»æ¥¼ <span class="number">2</span> ç¦»å¼€çš„å‘˜å·¥ä¸º z ï¼Œä¸”ä»–æƒ³è¦æ¬åˆ°æ¥¼ <span class="number">0</span> ã€‚</span><br><span class="line">ä»æ¥¼ <span class="number">3</span> ç¦»å¼€çš„å‘˜å·¥ä¸º c ï¼Œä¸”ä»–æƒ³è¦æ¬åˆ°æ¥¼ <span class="number">4</span> ã€‚</span><br><span class="line">æ²¡æœ‰å‘˜å·¥ä»æ¥¼ <span class="number">4</span> ç¦»å¼€ã€‚</span><br><span class="line">æˆ‘ä»¬å¯ä»¥è®© x å’Œ b äº¤æ¢ä»–ä»¬çš„æ¥¼ï¼Œä»¥æ»¡è¶³ä»–ä»¬çš„è¯·æ±‚ã€‚</span><br><span class="line">æˆ‘ä»¬å¯ä»¥è®© yï¼Œa å’Œ z ä¸‰äººåœ¨ä¸‰æ ‹æ¥¼é—´äº¤æ¢ä½ç½®ï¼Œæ»¡è¶³ä»–ä»¬çš„è¦æ±‚ã€‚</span><br><span class="line">æ‰€ä»¥æœ€å¤šå¯ä»¥æ»¡è¶³ <span class="number">5</span> ä¸ªè¯·æ±‚ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<p><img src="https://s1.ax1x.com/2020/09/27/0AZLVg.png" alt="0AZLVg.png"></p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šn = <span class="number">3</span>, requests = [[<span class="number">0</span>,<span class="number">0</span>],[<span class="number">1</span>,<span class="number">2</span>],[<span class="number">2</span>,<span class="number">1</span>]]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">3</span></span><br><span class="line">è§£é‡Šï¼šè¯·æ±‚åˆ—è¡¨å¦‚ä¸‹ï¼š</span><br><span class="line">ä»æ¥¼ <span class="number">0</span> ç¦»å¼€çš„å‘˜å·¥ä¸º x ï¼Œä¸”ä»–æƒ³è¦å›åˆ°åŸæ¥çš„æ¥¼ <span class="number">0</span> ã€‚</span><br><span class="line">ä»æ¥¼ <span class="number">1</span> ç¦»å¼€çš„å‘˜å·¥ä¸º y ï¼Œä¸”ä»–æƒ³è¦æ¬åˆ°æ¥¼ <span class="number">2</span> ã€‚</span><br><span class="line">ä»æ¥¼ <span class="number">2</span> ç¦»å¼€çš„å‘˜å·¥ä¸º z ï¼Œä¸”ä»–æƒ³è¦æ¬åˆ°æ¥¼ <span class="number">1</span> ã€‚</span><br><span class="line">æˆ‘ä»¬å¯ä»¥æ»¡è¶³æ‰€æœ‰çš„è¯·æ±‚ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šn = <span class="number">4</span>, requests = [[<span class="number">0</span>,<span class="number">3</span>],[<span class="number">3</span>,<span class="number">1</span>],[<span class="number">1</span>,<span class="number">2</span>],[<span class="number">2</span>,<span class="number">0</span>]]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">4</span></span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li>  1 &lt;= n &lt;= 20</li>
<li>  1 &lt;= requests.length &lt;= 16</li>
<li>  requests[i].length == 2</li>
<li>  0 &lt;= from<sub style="display: inline;">i</sub>, to<sub style="display: inline;">i</sub> &lt; n</li>
</ul>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>208 å‘¨èµ› T4ï¼Œæœ‰ç‚¹ç™½ç»™ï¼Œæƒ³å¥½æ€ä¹ˆå¤„ç†å°±å¾ˆç®€å•ï¼ˆå¥½ä¸å®¹æ˜“ T4 è¿™ä¹ˆç®€å•ï¼Œè¢« T2ï¼ŒT3 ç»™å¹²æ‡µäº†ï¼‰</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line"> Â  Â <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">maximumRequests</span><span class="params">(<span class="type">int</span> n, <span class="type">int</span>[][] requests)</span> &#123;</span><br><span class="line"> Â  Â  Â  Â <span class="type">int</span>[] nums = <span class="keyword">new</span> <span class="title class_">int</span>[n+<span class="number">1</span>];</span><br><span class="line"> Â  Â  Â  Â dfs(nums, <span class="number">0</span>, requests, <span class="number">0</span>);</span><br><span class="line"> Â  Â  Â  Â <span class="keyword">return</span> res;</span><br><span class="line"> Â   &#125;</span><br><span class="line"> Â  Â </span><br><span class="line"> Â  Â <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"> Â  Â </span><br><span class="line"> Â  Â <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> idx, <span class="type">int</span>[][] requests, <span class="type">int</span> count)</span>&#123;</span><br><span class="line"> Â  Â  Â  Â <span class="keyword">if</span> (check(nums)) &#123;</span><br><span class="line"> Â  Â  Â  Â  Â  Â res = Math.max(res, count);</span><br><span class="line"> Â  Â  Â   &#125;</span><br><span class="line"> Â  Â  Â  Â <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> idx; i &lt; requests.length; i++) &#123;</span><br><span class="line"> Â  Â  Â  Â  Â  Â nums[requests[i][<span class="number">0</span>]]--;</span><br><span class="line"> Â  Â  Â  Â  Â  Â nums[requests[i][<span class="number">1</span>]]++;</span><br><span class="line"> Â  Â  Â  Â  Â  Â dfs(nums, i+<span class="number">1</span>, requests, count+<span class="number">1</span>);</span><br><span class="line"> Â  Â  Â  Â  Â  Â nums[requests[i][<span class="number">0</span>]]++;</span><br><span class="line"> Â  Â  Â  Â  Â  Â nums[requests[i][<span class="number">1</span>]]--;</span><br><span class="line"> Â  Â  Â   &#125;</span><br><span class="line"> Â   &#125;</span><br><span class="line"> Â  Â </span><br><span class="line"> Â  Â <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">check</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line"> Â  Â  Â  Â <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line"> Â  Â  Â  Â  Â  Â <span class="keyword">if</span> (nums[i] != <span class="number">0</span>) &#123;</span><br><span class="line"> Â  Â  Â  Â  Â  Â  Â  Â <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"> Â  Â  Â  Â  Â   &#125;</span><br><span class="line"> Â  Â  Â   &#125;</span><br><span class="line"> Â  Â  Â  Â <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line"> Â   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="äºŒç»´å¹³é¢ä¸Šçš„å›æº¯"><a href="#äºŒç»´å¹³é¢ä¸Šçš„å›æº¯" class="headerlink" title="äºŒç»´å¹³é¢ä¸Šçš„å›æº¯"></a><em>äºŒç»´å¹³é¢ä¸Šçš„å›æº¯</em></h2><h2 id="79-å•è¯æœç´¢"><a href="#79-å•è¯æœç´¢" class="headerlink" title="79. å•è¯æœç´¢"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/word-search/">79. å•è¯æœç´¢</a></h2><p>ç»™å®šä¸€ä¸ªäºŒç»´ç½‘æ ¼å’Œä¸€ä¸ªå•è¯ï¼Œæ‰¾å‡ºè¯¥å•è¯æ˜¯å¦å­˜åœ¨äºç½‘æ ¼ä¸­ã€‚</p>
<p>å•è¯å¿…é¡»æŒ‰ç…§å­—æ¯é¡ºåºï¼Œé€šè¿‡ç›¸é‚»çš„å•å…ƒæ ¼å†…çš„å­—æ¯æ„æˆï¼Œå…¶ä¸­â€œç›¸é‚»â€å•å…ƒæ ¼æ˜¯é‚£äº›æ°´å¹³ç›¸é‚»æˆ–å‚ç›´ç›¸é‚»çš„å•å…ƒæ ¼ã€‚åŒä¸€ä¸ªå•å…ƒæ ¼å†…çš„å­—æ¯ä¸å…è®¸è¢«é‡å¤ä½¿ç”¨ã€‚</p>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">board =</span><br><span class="line">[</span><br><span class="line">  [<span class="string">&#x27;A&#x27;</span>,<span class="string">&#x27;B&#x27;</span>,<span class="string">&#x27;C&#x27;</span>,<span class="string">&#x27;E&#x27;</span>],</span><br><span class="line">  [<span class="string">&#x27;S&#x27;</span>,<span class="string">&#x27;F&#x27;</span>,<span class="string">&#x27;C&#x27;</span>,<span class="string">&#x27;S&#x27;</span>],</span><br><span class="line">  [<span class="string">&#x27;A&#x27;</span>,<span class="string">&#x27;D&#x27;</span>,<span class="string">&#x27;E&#x27;</span>,<span class="string">&#x27;E&#x27;</span>]</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">ç»™å®š word = <span class="string">&quot;ABCCED&quot;</span>, è¿”å› <span class="literal">true</span>.</span><br><span class="line">ç»™å®š word = <span class="string">&quot;SEE&quot;</span>, è¿”å› <span class="literal">true</span>.</span><br><span class="line">ç»™å®š word = <span class="string">&quot;ABCB&quot;</span>, è¿”å› <span class="literal">false</span>.</span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•ä¸€</strong></p>
<p>è¿™é¢˜å…¶å®å¹¶ä¸éš¾ï¼Œä½†æ˜¯æˆ‘ä¸€å¼€å§‹å°±é’»åˆ°æ­»èƒ¡é‡Œå»äº†ï¼Œæˆ‘ç›´æ¥æ‹¿èµ·æ¥å°±æƒ³çš„æ˜¯æš´åŠ› dfs ä»ï¼ˆ0ï¼Œ0ï¼‰å¼€å§‹éå†æ¯ç§æƒ…å†µï¼Œç›´åˆ°æ‰¾åˆ°ä¸€ä¸ªç›¸ç­‰çš„ã€‚æˆ‘çœŸæ˜¯ä¸ª hapi</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    board =</span></span><br><span class="line"><span class="comment">    [</span></span><br><span class="line"><span class="comment">      [&#x27;A&#x27;,&#x27;B&#x27;,&#x27;C&#x27;,&#x27;E&#x27;],</span></span><br><span class="line"><span class="comment">      [&#x27;S&#x27;,&#x27;F&#x27;,&#x27;C&#x27;,&#x27;S&#x27;],</span></span><br><span class="line"><span class="comment">      [&#x27;A&#x27;,&#x27;D&#x27;,&#x27;E&#x27;,&#x27;E&#x27;]</span></span><br><span class="line"><span class="comment">    ]</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//æ–¹å‘ï¼šå³ï¼Œä¸‹ï¼Œå·¦ï¼Œä¸Š</span></span><br><span class="line"><span class="keyword">private</span> <span class="type">int</span>[][] direction=&#123;&#123;<span class="number">0</span>,<span class="number">1</span>&#125;,&#123;<span class="number">1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">0</span>,-<span class="number">1</span>&#125;,&#123;-<span class="number">1</span>,<span class="number">0</span>&#125;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">exist</span><span class="params">(<span class="type">char</span>[][] board, String word)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (board==<span class="literal">null</span> || word==<span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">char</span>[] words=word.toCharArray();</span><br><span class="line">    <span class="type">boolean</span>[][] visit=<span class="keyword">new</span> <span class="title class_">boolean</span>[board.length][board[<span class="number">0</span>].length];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>;i&lt;board.length;i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j=<span class="number">0</span>;j&lt;board[<span class="number">0</span>].length;j++) &#123;</span><br><span class="line">            <span class="comment">//éå† board æ¯ä¸ªå…ƒç´ ï¼Œä»¥ä¸ºä¸ªå…ƒç´ ä¸ºèµ·ç‚¹éƒ½è¯•ä¸€ä¸‹</span></span><br><span class="line">            <span class="keyword">if</span>(dfs(board,words,<span class="number">0</span>,i,j,visit))&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">dfs</span><span class="params">(<span class="type">char</span>[][] board, <span class="type">char</span>[] word,<span class="type">int</span> index,<span class="type">int</span> x,<span class="type">int</span> y,<span class="type">boolean</span>[][] visit)</span> &#123;</span><br><span class="line">    <span class="comment">//éå†åˆ° word çš„æœ€åä¸€ä¸ªå­—ç¬¦äº†ï¼Œç›´æ¥æ¯”è¾ƒå°±å¯ä»¥å¾—å‡ºç»“æœ</span></span><br><span class="line">    <span class="keyword">if</span> (index == word.length-<span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> word[index] == board[x][y];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">     è¿™æ ·å†™å¦‚æœ board åªæœ‰ä¸€ä¸ªå…ƒç´ å°±ä¼šé”™äº†ï¼Œåé¢çš„ isValid ä¼šç›´æ¥ false, ä½†æ˜¯æœ‰å¯èƒ½ word å°±æ˜¯è¿™ä¸ª board</span></span><br><span class="line"><span class="comment">     if (index == word.length) &#123;</span></span><br><span class="line"><span class="comment">            return true;</span></span><br><span class="line"><span class="comment">     &#125;*/</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//å½“å…ƒç´ ç›¸ç­‰çš„æ—¶å€™æ‰æœ‰ç»§ç»­çš„å¿…è¦</span></span><br><span class="line">    <span class="keyword">if</span> (board[x][y]==word[index]) &#123;</span><br><span class="line">        visit[x][y]=<span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>;i&lt;direction.length;i++) &#123;</span><br><span class="line">            <span class="type">int</span> nx=x+direction[i][<span class="number">0</span>];</span><br><span class="line">            <span class="type">int</span> ny=y+direction[i][<span class="number">1</span>];</span><br><span class="line">            <span class="comment">//ä¿è¯åˆæ³•æ€§</span></span><br><span class="line">            <span class="keyword">if</span> (isValid(board,nx,ny)&amp;&amp;!visit[nx][ny]&amp;&amp;dfs(board,word,index+<span class="number">1</span>,nx,ny,visit)) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        visit[x][y]=<span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isValid</span><span class="params">(<span class="type">char</span>[][] cs,<span class="type">int</span> x,<span class="type">int</span> y)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x&gt;=<span class="number">0</span> &amp;&amp; x&lt;cs.length &amp;&amp; y &gt;=<span class="number">0</span> &amp;&amp; y&lt; cs[<span class="number">0</span>].length;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="200-å²›å±¿æ•°é‡"><a href="#200-å²›å±¿æ•°é‡" class="headerlink" title="200. å²›å±¿æ•°é‡"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/number-of-islands/">200. å²›å±¿æ•°é‡</a></h2><p>ç»™å®šä¸€ä¸ªç”± â€˜1â€™ï¼ˆé™†åœ°ï¼‰å’Œ â€˜0â€™ï¼ˆæ°´ï¼‰ç»„æˆçš„çš„äºŒç»´ç½‘æ ¼ï¼Œè®¡ç®—å²›å±¿çš„æ•°é‡ã€‚ä¸€ä¸ªå²›è¢«æ°´åŒ…å›´ï¼Œå¹¶ä¸”å®ƒæ˜¯é€šè¿‡æ°´å¹³æ–¹å‘æˆ–å‚ç›´æ–¹å‘ä¸Šç›¸é‚»çš„é™†åœ°è¿æ¥è€Œæˆçš„ã€‚ä½ å¯ä»¥å‡è®¾ç½‘æ ¼çš„å››ä¸ªè¾¹å‡è¢«æ°´åŒ…å›´</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š</span><br><span class="line"><span class="number">11110</span></span><br><span class="line"><span class="number">11010</span></span><br><span class="line"><span class="number">11000</span></span><br><span class="line"><span class="number">00000</span></span><br><span class="line"></span><br><span class="line">è¾“å‡ºï¼š<span class="number">1</span></span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š</span><br><span class="line"><span class="number">11000</span></span><br><span class="line"><span class="number">00100</span></span><br><span class="line"><span class="number">00011</span></span><br><span class="line"></span><br><span class="line">è¾“å‡ºï¼š<span class="number">3</span></span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•ä¸€</strong></p>
<p>å’Œä¸Šé¢ä¸€é¢˜ç±»ä¼¼ï¼Œå¾ˆæƒ­æ„§ï¼Œä¸€å¼€å§‹ä¹Ÿæ²¡å†™å‡ºæ¥ï¼Œå†™äº†ä¸ªå¤§æ¦‚ï¼Œç»†èŠ‚æ²¡æœ‰æ‹æ¸…æ¥š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//æ–¹å‘ï¼šå³ï¼Œä¸‹ï¼Œå·¦ï¼Œä¸Š</span></span><br><span class="line"><span class="keyword">private</span> <span class="type">int</span>[][] direction=&#123;&#123;<span class="number">0</span>,<span class="number">1</span>&#125;,&#123;<span class="number">1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">0</span>,-<span class="number">1</span>&#125;,&#123;-<span class="number">1</span>,<span class="number">0</span>&#125;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">numIslands</span><span class="params">(<span class="type">char</span>[][] grid)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (grid==<span class="literal">null</span>||grid.length&lt;=<span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">boolean</span>[][] visit=<span class="keyword">new</span> <span class="title class_">boolean</span>[grid.length][grid[<span class="number">0</span>].length];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>;i&lt;grid.length;i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j=<span class="number">0</span>;j&lt;grid[<span class="number">0</span>].length;j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (grid[i][j]==<span class="string">&#x27;1&#x27;</span>&amp;&amp;!visit[i][j]) &#123;</span><br><span class="line">                dfs(grid,i,j,visit);</span><br><span class="line">                res++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="type">int</span> res=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">dfs</span><span class="params">(<span class="type">char</span>[][] grid,<span class="type">int</span> x,<span class="type">int</span> y,<span class="type">boolean</span>[][] visit)</span> &#123;</span><br><span class="line">    <span class="comment">//å…¶å®æ•´ä¸ª dfs åšçš„å°±æ˜¯å¯¹ visit[x][y] æ ‡è®°ï¼Œæ ‡è®°ä¸º true ä»£è¡¨è®¿é—®è¿‡</span></span><br><span class="line">    visit[x][y]=<span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>;i&lt;direction.length;i++) &#123;</span><br><span class="line">        <span class="type">int</span> nx=x+direction[i][<span class="number">0</span>];</span><br><span class="line">        <span class="type">int</span> ny=y+direction[i][<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">if</span> (isValid(grid,nx,ny) &amp;&amp; !visit[nx][ny] &amp;&amp; grid[nx][ny]==<span class="string">&#x27;1&#x27;</span>) &#123;</span><br><span class="line">            dfs(grid,nx,ny,visit);</span><br><span class="line">            <span class="comment">//æ— éœ€å›æº¯ visit çŠ¶æ€</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isValid</span><span class="params">(<span class="keyword">final</span> <span class="type">char</span>[][] grid,<span class="type">int</span> x,<span class="type">int</span> y)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x&gt;=<span class="number">0</span> &amp;&amp; x&lt;grid.length &amp;&amp; y&gt;=<span class="number">0</span> &amp;&amp; y&lt;grid[<span class="number">0</span>].length;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>
<h2 id="130-è¢«å›´ç»•çš„åŒºåŸŸ"><a href="#130-è¢«å›´ç»•çš„åŒºåŸŸ" class="headerlink" title="130. è¢«å›´ç»•çš„åŒºåŸŸ"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/surrounded-regions/">130. è¢«å›´ç»•çš„åŒºåŸŸ</a></h2><p>ç»™å®šä¸€ä¸ªäºŒç»´çš„çŸ©é˜µï¼ŒåŒ…å« <code>&#39;X&#39;</code> å’Œ <code>&#39;O&#39;</code>ï¼ˆ<strong>å­—æ¯ O</strong>ï¼‰ã€‚</p>
<p>æ‰¾åˆ°æ‰€æœ‰è¢« â€˜Xâ€™ å›´ç»•çš„åŒºåŸŸï¼Œå¹¶å°†è¿™äº›åŒºåŸŸé‡Œæ‰€æœ‰çš„ <code>&#39;O&#39;</code> ç”¨ <code>&#39;X&#39;</code> å¡«å……ã€‚</p>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">X X X X</span><br><span class="line">X O O X</span><br><span class="line">X X O X</span><br><span class="line">X O X X</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œä½ çš„å‡½æ•°åï¼ŒçŸ©é˜µå˜ä¸ºï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">X X X X</span><br><span class="line">X O X X</span><br></pre></td></tr></table></figure>

<p><strong>è§£é‡Šï¼š</strong></p>
<p>è¢«å›´ç»•çš„åŒºé—´ä¸ä¼šå­˜åœ¨äºè¾¹ç•Œä¸Šï¼Œæ¢å¥è¯è¯´ï¼Œä»»ä½•è¾¹ç•Œä¸Šçš„ â€˜Oâ€™ éƒ½ä¸ä¼šè¢«å¡«å……ä¸º â€˜Xâ€™ã€‚ ä»»ä½•ä¸åœ¨è¾¹ç•Œä¸Šï¼Œæˆ–ä¸ä¸è¾¹ç•Œä¸Šçš„ â€˜Oâ€™ ç›¸è¿çš„ â€˜Oâ€™ æœ€ç»ˆéƒ½ä¼šè¢«å¡«å……ä¸º â€˜Xâ€™ã€‚å¦‚æœä¸¤ä¸ªå…ƒç´ åœ¨æ°´å¹³æˆ–å‚ç›´æ–¹å‘ç›¸é‚»ï¼Œåˆ™ç§°å®ƒä»¬æ˜¯â€œç›¸è¿â€çš„</p>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>è¿™é¢˜åœ¨å¾ˆä¹…ä»¥å‰ï¼ˆçœ‹äº†æäº¤è®°å½•æ˜¯ä¸€å¹´å‰çš„ï¼‰å¼€å§‹å­¦ dfs çš„æ—¶å€™ï¼Œåœ¨ leetcode æœç´¢åˆ°äº†è¿™ä¸€é¢˜ï¼Œå½“æ—¶ä¹Ÿåšå‡ºæ¥äº†ï¼Œåªä¸è¿‡æ•ˆç‡æ„Ÿäººï¼Œæ”¾ä¸Šæ¥çœ‹çœ‹æ˜¯ä¸ªå•¥ç©æ„</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å®šä¹‰ 4 ä¸ªæ–¹å‘ï¼ˆé¡ºæ—¶é’ˆ å³ã€‚..ï¼‰</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span>[][] direction = &#123; &#123; <span class="number">1</span>, <span class="number">0</span> &#125;, &#123; <span class="number">0</span>, <span class="number">1</span> &#125;, &#123; -<span class="number">1</span>, <span class="number">0</span> &#125;, &#123; <span class="number">0</span>, -<span class="number">1</span> &#125; &#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span>[][] mark = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">solve</span><span class="params">(<span class="type">char</span>[][] board)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span>(board.length==<span class="number">0</span>) &#123; <span class="keyword">return</span>; &#125;</span><br><span class="line">    <span class="comment">// æ ¹æ®ä¼ è¿›æ¥çš„ board ç»™ mark åˆå§‹åŒ–</span></span><br><span class="line">    mark = <span class="keyword">new</span> <span class="title class_">int</span>[board.length][board[<span class="number">0</span>].length];</span><br><span class="line">    <span class="comment">// éå†è¾¹ç¼˜æ‰¾å‡ºè¾¹ç¼˜çš„ O çš„åæ ‡</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; board.length; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (board[i][<span class="number">0</span>] == <span class="string">&#x27;O&#x27;</span>) &#123;</span><br><span class="line">            dfs(<span class="number">0</span>, i, board);</span><br><span class="line">            <span class="comment">//æ‰§è¡Œå®Œä¹‹åå†èµ‹å€¼å½“å‰ä½ç½®çš„ O é¿å…åœ¨è¾¹ç¼˜è§’è½çš„é—®é¢˜</span></span><br><span class="line">            mark[i][<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (board[i][board[<span class="number">0</span>].length - <span class="number">1</span>] == <span class="string">&#x27;O&#x27;</span>) &#123;</span><br><span class="line">            dfs(board[<span class="number">0</span>].length, i, board);</span><br><span class="line">            mark[i][board[<span class="number">0</span>].length - <span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ä¸Šè¾¹ç¼˜</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; board[<span class="number">0</span>].length; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (board[<span class="number">0</span>][i] == <span class="string">&#x27;O&#x27;</span>) &#123;</span><br><span class="line">            dfs(i, <span class="number">0</span>, board);</span><br><span class="line">            mark[<span class="number">0</span>][i] = <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ä¸‹è¾¹ç¼˜</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; board[<span class="number">0</span>].length; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (board[board.length - <span class="number">1</span>][i] == <span class="string">&#x27;O&#x27;</span>) &#123;</span><br><span class="line">            dfs(i, board.length - <span class="number">1</span>, board);</span><br><span class="line">            mark[board.length - <span class="number">1</span>][i] = <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; board.length; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; board[<span class="number">0</span>].length; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (board[i][j] == <span class="string">&#x27;O&#x27;</span> &amp;&amp; mark[i][j] == <span class="number">0</span>) &#123;</span><br><span class="line">                board[i][j] = <span class="string">&#x27;X&#x27;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å®ç°å‡½æ•°</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y, <span class="type">char</span>[][] board)</span> &#123;</span><br><span class="line">    <span class="type">int</span> tx, ty;</span><br><span class="line">    <span class="comment">// é¦–å…ˆåˆ¤æ–­è¾¹ç¼˜ä¸Šæœ‰æ²¡æœ‰ O æœ‰çš„è¯å°†ä¸ä»–è”é€šçš„ O éƒ½åŠ ä¸Šæ ‡è®°</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt;= <span class="number">3</span>; i++) &#123;</span><br><span class="line">        <span class="comment">// x=x+direction[i][0]; è¿™æ ·å†™æ¯ä¸ªç‚¹å‘ 4 ä¸ªæ–¹å‘æ‰©å±•å¦‚æœè¿™æ ·å†™ ç‚¹çš„èµ°å‘å°±æœ‰é—®é¢˜äº†</span></span><br><span class="line">        tx = x + direction[i][<span class="number">0</span>];</span><br><span class="line">        ty = y + direction[i][<span class="number">1</span>];</span><br><span class="line">        <span class="comment">// System.out.println(tx+&quot; &quot;+ty);</span></span><br><span class="line">        <span class="keyword">if</span> (tx &lt; board[<span class="number">0</span>].length &amp;&amp; tx &gt;= <span class="number">0</span> &amp;&amp; ty &lt; board.length &amp;&amp; ty &gt;= <span class="number">0</span> &amp;&amp; board[ty][tx] == <span class="string">&#x27;O&#x27;</span></span><br><span class="line">            &amp;&amp; mark[ty][tx] == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="comment">// ä»£è¡¨èµ°è¿‡äº†</span></span><br><span class="line">            mark[ty][tx] = <span class="number">1</span>;</span><br><span class="line">            <span class="comment">// è¿™é‡Œæ²¡æœ‰å¤„ç†å¥½ï¼Œæˆ‘çš„ dfs å‡½æ•°çš„å‚æ•°æ˜¯åæ ‡ä½†æ˜¯å¯¹åº”åˆ° mark é‡Œé¢å’Œ board é‡Œé¢å°±ä¸æ˜¯åæ ‡äº†å°±é¢ å€’äº†</span></span><br><span class="line">            <span class="comment">// æ¯”å¦‚æŒ‰ç…§åæ ‡æ¥ 2 , 1 ----&gt;å¯¹åº”åˆ°æ•°ç»„é‡Œé¢å°±æ˜¯ 1 ï¼Œ2</span></span><br><span class="line">            dfs(tx, ty, board);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>21msï¼Œ8% ä¹ä¸€çœ‹å¥½åƒæ²¡å•¥é—®é¢˜ï¼Œä½†æ˜¯ä¸ºå•¥è¿™ä¹ˆæ…¢å‘¢ï¼Ÿçœ‹çœ‹ä»Šå¤©ä¸‹åˆé‡æ–°åšçš„è§£</p>
<p><strong>è§£æ³•äºŒ</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//æ–¹å‘ï¼šå³ï¼Œä¸‹ï¼Œå·¦ï¼Œä¸Š</span></span><br><span class="line"><span class="keyword">private</span> <span class="type">int</span>[][] direction=&#123;&#123;<span class="number">0</span>,<span class="number">1</span>&#125;,&#123;<span class="number">1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">0</span>,-<span class="number">1</span>&#125;,&#123;-<span class="number">1</span>,<span class="number">0</span>&#125;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">solve</span><span class="params">(<span class="type">char</span>[][] board)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (board==<span class="literal">null</span> || board.length&lt;=<span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">boolean</span>[][] visit=<span class="keyword">new</span> <span class="title class_">boolean</span>[board.length][board[<span class="number">0</span>].length];</span><br><span class="line">    <span class="type">int</span> lx=<span class="number">0</span>,ly=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//éå† 4 æ¡è¾¹çš„&#x27;O&#x27;, å°†ä¸ç›¸è¿çš„&#x27;O&#x27;éƒ½æ ‡è®°ä¸º true</span></span><br><span class="line">    <span class="keyword">while</span>(lx&lt;board.length) &#123; </span><br><span class="line">        <span class="keyword">if</span> (board[lx][<span class="number">0</span>]==<span class="string">&#x27;O&#x27;</span>) &#123; <span class="comment">//å·¦</span></span><br><span class="line">            dfs(board,lx,<span class="number">0</span>,visit);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (board[lx][board[<span class="number">0</span>].length-<span class="number">1</span>] == <span class="string">&#x27;O&#x27;</span>) &#123; <span class="comment">//å³</span></span><br><span class="line">            dfs(board,lx,board[<span class="number">0</span>].length-<span class="number">1</span>,visit);</span><br><span class="line">        &#125;</span><br><span class="line">        lx++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(ly&lt;board[<span class="number">0</span>].length) &#123; </span><br><span class="line">        <span class="keyword">if</span> (board[<span class="number">0</span>][ly]==<span class="string">&#x27;O&#x27;</span>) &#123; <span class="comment">//ä¸Š</span></span><br><span class="line">            dfs(board,<span class="number">0</span>,ly,visit);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (board[board.length-<span class="number">1</span>][ly] == <span class="string">&#x27;O&#x27;</span>) &#123; <span class="comment">//ä¸‹</span></span><br><span class="line">            dfs(board,board.length-<span class="number">1</span>,ly,visit);   </span><br><span class="line">        &#125;</span><br><span class="line">        ly++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//éå†å°†æ‰€æœ‰ visit=false çš„ O å˜ä¸º X</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>;i&lt;board.length;i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j=<span class="number">0</span>;j&lt;board[<span class="number">0</span>].length;j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (board[i][j]==<span class="string">&#x27;O&#x27;</span> &amp;&amp; !visit[i][j]) &#123;</span><br><span class="line">                board[i][j]=<span class="string">&#x27;X&#x27;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">dfs</span><span class="params">(<span class="type">char</span>[][] board,<span class="type">int</span> x,<span class="type">int</span> y,<span class="type">boolean</span>[][] visit)</span> &#123;</span><br><span class="line">    visit[x][y]=<span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>;i&lt;direction.length;i++) &#123;</span><br><span class="line">        <span class="type">int</span> nx=x+direction[i][<span class="number">0</span>];</span><br><span class="line">        <span class="type">int</span> ny=y+direction[i][<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">if</span> (isValid(board,nx,ny) &amp;&amp; board[nx][ny]==<span class="string">&#x27;O&#x27;</span> &amp;&amp; !visit[nx][ny]) &#123;</span><br><span class="line">            dfs(board,nx,ny,visit);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ˜¯å¦åˆæ³•</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isValid</span><span class="params">(<span class="keyword">final</span> <span class="type">char</span>[][] grid,<span class="type">int</span> x,<span class="type">int</span> y)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x&gt;=<span class="number">0</span> &amp;&amp; x&lt;grid.length &amp;&amp; y&gt;=<span class="number">0</span> &amp;&amp; y&lt;grid[<span class="number">0</span>].length;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>2msï¼Œæ¯”è¾ƒæ˜æ˜¾çš„åŒºåˆ«å°±æ˜¯ dfs ç»™ visit æ•°ç»„èµ‹å€¼çš„æ—¶æœºä¸åŒï¼Œä¸€ä¸ªæ˜¯åœ¨å¾ªç¯é‡Œé¢ï¼Œä¸€ä¸ªæ˜¯åœ¨å‡½æ•°å¼€å¤´ï¼Œä¹Ÿå°±æ˜¯è¯´ç¬¬ä¸€ç§è§£æ³•å¹¶ä¸ä¼šç«‹å³ç»™è¾¹ç¼˜çš„<code>&#39;O&#39;</code> æ ‡è®°ï¼Œè¿™æ ·å¯¼è‡´çš„é—®é¢˜å°±æ˜¯å®ƒåç»­çš„èŠ‚ç‚¹ä»ç„¶ä¼šæœç´¢åˆ°è¿™ä¸ªè¾¹ç¼˜çš„ <code>&#39;O&#39;</code> è¿™æ ·å°±ä¼šé€ æˆé‡å¤çš„è®¡ç®—ï¼Œæ‰€ä»¥è¯´ï¼Œä¸€å®šè¦æ‹æ¸…æ¥šè¿™ä¸ªè¿‡ç¨‹ï¼Œä¸èƒ½ä¹±å†™</p>
<h2 id="417-å¤ªå¹³æ´‹å¤§è¥¿æ´‹æ°´æµé—®é¢˜"><a href="#417-å¤ªå¹³æ´‹å¤§è¥¿æ´‹æ°´æµé—®é¢˜" class="headerlink" title="417. å¤ªå¹³æ´‹å¤§è¥¿æ´‹æ°´æµé—®é¢˜"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/pacific-atlantic-water-flow/">417. å¤ªå¹³æ´‹å¤§è¥¿æ´‹æ°´æµé—®é¢˜</a></h2><p>ç»™å®šä¸€ä¸ª <code>m x n</code> çš„éè´Ÿæ•´æ•°çŸ©é˜µæ¥è¡¨ç¤ºä¸€ç‰‡å¤§é™†ä¸Šå„ä¸ªå•å…ƒæ ¼çš„é«˜åº¦ã€‚â€œå¤ªå¹³æ´‹â€å¤„äºå¤§é™†çš„å·¦è¾¹ç•Œå’Œä¸Šè¾¹ç•Œï¼Œè€Œâ€œå¤§è¥¿æ´‹â€å¤„äºå¤§é™†çš„å³è¾¹ç•Œå’Œä¸‹è¾¹ç•Œã€‚</p>
<p>è§„å®šæ°´æµåªèƒ½æŒ‰ç…§ä¸Šã€ä¸‹ã€å·¦ã€å³å››ä¸ªæ–¹å‘æµåŠ¨ï¼Œä¸”åªèƒ½ä»é«˜åˆ°ä½æˆ–è€…åœ¨åŒç­‰é«˜åº¦ä¸ŠæµåŠ¨ã€‚</p>
<p>è¯·æ‰¾å‡ºé‚£äº›æ°´æµæ—¢å¯ä»¥æµåŠ¨åˆ°â€œå¤ªå¹³æ´‹â€ï¼Œåˆèƒ½æµåŠ¨åˆ°â€œå¤§è¥¿æ´‹â€çš„é™†åœ°å•å…ƒçš„åæ ‡</p>
<p><strong>æç¤ºï¼š</strong></p>
<ol>
<li><p>è¾“å‡ºåæ ‡çš„é¡ºåºä¸é‡è¦</p>
</li>
<li><p>m å’Œ n éƒ½å°äº 150</p>
</li>
</ol>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">ç»™å®šä¸‹é¢çš„ 5x5 çŸ©é˜µï¼š</span><br><span class="line"></span><br><span class="line">  å¤ªå¹³æ´‹ ~   ~   ~   ~   ~ </span><br><span class="line">       ~  <span class="number">1</span>   <span class="number">2</span>   <span class="number">2</span>   <span class="number">3</span>  (<span class="number">5</span>) *</span><br><span class="line">       ~  <span class="number">3</span>   <span class="number">2</span>   <span class="number">3</span>  (<span class="number">4</span>) (<span class="number">4</span>) *</span><br><span class="line">       ~  <span class="number">2</span>   <span class="number">4</span>  (<span class="number">5</span>)  <span class="number">3</span>   <span class="number">1</span>  *</span><br><span class="line">       ~ (<span class="number">6</span>) (<span class="number">7</span>)  <span class="number">1</span>   <span class="number">4</span>   <span class="number">5</span>  *</span><br><span class="line">       ~ (<span class="number">5</span>)  <span class="number">1</span>   <span class="number">1</span>   <span class="number">2</span>   <span class="number">4</span>  *</span><br><span class="line">          *   *   *   *   * å¤§è¥¿æ´‹</span><br><span class="line"></span><br><span class="line">è¿”å›ï¼š</span><br><span class="line"></span><br><span class="line">[[<span class="number">0</span>, <span class="number">4</span>], [<span class="number">1</span>, <span class="number">3</span>], [<span class="number">1</span>, <span class="number">4</span>], [<span class="number">2</span>, <span class="number">2</span>], [<span class="number">3</span>, <span class="number">0</span>], [<span class="number">3</span>, <span class="number">1</span>], [<span class="number">4</span>, <span class="number">0</span>]] ï¼ˆä¸Šå›¾ä¸­å¸¦æ‹¬å·çš„å•å…ƒï¼‰.</span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•ä¸€</strong></p>
<p>å…¶å®å’Œä¸Šé¢ä¹Ÿæ˜¯å¦‚å‡ºä¸€è¾™ï¼Œåªä¸è¿‡æœ€å¼€å§‹æ²¡æƒ³åˆ°ä¸¤ä¸ª visit æ•°ç»„æ¥åš</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//æ–¹å‘é”®</span></span><br><span class="line"><span class="keyword">private</span> <span class="type">int</span>[][] direction=&#123;&#123;<span class="number">0</span>,<span class="number">1</span>&#125;,&#123;<span class="number">1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">0</span>,-<span class="number">1</span>&#125;,&#123;-<span class="number">1</span>,<span class="number">0</span>&#125;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; <span class="title function_">pacificAtlantic</span><span class="params">(<span class="type">int</span>[][] matrix)</span> &#123;</span><br><span class="line">    List&lt;List&lt;Integer&gt;&gt; res=<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    <span class="comment">//leetcode è€æ˜¯å–œæ¬¢æäº›å¹ºè›¾å­</span></span><br><span class="line">    <span class="keyword">if</span> (matrix==<span class="literal">null</span> || matrix.length&lt;=<span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> m=matrix.length;</span><br><span class="line">    <span class="type">int</span> n=matrix[<span class="number">0</span>].length;</span><br><span class="line">    <span class="comment">//å¤ªå¹³æ´‹</span></span><br><span class="line">    <span class="type">boolean</span>[][] pacific=<span class="keyword">new</span> <span class="title class_">boolean</span>[m][n];</span><br><span class="line">    <span class="comment">//å¤§è¥¿æ´‹</span></span><br><span class="line">    <span class="type">boolean</span>[][] atlantic=<span class="keyword">new</span> <span class="title class_">boolean</span>[m][n];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>;i&lt;m;i++) &#123;</span><br><span class="line">        dfs(matrix,i,<span class="number">0</span>,pacific);</span><br><span class="line">        dfs(matrix,i,n-<span class="number">1</span>,atlantic);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;i++) &#123;</span><br><span class="line">        dfs(matrix,<span class="number">0</span>,i,pacific);</span><br><span class="line">        dfs(matrix,m-<span class="number">1</span>,i,atlantic);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>;i&lt;m;i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j=<span class="number">0</span>;j&lt;n;j++) &#123;</span><br><span class="line">            <span class="comment">//åŒæ—¶ä¸º true çš„å°±æ˜¯è§£</span></span><br><span class="line">            <span class="keyword">if</span> (pacific[i][j] &amp;&amp; atlantic[i][j]) &#123;</span><br><span class="line">                res.add(Arrays.asList(i,j));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span>[][] matrix,<span class="type">int</span> x,<span class="type">int</span> y,<span class="type">boolean</span>[][] visit)</span> &#123;</span><br><span class="line">    visit[x][y]=<span class="literal">true</span>;</span><br><span class="line">    <span class="comment">//å‘ 4 ä¸ªæ–¹å‘ floodfill</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>;i&lt;direction.length;i++) &#123;</span><br><span class="line">        <span class="type">int</span> nx=x+direction[i][<span class="number">0</span>];</span><br><span class="line">        <span class="type">int</span> ny=y+direction[i][<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">if</span> (isValid(matrix,nx,ny) &amp;&amp; matrix[nx][ny]&gt;= matrix[x][y] &amp;&amp; !visit[nx][ny]) &#123;</span><br><span class="line">            dfs(matrix,nx,ny,visit);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isValid</span><span class="params">(<span class="keyword">final</span> <span class="type">int</span>[][] matrix,<span class="type">int</span> x,<span class="type">int</span> y)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x&gt;=<span class="number">0</span> &amp;&amp; x&lt;matrix.length &amp;&amp; y&gt;=<span class="number">0</span> &amp;&amp; y&lt;matrix[<span class="number">0</span>].length;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>6msï¼Œ96%ï¼Œè¿˜æ˜¯æ¯”è¾ƒ ok çš„</p>
<h2 id="51-N-çš‡å"><a href="#51-N-çš‡å" class="headerlink" title="51. N çš‡å"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/n-queens/">51. N çš‡å</a></h2><p><em>n</em> çš‡åé—®é¢˜ç ”ç©¶çš„æ˜¯å¦‚ä½•å°† <em>n</em> ä¸ªçš‡åæ”¾ç½®åœ¨ <em>n</em>Ã—<em>n</em> çš„æ£‹ç›˜ä¸Šï¼Œå¹¶ä¸”ä½¿çš‡åå½¼æ­¤ä¹‹é—´ä¸èƒ½ç›¸äº’æ”»å‡»</p>
<p><img src="http://static.imlgw.top/blog/20191011/ac4lTcAFesSc.png?imageslim" alt="mark"></p>
<p>ä¸Šå›¾ä¸º 8 çš‡åé—®é¢˜çš„ä¸€ç§è§£æ³•ã€‚</p>
<p>ç»™å®šä¸€ä¸ªæ•´æ•° nï¼Œè¿”å›æ‰€æœ‰ä¸åŒçš„ n çš‡åé—®é¢˜çš„è§£å†³æ–¹æ¡ˆã€‚</p>
<p>æ¯ä¸€ç§è§£æ³•åŒ…å«ä¸€ä¸ªæ˜ç¡®çš„ n çš‡åé—®é¢˜çš„æ£‹å­æ”¾ç½®æ–¹æ¡ˆï¼Œè¯¥æ–¹æ¡ˆä¸­ â€˜Qâ€™ å’Œ â€˜ . â€˜ åˆ†åˆ«ä»£è¡¨äº†çš‡åå’Œç©ºä½ã€‚</p>
<p><strong>ç¤ºä¾‹ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š<span class="number">4</span></span><br><span class="line">è¾“å‡ºï¼š[</span><br><span class="line"> [<span class="string">&quot;.Q..&quot;</span>,  <span class="comment">// è§£æ³• 1</span></span><br><span class="line">  <span class="string">&quot;...Q&quot;</span>,</span><br><span class="line">  <span class="string">&quot;Q...&quot;</span>,</span><br><span class="line">  <span class="string">&quot;..Q.&quot;</span>],</span><br><span class="line"></span><br><span class="line"> [<span class="string">&quot;..Q.&quot;</span>,  <span class="comment">// è§£æ³• 2</span></span><br><span class="line">  <span class="string">&quot;Q...&quot;</span>,</span><br><span class="line">  <span class="string">&quot;...Q&quot;</span>,</span><br><span class="line">  <span class="string">&quot;.Q..&quot;</span>]</span><br><span class="line">]</span><br><span class="line">è§£é‡Šï¼š<span class="number">4</span> çš‡åé—®é¢˜å­˜åœ¨ä¸¤ä¸ªä¸åŒçš„è§£æ³•</span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•ä¸€</strong></p>
<p>Hard é¢˜ï¼ŒN çš‡åé—®é¢˜å¯ä»¥è¯´æ˜¯å¾ˆç»å…¸çš„é—®é¢˜äº†ï¼Œä¹‹å‰æœ‰çœ‹è¿‡ï¼Œä½†æ˜¯éƒ½æ˜¯ä¸€è„¸æ‡µé€¼ï¼Œæ— ä»ä¸‹æ‰‹ï¼Œè¿™ä¸€æ¬¡çœ‹äº†ä¸‹æç¤ºè¿˜æ˜¯è‡ªå·±ç»™åšå‡ºæ¥äº†</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> List&lt;List&lt;String&gt;&gt; res=<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="type">boolean</span>[] col;</span><br><span class="line"><span class="comment">//private boolean[] row;</span></span><br><span class="line"><span class="comment">//ä¸¤æ¡å¯¹è§’çº¿</span></span><br><span class="line"><span class="keyword">private</span> <span class="type">boolean</span>[] dia1;</span><br><span class="line"><span class="keyword">private</span> <span class="type">boolean</span>[] dia2;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> List&lt;List&lt;String&gt;&gt; <span class="title function_">solveNQueens</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (n&lt;=<span class="number">0</span>) <span class="keyword">return</span> res;</span><br><span class="line">    col=<span class="keyword">new</span> <span class="title class_">boolean</span>[n];</span><br><span class="line">    <span class="comment">//row=new boolean[n];</span></span><br><span class="line">    dia1=<span class="keyword">new</span> <span class="title class_">boolean</span>[<span class="number">2</span>*n-<span class="number">1</span>];</span><br><span class="line">    dia2=<span class="keyword">new</span> <span class="title class_">boolean</span>[<span class="number">2</span>*n-<span class="number">1</span>];</span><br><span class="line">    dfs(n,<span class="number">0</span>,<span class="keyword">new</span> <span class="title class_">ArrayList</span>());</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//dfs</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span> n,<span class="type">int</span> index,List&lt;Integer&gt; lis)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (index==n) &#123;</span><br><span class="line">        res.add(generateRes(lis));</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//æ£€æµ‹ç¬¬ index è¡Œç¬¬ i åˆ—</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;i++) &#123;</span><br><span class="line">        <span class="comment">//æ³¨æ„å¯¹è§’çº¿çš„ä¸‹æ ‡</span></span><br><span class="line">        <span class="keyword">if</span> (!col[i] &amp;&amp; !dia1[index-i+n-<span class="number">1</span>] &amp;&amp; !dia2[i+index]) &#123;</span><br><span class="line">            col[i]=<span class="literal">true</span>;</span><br><span class="line">            dia1[index-i+n-<span class="number">1</span>]=<span class="literal">true</span>;</span><br><span class="line">            dia2[index+i]=<span class="literal">true</span>;</span><br><span class="line">            <span class="comment">//å°è¯•æ·»åŠ </span></span><br><span class="line">            lis.add(i);</span><br><span class="line">            dfs(n,index+<span class="number">1</span>,lis);</span><br><span class="line">            <span class="comment">//å›æº¯</span></span><br><span class="line">            lis.remove(lis.size()-<span class="number">1</span>);</span><br><span class="line">            col[i]=<span class="literal">false</span>;</span><br><span class="line">            dia1[index-i+n-<span class="number">1</span>]=<span class="literal">false</span>;</span><br><span class="line">            dia2[index+i]=<span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ ¹æ® lis ç”Ÿæˆè§£</span></span><br><span class="line"><span class="keyword">public</span> List&lt;String&gt; <span class="title function_">generateRes</span><span class="params">(List&lt;Integer&gt; lis)</span>&#123;</span><br><span class="line">    List&lt;String&gt; res=<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>;i&lt;lis.size();i++) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">index</span> <span class="operator">=</span> lis.get(i);</span><br><span class="line">        StringBuilder sb=<span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j=<span class="number">0</span>;j&lt;lis.size();j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (j!=index)&#123;</span><br><span class="line">                sb.append(<span class="string">&quot;.&quot;</span>);</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                sb.append(<span class="string">&quot;Q&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        res.add(sb.toString());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ ¸å¿ƒæ€è·¯å°±æ˜¯ï¼šä¸€è¡Œè¡Œéå†ï¼Œç„¶å dfs å°è¯•åœ¨æ¯ä¸ªä½ç½®æ”¾ç½®çš‡åï¼Œæˆ‘è§‰å¾—ä¸»è¦çš„éš¾ç‚¹åœ¨äºå¦‚ä½•åˆ¤æ–­å„ä¸ªåˆ—ï¼Œå¯¹è§’çº¿æ˜¯å¦å·²ç»æœ‰çš‡åï¼Œè¿™ä¸€ç‚¹éœ€è¦ç»†è‡´çš„è§‚å¯Ÿï¼Œæœ‰ä¸€æ¡å¯¹è§’çº¿çš„æ¨ªçºµåæ ‡ä¹‹å’Œä¸ºå¸¸æ•°ï¼Œå¦ä¸€æ¡æ¨ªçºµåæ ‡ä¹‹å·®æ˜¯ä¸ªå¸¸æ•°ï¼Œå€Ÿæ­¤ä¾¿å¯ä»¥å”¯ä¸€ç¡®å®šä¸€æ¡å¯¹è§’çº¿</p>
<h2 id="52-N-çš‡å-II"><a href="#52-N-çš‡å-II" class="headerlink" title="52. N çš‡å II"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/n-queens-ii/">52. N çš‡å II</a></h2><p>å’Œä¸Šé¢ä¸€é¢˜ä¸åŒçš„åœ°æ–¹æ˜¯è¿™é¢˜åªéœ€è¦æ±‚è§£çš„ä¸ªæ•°ï¼Œæ„Ÿè§‰è¿™é¢˜æ‰åº”è¯¥æ˜¯<code>â… </code>ï¼Œä¸ç”¨æ±‚æ‰€æœ‰çš„è§£ï¼Œè²Œä¼¼æ›´åŠ ç®€å•äº†ï¼Ÿ</p>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>ç›´æ¥å¥—ç”¨ä¸Šé¢çš„ä»£ç ï¼Œæ²¡å•¥å¥½è¯´çš„</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">totalNQueens</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">    res=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span> (n&lt;=<span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    col=<span class="keyword">new</span> <span class="title class_">boolean</span>[n];</span><br><span class="line">    <span class="comment">//row=new boolean[n];</span></span><br><span class="line">    dia1=<span class="keyword">new</span> <span class="title class_">boolean</span>[<span class="number">2</span>*n-<span class="number">1</span>];</span><br><span class="line">    dia2=<span class="keyword">new</span> <span class="title class_">boolean</span>[<span class="number">2</span>*n-<span class="number">1</span>];</span><br><span class="line">    dfs(n,<span class="number">0</span>,<span class="keyword">new</span> <span class="title class_">ArrayList</span>());</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="type">int</span> res=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="type">boolean</span>[] col;</span><br><span class="line"><span class="keyword">private</span> <span class="type">boolean</span>[] dia1;</span><br><span class="line"><span class="keyword">private</span> <span class="type">boolean</span>[] dia2;</span><br><span class="line"></span><br><span class="line"><span class="comment">//dfs</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span> n,<span class="type">int</span> index,List&lt;Integer&gt; lis)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (index==n) &#123;</span><br><span class="line">        res++;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//æ£€æµ‹ç¬¬ index è¡Œç¬¬ i åˆ—</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!col[i] &amp;&amp; !dia1[index-i+n-<span class="number">1</span>] &amp;&amp; !dia2[i+index]) &#123;</span><br><span class="line">            col[i]=<span class="literal">true</span>;</span><br><span class="line">            dia1[index-i+n-<span class="number">1</span>]=<span class="literal">true</span>;</span><br><span class="line">            dia2[index+i]=<span class="literal">true</span>;</span><br><span class="line">            <span class="comment">//ä¸ç”¨æ·»åŠ åˆ° lis ä¸­</span></span><br><span class="line">            dfs(n,index+<span class="number">1</span>,lis);</span><br><span class="line">            <span class="comment">//å›æº¯</span></span><br><span class="line">            col[i]=<span class="literal">false</span>;</span><br><span class="line">            dia1[index-i+n-<span class="number">1</span>]=<span class="literal">false</span>;</span><br><span class="line">            dia2[index+i]=<span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è™½ç„¶æäº¤äº†ä¹Ÿæ˜¯ 1msï¼Œä¸»è¦æ˜¯è¿™ä¸¤é¢˜ case éƒ½æ¯”è¾ƒå°‘ï¼Œæœ€å¤§çš„ case å¥½åƒåªåˆ° 11ï¼Œæ‰€ä»¥å·®è·ä¸æ˜¯å¾ˆæ˜æ˜¾ï¼Œæˆ‘è¿™æ ·åšè‚¯å®šä¸æ˜¯è¿™é¢˜çš„æœ€ä¼˜è§£ï¼Œè¿™é¢˜çš„æœ€ä¼˜è§£æ˜¯åˆ©ç”¨<code>ä½å›¾ï¼ˆbitmapï¼‰</code>ä½œä½è¿ç®—ï¼Œåæ­£æˆ‘ä¸å¯èƒ½å†™å‡ºæ¥å°±æ˜¯äº†ğŸ˜‚ <a target="_blank" rel="noopener" href="http://www.ic-net.or.jp/home/takaken/e/queen/">å‚è€ƒ</a></p>
<h2 id="37-è§£æ•°ç‹¬"><a href="#37-è§£æ•°ç‹¬" class="headerlink" title="37. è§£æ•°ç‹¬"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/sudoku-solver/">37. è§£æ•°ç‹¬</a></h2><p>ç¼–å†™ä¸€ä¸ªç¨‹åºï¼Œé€šè¿‡å·²å¡«å……çš„ç©ºæ ¼æ¥è§£å†³æ•°ç‹¬é—®é¢˜ã€‚</p>
<p>ä¸€ä¸ªæ•°ç‹¬çš„è§£æ³•éœ€éµå¾ªå¦‚ä¸‹è§„åˆ™ï¼š</p>
<p>æ•°å­— <code>1-9</code> åœ¨æ¯ä¸€è¡Œåªèƒ½å‡ºç°ä¸€æ¬¡ã€‚<br>æ•°å­— <code>1-9</code> åœ¨æ¯ä¸€åˆ—åªèƒ½å‡ºç°ä¸€æ¬¡ã€‚<br>æ•°å­— 1-9 åœ¨æ¯ä¸€ä¸ªä»¥ç²—å®çº¿åˆ†éš”çš„ <code>3x3</code> å®«å†…åªèƒ½å‡ºç°ä¸€æ¬¡ã€‚<br>ç©ºç™½æ ¼ç”¨ <code>&#39;.&#39;</code> è¡¨ç¤ºã€‚</p>
<p><img src="http://static.imlgw.top/blog/20191012/jvSukv6RnXFL.png?imageslim" alt="mark"></p>
<p>ä¸€ä¸ªæ•°ç‹¬</p>
<p><img src="http://static.imlgw.top/blog/20191012/XgTokVUgo5Yy.png?imageslim" alt="mark"></p>
<p>ç­”æ¡ˆè¢«æ ‡æˆçº¢è‰²ã€‚</p>
<p><strong>Note:</strong></p>
<ul>
<li>ç»™å®šçš„æ•°ç‹¬åºåˆ—åªåŒ…å«æ•°å­— <code>1-9</code> å’Œå­—ç¬¦ <code>&#39;.&#39;</code> </li>
<li>ä½ å¯ä»¥å‡è®¾ç»™å®šçš„æ•°ç‹¬åªæœ‰å”¯ä¸€è§£ã€‚</li>
<li>ç»™å®šæ•°ç‹¬æ°¸è¿œæ˜¯ <code>9x9</code> å½¢å¼çš„ã€‚</li>
</ul>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>å—¯ï¼Œåˆæ˜¯ä¸€é“ hard é¢˜ï¼Œè‡ªå·±æ‘¸äº†åŠå¤©æ²¡åšå‡ºæ¥ï¼Œçœ‹äº†è¯„è®ºåŒºåšå‡ºæ¥çš„</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//ä¸‰ä¸ªçº¦æŸè§„åˆ™</span></span><br><span class="line"><span class="keyword">private</span> <span class="type">boolean</span>[][] col=<span class="keyword">new</span> <span class="title class_">boolean</span>[<span class="number">9</span>][<span class="number">9</span>];</span><br><span class="line"><span class="keyword">private</span> <span class="type">boolean</span>[][] row=<span class="keyword">new</span> <span class="title class_">boolean</span>[<span class="number">9</span>][<span class="number">9</span>];</span><br><span class="line"><span class="keyword">private</span> <span class="type">boolean</span>[][] block=<span class="keyword">new</span> <span class="title class_">boolean</span>[<span class="number">9</span>][<span class="number">9</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">solveSudoku</span><span class="params">(<span class="type">char</span>[][] board)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (board==<span class="literal">null</span> || board.length&lt;=<span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>;i&lt;<span class="number">9</span>;i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j=<span class="number">0</span>;j&lt;<span class="number">9</span>;j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (board[i][j]!=<span class="string">&#x27;.&#x27;</span>) &#123;</span><br><span class="line">                col[i][board[i][j]-<span class="number">48</span>-<span class="number">1</span>]=<span class="literal">true</span>;</span><br><span class="line">                row[j][board[i][j]-<span class="number">48</span>-<span class="number">1</span>]=<span class="literal">true</span>;</span><br><span class="line">                <span class="comment">//å—å·ä¸º i/3*3+j/3</span></span><br><span class="line">                block[i/<span class="number">3</span>*<span class="number">3</span>+j/<span class="number">3</span>][board[i][j]-<span class="number">48</span>-<span class="number">1</span>]=<span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    dfs(board,<span class="number">0</span>,<span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//private  static char[][] res=new char[9][9];</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">dfs</span><span class="params">(<span class="type">char</span>[][] board,<span class="type">int</span> i,<span class="type">int</span> j)</span> &#123;</span><br><span class="line">    <span class="comment">//ä»ï¼Œi,j ä½ç½®å‘åå¯»æ‰¾&#x27;.&#x27;, i&gt;=9 è¯´æ˜å…¨éƒ¨å¡«å……å®Œäº†</span></span><br><span class="line">    <span class="keyword">while</span>(board[i][j]!=<span class="string">&#x27;.&#x27;</span>) &#123;</span><br><span class="line">        j++;</span><br><span class="line">        <span class="keyword">if</span> (j==<span class="number">9</span>) &#123;</span><br><span class="line">            i++;</span><br><span class="line">            j=<span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//over</span></span><br><span class="line">        <span class="keyword">if</span> (i==<span class="number">9</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//System.out.println(i+&quot;,&quot;+j);</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> val=<span class="number">0</span>;val&lt;<span class="number">9</span>;val++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!col[i][val] &amp;&amp; !row[j][val] &amp;&amp; !block[i/<span class="number">3</span>*<span class="number">3</span>+j/<span class="number">3</span>][val]) &#123;</span><br><span class="line">            col[i][val]=<span class="literal">true</span>;</span><br><span class="line">            row[j][val]=<span class="literal">true</span>;</span><br><span class="line">            block[i/<span class="number">3</span>*<span class="number">3</span>+j/<span class="number">3</span>][val]=<span class="literal">true</span>;</span><br><span class="line">            <span class="comment">//å°è¯•å¡«å……ä¸º val+1</span></span><br><span class="line">            board[i][j]=(<span class="type">char</span>)(val+<span class="number">1</span>+<span class="number">48</span>);</span><br><span class="line">            <span class="comment">//å°è¯•åé¢çš„&#x27;.&#x27;, è¿™é‡Œä¼ è¿›å»è¿˜æ˜¯ i,j</span></span><br><span class="line">            <span class="comment">//å¤§è„‘æ¨¡æ‹Ÿä¸‹å…¶å®è¿™ä¸ª dfs è¿‡ç¨‹ä¹ŸæŒºç®€å•</span></span><br><span class="line">            <span class="keyword">if</span>(dfs(board,i,j))&#123;<span class="comment">//è¿™é‡Œä¼šå°è¯•æ‰€æœ‰è§£ï¼Œå¤±è´¥åå›æº¯</span></span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="comment">//å›æº¯</span></span><br><span class="line">                board[i][j]=<span class="string">&#x27;.&#x27;</span>;</span><br><span class="line">                col[i][val]=<span class="literal">false</span>;</span><br><span class="line">                row[j][val]=<span class="literal">false</span>;</span><br><span class="line">                block[i/<span class="number">3</span>*<span class="number">3</span>+j/<span class="number">3</span>][val]=<span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ¯”ä¸Šé¢çš„ N çš‡åè¦æ›´å¤æ‚ï¼ŒåŒæ ·ä¹Ÿæ˜¯å¸¦æœ‰çº¦æŸçš„ dfs å›æº¯ï¼Œæˆ‘ä¸€å¼€å§‹å†™çš„æ–¹æ³•ä¸»è¦æ˜¯æ€è·¯éƒ½é”™äº†ï¼Œæˆ‘æƒ³çš„å’Œä¸Šé¢ n çš‡åä¸€æ ·ï¼Œä¸€å±‚ä¸€å±‚çš„æœç´¢æœ€å n==9 å°±ç»“æŸï¼Œä½†æ˜¯æ²¡è€ƒè™‘åˆ°ä¸€å±‚å…¶å®ä¸åªæœ‰ä¸€ä¸ª<code>ç©ºä½</code>ï¼ŒåŒæ—¶è¿˜è¦æ³¨æ„å›æº¯çš„æ—¶æœºï¼Œå¹¶ä¸æ˜¯ dfs ä¹‹åå°±å›æº¯ï¼Œç”¨å¤§è„‘æ¨¡æ‹Ÿä¸‹è¿™ä¸ªé€’å½’å…¶å®å°±æ˜ç™½äº†ï¼Œæˆ‘è§‰å¾—æ ¸å¿ƒè¿˜æ˜¯<code>æ‰¾&#39;.&#39;é‚£ä¸€æ­¥</code>ï¼Œè¿™ä¸€æ­¥ç¡®å®æ²¡æƒ³åˆ°</p>
<blockquote>
<p>è¿™é¢˜æœ‰ä¸€ä¸ªç®€å•ç‰ˆï¼Œ<a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/valid-sudoku/">36. æœ‰æ•ˆçš„æ•°ç‹¬</a> æŒºç®€å•çš„ï¼Œæ‡’å¾—åšäº†</p>
</blockquote>
<h2 id="529-æ‰«é›·æ¸¸æˆ"><a href="#529-æ‰«é›·æ¸¸æˆ" class="headerlink" title="529. æ‰«é›·æ¸¸æˆ"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/minesweeper/">529. æ‰«é›·æ¸¸æˆ</a></h2><p>è®©æˆ‘ä»¬ä¸€èµ·æ¥ç©æ‰«é›·æ¸¸æˆï¼</p>
<p>ç»™å®šä¸€ä¸ªä»£è¡¨æ¸¸æˆæ¿çš„äºŒç»´å­—ç¬¦çŸ©é˜µã€‚ â€˜Mâ€™ ä»£è¡¨ä¸€ä¸ªæœªæŒ–å‡ºçš„åœ°é›·ï¼Œâ€™Eâ€™ ä»£è¡¨ä¸€ä¸ªæœªæŒ–å‡ºçš„ç©ºæ–¹å—ï¼Œâ€™Bâ€™ ä»£è¡¨æ²¡æœ‰ç›¸é‚»ï¼ˆä¸Šï¼Œä¸‹ï¼Œå·¦ï¼Œå³ï¼Œå’Œæ‰€æœ‰ 4 ä¸ªå¯¹è§’çº¿ï¼‰åœ°é›·çš„å·²æŒ–å‡ºçš„ç©ºç™½æ–¹å—ï¼Œæ•°å­—ï¼ˆâ€™1â€™ åˆ° â€˜8â€™ï¼‰è¡¨ç¤ºæœ‰å¤šå°‘åœ°é›·ä¸è¿™å—å·²æŒ–å‡ºçš„æ–¹å—ç›¸é‚»ï¼Œâ€™Xâ€™ åˆ™è¡¨ç¤ºä¸€ä¸ªå·²æŒ–å‡ºçš„åœ°é›·ã€‚</p>
<p>ç°åœ¨ç»™å‡ºåœ¨æ‰€æœ‰æœªæŒ–å‡ºçš„æ–¹å—ä¸­ï¼ˆâ€™Mâ€™æˆ–è€…â€™Eâ€™ï¼‰çš„ä¸‹ä¸€ä¸ªç‚¹å‡»ä½ç½®ï¼ˆè¡Œå’Œåˆ—ç´¢å¼•ï¼‰ï¼Œæ ¹æ®ä»¥ä¸‹è§„åˆ™ï¼Œè¿”å›ç›¸åº”ä½ç½®è¢«ç‚¹å‡»åå¯¹åº”çš„é¢æ¿ï¼š</p>
<ol>
<li>å¦‚æœä¸€ä¸ªåœ°é›·ï¼ˆâ€™Mâ€™ï¼‰è¢«æŒ–å‡ºï¼Œæ¸¸æˆå°±ç»“æŸäº†- æŠŠå®ƒæ”¹ä¸º â€˜Xâ€™ã€‚</li>
<li>å¦‚æœä¸€ä¸ªæ²¡æœ‰ç›¸é‚»åœ°é›·çš„ç©ºæ–¹å—ï¼ˆâ€™Eâ€™ï¼‰è¢«æŒ–å‡ºï¼Œä¿®æ”¹å®ƒä¸ºï¼ˆâ€™Bâ€™ï¼‰ï¼Œå¹¶ä¸”æ‰€æœ‰å’Œå…¶ç›¸é‚»çš„æ–¹å—éƒ½åº”è¯¥è¢«é€’å½’åœ°æ­éœ²ã€‚</li>
<li>å¦‚æœä¸€ä¸ªè‡³å°‘ä¸ä¸€ä¸ªåœ°é›·ç›¸é‚»çš„ç©ºæ–¹å—ï¼ˆâ€™Eâ€™ï¼‰è¢«æŒ–å‡ºï¼Œä¿®æ”¹å®ƒä¸ºæ•°å­—ï¼ˆâ€™1â€™åˆ°â€™8â€™ï¼‰ï¼Œè¡¨ç¤ºç›¸é‚»åœ°é›·çš„æ•°é‡ã€‚</li>
<li>å¦‚æœåœ¨æ­¤æ¬¡ç‚¹å‡»ä¸­ï¼Œè‹¥æ— æ›´å¤šæ–¹å—å¯è¢«æ­éœ²ï¼Œåˆ™è¿”å›é¢æ¿ã€‚</li>
</ol>
<p><strong>ç¤ºä¾‹ä¸€</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Input: </span><br><span class="line"></span><br><span class="line">[[<span class="string">&#x27;E&#x27;</span>, <span class="string">&#x27;E&#x27;</span>, <span class="string">&#x27;E&#x27;</span>, <span class="string">&#x27;E&#x27;</span>, <span class="string">&#x27;E&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;E&#x27;</span>, <span class="string">&#x27;E&#x27;</span>, <span class="string">&#x27;M&#x27;</span>, <span class="string">&#x27;E&#x27;</span>, <span class="string">&#x27;E&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;E&#x27;</span>, <span class="string">&#x27;E&#x27;</span>, <span class="string">&#x27;E&#x27;</span>, <span class="string">&#x27;E&#x27;</span>, <span class="string">&#x27;E&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;E&#x27;</span>, <span class="string">&#x27;E&#x27;</span>, <span class="string">&#x27;E&#x27;</span>, <span class="string">&#x27;E&#x27;</span>, <span class="string">&#x27;E&#x27;</span>]]</span><br><span class="line"></span><br><span class="line">Click : [<span class="number">3</span>,<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line">Output: </span><br><span class="line"></span><br><span class="line">[[<span class="string">&#x27;B&#x27;</span>, <span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;E&#x27;</span>, <span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;B&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;B&#x27;</span>, <span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;M&#x27;</span>, <span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;B&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;B&#x27;</span>, <span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;B&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;B&#x27;</span>, <span class="string">&#x27;B&#x27;</span>, <span class="string">&#x27;B&#x27;</span>, <span class="string">&#x27;B&#x27;</span>, <span class="string">&#x27;B&#x27;</span>]]</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>Explanation:</strong></p>
<p><img src="https://i.loli.net/2019/11/18/B26DWk8CrhPFtHI.png" alt="æ‰«é›·"></p>
<p><strong>ç¤ºä¾‹äºŒ</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Input: </span><br><span class="line"></span><br><span class="line">[[<span class="string">&#x27;B&#x27;</span>, <span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;E&#x27;</span>, <span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;B&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;B&#x27;</span>, <span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;M&#x27;</span>, <span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;B&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;B&#x27;</span>, <span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;B&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;B&#x27;</span>, <span class="string">&#x27;B&#x27;</span>, <span class="string">&#x27;B&#x27;</span>, <span class="string">&#x27;B&#x27;</span>, <span class="string">&#x27;B&#x27;</span>]]</span><br><span class="line"></span><br><span class="line">Click : [<span class="number">1</span>,<span class="number">2</span>]</span><br><span class="line"></span><br><span class="line">Output: </span><br><span class="line"></span><br><span class="line">[[<span class="string">&#x27;B&#x27;</span>, <span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;E&#x27;</span>, <span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;B&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;B&#x27;</span>, <span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;X&#x27;</span>, <span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;B&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;B&#x27;</span>, <span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;B&#x27;</span>],</span><br><span class="line"> [<span class="string">&#x27;B&#x27;</span>, <span class="string">&#x27;B&#x27;</span>, <span class="string">&#x27;B&#x27;</span>, <span class="string">&#x27;B&#x27;</span>, <span class="string">&#x27;B&#x27;</span>]]</span><br></pre></td></tr></table></figure>

<p><strong>Explanation:</strong></p>
<p><img src="https://s2.ax1x.com/2019/11/18/MyccWT.png" alt="æ‰«é›·"></p>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>æ ‡å‡†çš„ DFSï¼Œè¿˜æ˜¯æŒºæœ‰æ„æ€çš„ï¼Œå‘ 8 ä¸ªæ–¹å‘æ‰©å±•ï¼Œé‡åˆ°å‘¨å›´æœ‰åœ°é›·çš„å°±è®¡æ•°å¹¶ä¸”åœæ­¢ï¼Œä¼šç©æ‰«é›·å°±ä¼šåšğŸ˜‰</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="type">int</span>[][] direction=&#123;&#123;<span class="number">0</span>,<span class="number">1</span>&#125;,&#123;<span class="number">1</span>,<span class="number">0</span>&#125;,&#123;-<span class="number">1</span>,<span class="number">1</span>&#125;,&#123;<span class="number">1</span>,-<span class="number">1</span>&#125;,&#123;-<span class="number">1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">0</span>,-<span class="number">1</span>&#125;,&#123;-<span class="number">1</span>,-<span class="number">1</span>&#125;,&#123;<span class="number">1</span>,<span class="number">1</span>&#125;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">char</span>[][] updateBoard(<span class="type">char</span>[][] board, <span class="type">int</span>[] click) &#123;</span><br><span class="line">    <span class="type">int</span> x=click[<span class="number">0</span>];</span><br><span class="line">    <span class="type">int</span> y=click[<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">if</span> (board[x][y]==<span class="string">&#x27;M&#x27;</span>) &#123;</span><br><span class="line">        board[x][y]=<span class="string">&#x27;X&#x27;</span>;</span><br><span class="line">        <span class="keyword">return</span> board;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">boolean</span>[][] visit=<span class="keyword">new</span> <span class="title class_">boolean</span>[board.length][board[<span class="number">0</span>].length];</span><br><span class="line">    dfs(board,x,y,visit);</span><br><span class="line">    <span class="keyword">return</span> board;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">dfs</span><span class="params">(<span class="type">char</span>[][] board,<span class="type">int</span> x,<span class="type">int</span> y,<span class="type">boolean</span>[][] visit)</span>&#123;</span><br><span class="line">    visit[x][y]=<span class="literal">true</span>;</span><br><span class="line">    <span class="type">int</span> count=getRoundBoom(board,x,y);</span><br><span class="line">    <span class="keyword">if</span>(count!=<span class="number">0</span>)&#123;</span><br><span class="line">        board[x][y]=(<span class="type">char</span>)(count+<span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    board[x][y]=<span class="string">&#x27;B&#x27;</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>;i&lt;<span class="number">8</span>;i++) &#123;</span><br><span class="line">        <span class="type">int</span> nx=x+direction[i][<span class="number">0</span>];</span><br><span class="line">        <span class="type">int</span> ny=y+direction[i][<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">if</span> (isValid(board,nx,ny) &amp;&amp; !visit[nx][ny] &amp;&amp; board[nx][ny]!=<span class="string">&#x27;M&#x27;</span>) &#123;</span><br><span class="line">            dfs(board,nx,ny,visit);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getRoundBoom</span><span class="params">(<span class="type">char</span>[][] board,<span class="type">int</span> x,<span class="type">int</span> y)</span>&#123;</span><br><span class="line">    <span class="type">int</span> count=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>;i&lt;<span class="number">8</span>;i++) &#123;</span><br><span class="line">        <span class="type">int</span> nx=x+direction[i][<span class="number">0</span>];</span><br><span class="line">        <span class="type">int</span> ny=y+direction[i][<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">if</span> (isValid(board,nx,ny) &amp;&amp; board[nx][ny]==<span class="string">&#x27;M&#x27;</span>) &#123;</span><br><span class="line">            count++;</span><br><span class="line">        &#125;   </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isValid</span><span class="params">(<span class="keyword">final</span> <span class="type">char</span>[][] board,<span class="type">int</span> x,<span class="type">int</span> y)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x&gt;=<span class="number">0</span> &amp;&amp; x&lt;board.length &amp;&amp; y&gt;=<span class="number">0</span> &amp;&amp; y&lt;board[<span class="number">0</span>].length;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="695-å²›å±¿çš„æœ€å¤§é¢ç§¯"><a href="#695-å²›å±¿çš„æœ€å¤§é¢ç§¯" class="headerlink" title="695. å²›å±¿çš„æœ€å¤§é¢ç§¯"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/max-area-of-island/">695. å²›å±¿çš„æœ€å¤§é¢ç§¯</a></h2><p>ç»™å®šä¸€ä¸ªåŒ…å«äº†ä¸€äº› 0 å’Œ 1 çš„éç©ºäºŒç»´æ•°ç»„ <code>grid</code> , ä¸€ä¸ª <code>å²›å±¿</code> æ˜¯ç”±å››ä¸ªæ–¹å‘ ï¼ˆæ°´å¹³æˆ–å‚ç›´ï¼‰ çš„ 1 ï¼ˆä»£è¡¨åœŸåœ°ï¼‰ æ„æˆçš„ç»„åˆã€‚ä½ å¯ä»¥å‡è®¾äºŒç»´çŸ©é˜µçš„å››ä¸ªè¾¹ç¼˜éƒ½è¢«æ°´åŒ…å›´ç€ã€‚</p>
<p>æ‰¾åˆ°ç»™å®šçš„äºŒç»´æ•°ç»„ä¸­æœ€å¤§çš„å²›å±¿é¢ç§¯ã€‚ï¼ˆå¦‚æœæ²¡æœ‰å²›å±¿ï¼Œåˆ™è¿”å›é¢ç§¯ä¸º 0)</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">[[<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>],</span><br><span class="line"> [<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>],</span><br><span class="line"> [<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>],</span><br><span class="line"> [<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>],</span><br><span class="line"> [<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>],</span><br><span class="line"> [<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>],</span><br><span class="line"> [<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>],</span><br><span class="line"> [<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>]]</span><br></pre></td></tr></table></figure>

<p>å¯¹äºä¸Šé¢è¿™ä¸ªç»™å®šçŸ©é˜µåº”è¿”å› 6ã€‚æ³¨æ„ç­”æ¡ˆä¸åº”è¯¥æ˜¯ 11ï¼Œå› ä¸ºå²›å±¿åªèƒ½åŒ…å«æ°´å¹³æˆ–å‚ç›´çš„å››ä¸ªæ–¹å‘çš„ <code>â€˜1â€™</code>ã€‚</p>
<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">[[<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>]]</span><br></pre></td></tr></table></figure>

<p>å¯¹äºä¸Šé¢è¿™ä¸ªç»™å®šçš„çŸ©é˜µï¼Œè¿”å› 0</p>
<p><strong>æ³¨æ„ï¼š</strong> ç»™å®šçš„çŸ©é˜µ grid çš„é•¿åº¦å’Œå®½åº¦éƒ½ä¸è¶…è¿‡ 50ã€‚</p>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>å’Œä¸Šé¢ <a href="#200-%E5%B2%9B%E5%B1%BF%E6%95%B0%E9%87%8F">200 é¢˜å²›å±¿çš„æ•°é‡</a>å¾ˆç±»ä¼¼ï¼Œä¸è¿‡è¿˜æ˜¯æœ‰æ‰€ä¸åŒï¼Œè¿™é‡Œè¦è®¡ç®—çš„æ˜¯æœ€å¤§çš„é¢ç§¯</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="type">int</span>[][] direction=&#123;&#123;<span class="number">0</span>,<span class="number">1</span>&#125;,&#123;<span class="number">0</span>,-<span class="number">1</span>&#125;,&#123;<span class="number">1</span>,<span class="number">0</span>&#125;,&#123;-<span class="number">1</span>,<span class="number">0</span>&#125;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">maxAreaOfIsland</span><span class="params">(<span class="type">int</span>[][] grid)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (grid==<span class="literal">null</span> || grid.length&lt;=<span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> max;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">boolean</span>[][] visit=<span class="keyword">new</span> <span class="title class_">boolean</span>[grid.length][grid[<span class="number">0</span>].length];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>;i&lt;grid.length;i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j=<span class="number">0</span>;j&lt;grid[<span class="number">0</span>].length;j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (grid[i][j]==<span class="number">1</span> &amp;&amp;!visit[i][j]) &#123;</span><br><span class="line">                <span class="type">int</span> t=dfs(grid,i,j,visit);</span><br><span class="line">                max=max&gt;t?max:t;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> max;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="type">int</span> max=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span>[][] grid,<span class="type">int</span> x,<span class="type">int</span> y,<span class="type">boolean</span>[][] visit)</span> &#123;</span><br><span class="line">    <span class="type">int</span> temp=<span class="number">1</span>;</span><br><span class="line">    visit[x][y]=<span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>;i&lt;direction.length;i++) &#123;</span><br><span class="line">        <span class="type">int</span> nx=x+direction[i][<span class="number">0</span>];</span><br><span class="line">        <span class="type">int</span> ny=y+direction[i][<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">if</span> (isValid(grid,nx,ny) &amp;&amp; grid[nx][ny]==<span class="number">1</span> &amp;&amp; !visit[nx][ny]) &#123;</span><br><span class="line">            <span class="comment">//å°† 4 ä¸ªæ–¹å‘çš„ç¬¦åˆæ¡ä»¶çš„æ•°é‡åŠ èµ·æ¥</span></span><br><span class="line">            temp+=dfs(grid,nx,ny,visit);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> temp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isValid</span><span class="params">(<span class="keyword">final</span> <span class="type">int</span>[][] grid,<span class="type">int</span> x,<span class="type">int</span> y)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x&gt;=<span class="number">0</span> &amp;&amp; x&lt;grid.length &amp;&amp; y&gt;=<span class="number">0</span> &amp;&amp; y&lt;grid[<span class="number">0</span>].length;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æœ€å¼€å§‹ç›´æ¥åœ¨ dfs å‡½æ•°é‡Œé¢ç”¨ count è®¡æ•°ï¼Œå±…ç„¶è¿˜è¿‡äº† 600 å¤šä¸ª caseâ€¦.. æƒŠäº†ï¼Œé‚£ç§åšæ³•å®Œå…¨æ˜¯é”™çš„ï¼Œè¯´å®è¯æœ‰ç‚¹ä¸å¤ªä¹ æƒ¯å†™æœ‰è¿”å›å€¼çš„é€’å½’</p>
<h2 id="547-æœ‹å‹åœˆ"><a href="#547-æœ‹å‹åœˆ" class="headerlink" title="547. æœ‹å‹åœˆ"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/friend-circles/">547. æœ‹å‹åœˆ</a></h2><p>ç­ä¸Šæœ‰ N åå­¦ç”Ÿã€‚å…¶ä¸­æœ‰äº›äººæ˜¯æœ‹å‹ï¼Œæœ‰äº›åˆ™ä¸æ˜¯ã€‚ä»–ä»¬çš„å‹è°Šå…·æœ‰æ˜¯ä¼ é€’æ€§ã€‚å¦‚æœå·²çŸ¥ A æ˜¯ B çš„æœ‹å‹ï¼ŒB æ˜¯ C çš„æœ‹å‹ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥è®¤ä¸º A ä¹Ÿæ˜¯ C çš„æœ‹å‹ã€‚æ‰€è°“çš„æœ‹å‹åœˆï¼Œæ˜¯æŒ‡æ‰€æœ‰æœ‹å‹çš„é›†åˆã€‚</p>
<p>ç»™å®šä¸€ä¸ª N * N çš„çŸ©é˜µ Mï¼Œè¡¨ç¤ºç­çº§ä¸­å­¦ç”Ÿä¹‹é—´çš„æœ‹å‹å…³ç³»ã€‚å¦‚æœ M[i] [j] = 1ï¼Œè¡¨ç¤ºå·²çŸ¥ç¬¬ i ä¸ªå’Œ j ä¸ªå­¦ç”Ÿäº’ä¸ºæœ‹å‹å…³ç³»ï¼Œå¦åˆ™ä¸ºä¸çŸ¥é“ã€‚ä½ å¿…é¡»è¾“å‡ºæ‰€æœ‰å­¦ç”Ÿä¸­çš„å·²çŸ¥çš„æœ‹å‹åœˆæ€»æ•°ã€‚</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š</span><br><span class="line">[[<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>],</span><br><span class="line"> [<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>],</span><br><span class="line"> [<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>]]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">2</span> </span><br><span class="line">è¯´æ˜ï¼šå·²çŸ¥å­¦ç”Ÿ <span class="number">0</span> å’Œå­¦ç”Ÿ <span class="number">1</span> äº’ä¸ºæœ‹å‹ï¼Œä»–ä»¬åœ¨ä¸€ä¸ªæœ‹å‹åœˆã€‚</span><br><span class="line">ç¬¬ <span class="number">2</span> ä¸ªå­¦ç”Ÿè‡ªå·±åœ¨ä¸€ä¸ªæœ‹å‹åœˆã€‚æ‰€ä»¥è¿”å› <span class="number">2</span>ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š</span><br><span class="line">[[<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>],</span><br><span class="line"> [<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>],</span><br><span class="line"> [<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>]]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">1</span></span><br><span class="line">è¯´æ˜ï¼šå·²çŸ¥å­¦ç”Ÿ <span class="number">0</span> å’Œå­¦ç”Ÿ <span class="number">1</span> äº’ä¸ºæœ‹å‹ï¼Œå­¦ç”Ÿ <span class="number">1</span> å’Œå­¦ç”Ÿ <span class="number">2</span> äº’ä¸ºæœ‹å‹ï¼Œæ‰€ä»¥å­¦ç”Ÿ <span class="number">0</span> å’Œå­¦ç”Ÿ <span class="number">2</span> ä¹Ÿæ˜¯æœ‹å‹ï¼Œæ‰€ä»¥ä»–ä»¬ä¸‰ä¸ªåœ¨ä¸€ä¸ªæœ‹å‹åœˆï¼Œè¿”å› <span class="number">1</span>ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„ï¼š</strong></p>
<ul>
<li>N åœ¨ [1,200] çš„èŒƒå›´å†…ã€‚</li>
<li>å¯¹äºæ‰€æœ‰å­¦ç”Ÿï¼Œæœ‰ M[i] [i] = 1ã€‚</li>
<li>å¦‚æœæœ‰ M[i] [j] = 1ï¼Œåˆ™æœ‰ M[j] [i] = 1ã€‚</li>
</ul>
<p><strong>è§£æ³•ä¸€</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">findCircleNum</span><span class="params">(<span class="type">int</span>[][] M)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (M==<span class="literal">null</span> || M.length&lt;=<span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">boolean</span>[] visit=<span class="keyword">new</span> <span class="title class_">boolean</span>[M.length];</span><br><span class="line">    <span class="type">int</span> count=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>;i&lt;M.length;i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!visit[i]) &#123;</span><br><span class="line">            dfs(M,visit,i);</span><br><span class="line">            count++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä¸€å…± m.length ä¸ªäºº</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span>[][] M,<span class="type">boolean</span>[] visit,<span class="type">int</span> index)</span> &#123;</span><br><span class="line">    <span class="comment">//æ ‡è®° index å·å­¦ç”Ÿå·²ç»è®¿é—®è¿‡</span></span><br><span class="line">    visit[index]=<span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>;i&lt;M.length;i++) &#123;</span><br><span class="line">        <span class="comment">//index å’Œ i æ˜¯å¥½æœ‹å‹</span></span><br><span class="line">        <span class="keyword">if</span> (M[index][i]==<span class="number">1</span> &amp;&amp; !visit[i]) &#123;</span><br><span class="line">            <span class="comment">//é€’å½’æ ‡è®° i çš„å¥½æœ‹å‹ï¼Œå½¢æˆæœ‹å‹åœˆ</span></span><br><span class="line">            dfs(M,visit,i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™é¢˜ä¸çŸ¥é“ä¸ºå•¥ï¼Œä¸€å¼€å§‹é¢˜ç›®æ²¡ææ˜ç™½ã€‚å»çº ç»“é‚£ä¸ªçŸ©é˜µå»äº†ï¼Œæ²¡ç†è§£å¥½é¢˜ç›®çš„æ„æ€ï¼Œå…¶å®è·Ÿé‚£ä¸ª N*N çš„çŸ©é˜µæ²¡å•¥å…³ç³»ï¼Œä¸»è¦æ˜¯ N ä¸ªäººï¼Œå¯¹æ¯ä¸ªäººè¿›è¡Œ dfs æ‰¾åˆ°ä¸ä»–ä»¬ç›¸å…³çš„äººï¼Œåšå¥½ç»Ÿè®¡å°± okï¼Œå’Œä¸Šé¢çš„ 200 é¢˜ä¹Ÿå¾ˆç±»ä¼¼</p>
<h2 id="1219-é»„é‡‘çŸ¿å·¥"><a href="#1219-é»„é‡‘çŸ¿å·¥" class="headerlink" title="1219. é»„é‡‘çŸ¿å·¥"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/path-with-maximum-gold/">1219. é»„é‡‘çŸ¿å·¥</a></h2><p>ä½ è¦å¼€å‘ä¸€åº§é‡‘çŸ¿ï¼Œåœ°è´¨å‹˜æµ‹å­¦å®¶å·²ç»æ¢æ˜äº†è¿™åº§é‡‘çŸ¿ä¸­çš„èµ„æºåˆ†å¸ƒï¼Œå¹¶ç”¨å¤§å°ä¸º m * n çš„ç½‘æ ¼ grid è¿›è¡Œäº†æ ‡æ³¨ã€‚æ¯ä¸ªå•å…ƒæ ¼ä¸­çš„æ•´æ•°å°±è¡¨ç¤ºè¿™ä¸€å•å…ƒæ ¼ä¸­çš„é»„é‡‘æ•°é‡ï¼›å¦‚æœè¯¥å•å…ƒæ ¼æ˜¯ç©ºçš„ï¼Œé‚£ä¹ˆå°±æ˜¯ 0ã€‚</p>
<p>ä¸ºäº†ä½¿æ”¶ç›Šæœ€å¤§åŒ–ï¼ŒçŸ¿å·¥éœ€è¦æŒ‰ä»¥ä¸‹è§„åˆ™æ¥å¼€é‡‡é»„é‡‘ï¼š</p>
<ul>
<li>æ¯å½“çŸ¿å·¥è¿›å…¥ä¸€ä¸ªå•å…ƒï¼Œå°±ä¼šæ”¶é›†è¯¥å•å…ƒæ ¼ä¸­çš„æ‰€æœ‰é»„é‡‘ã€‚</li>
<li>çŸ¿å·¥æ¯æ¬¡å¯ä»¥ä»å½“å‰ä½ç½®å‘ä¸Šä¸‹å·¦å³å››ä¸ªæ–¹å‘èµ°ã€‚</li>
<li>æ¯ä¸ªå•å…ƒæ ¼<strong>åªèƒ½è¢«å¼€é‡‡ï¼ˆè¿›å…¥ï¼‰ä¸€æ¬¡</strong>ã€‚</li>
<li><strong>ä¸å¾—å¼€é‡‡</strong>ï¼ˆè¿›å…¥ï¼‰é»„é‡‘æ•°ç›®ä¸º 0 çš„å•å…ƒæ ¼ã€‚</li>
<li>çŸ¿å·¥å¯ä»¥ä»ç½‘æ ¼ä¸­ <strong>ä»»æ„ä¸€ä¸ª</strong> æœ‰é»„é‡‘çš„å•å…ƒæ ¼å‡ºå‘æˆ–è€…æ˜¯åœæ­¢ã€‚  </li>
</ul>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šgrid = [[<span class="number">0</span>,<span class="number">6</span>,<span class="number">0</span>],[<span class="number">5</span>,<span class="number">8</span>,<span class="number">7</span>],[<span class="number">0</span>,<span class="number">9</span>,<span class="number">0</span>]]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">24</span></span><br><span class="line">è§£é‡Šï¼š</span><br><span class="line">[[<span class="number">0</span>,<span class="number">6</span>,<span class="number">0</span>],</span><br><span class="line"> [<span class="number">5</span>,<span class="number">8</span>,<span class="number">7</span>],</span><br><span class="line"> [<span class="number">0</span>,<span class="number">9</span>,<span class="number">0</span>]]</span><br><span class="line">ä¸€ç§æ”¶é›†æœ€å¤šé»„é‡‘çš„è·¯çº¿æ˜¯ï¼š<span class="number">9</span> -&gt; <span class="number">8</span> -&gt; <span class="number">7</span>ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šgrid = [[<span class="number">1</span>,<span class="number">0</span>,<span class="number">7</span>],[<span class="number">2</span>,<span class="number">0</span>,<span class="number">6</span>],[<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>],[<span class="number">0</span>,<span class="number">3</span>,<span class="number">0</span>],[<span class="number">9</span>,<span class="number">0</span>,<span class="number">20</span>]]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">28</span></span><br><span class="line">è§£é‡Šï¼š</span><br><span class="line">[[<span class="number">1</span>,<span class="number">0</span>,<span class="number">7</span>],</span><br><span class="line"> [<span class="number">2</span>,<span class="number">0</span>,<span class="number">6</span>],</span><br><span class="line"> [<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>],</span><br><span class="line"> [<span class="number">0</span>,<span class="number">3</span>,<span class="number">0</span>],</span><br><span class="line"> [<span class="number">9</span>,<span class="number">0</span>,<span class="number">20</span>]]</span><br><span class="line">ä¸€ç§æ”¶é›†æœ€å¤šé»„é‡‘çš„è·¯çº¿æ˜¯ï¼š<span class="number">1</span> -&gt; <span class="number">2</span> -&gt; <span class="number">3</span> -&gt; <span class="number">4</span> -&gt; <span class="number">5</span> -&gt; <span class="number">6</span> -&gt; <span class="number">7</span>ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li>-<code>1 &lt;= grid.length, grid[i].length &lt;= 15</code></li>
<li><code>0 &lt;= grid[i][j] &lt;= 100</code></li>
<li>æœ€å¤š 25 ä¸ªå•å…ƒæ ¼ä¸­æœ‰é»„é‡‘ã€‚ </li>
</ul>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>è¿™é¢˜è¿˜æ˜¯æŒºæœ‰æ„æ€çš„ï¼Œå¡«è¡¥äº†æˆ‘ä¸€ç‚¹äºŒç»´å¹³é¢å›æº¯çš„ç©ºç¼ºï¼Œå…¶å®ä¹Ÿå¾ˆç®€å•ï¼ˆæ”¹äº†å¥½å‡ ä¸ªå°æ—¶è¿˜å¥½æ„æ€è¯´è¿™ç§è¯ğŸ˜‚ï¼‰</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="type">int</span>[][] direction=&#123;&#123;<span class="number">0</span>,<span class="number">1</span>&#125;,&#123;<span class="number">1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">0</span>,-<span class="number">1</span>&#125;,&#123;-<span class="number">1</span>,<span class="number">0</span>&#125;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getMaximumGold</span><span class="params">(<span class="type">int</span>[][] grid)</span> &#123;</span><br><span class="line">    <span class="type">int</span> max=<span class="number">0</span>;</span><br><span class="line">    <span class="type">boolean</span>[][] visit=<span class="keyword">new</span> <span class="title class_">boolean</span>[grid.length][grid[<span class="number">0</span>].length];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>;i&lt;grid.length;i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j=<span class="number">0</span>;j&lt;grid[<span class="number">0</span>].length;j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (grid[i][j]&gt;<span class="number">0</span>) &#123;</span><br><span class="line">                max=Math.max(dfs(grid,i,j,visit),max);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> max;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ±‚å‡ºä» x,y å¼€å§‹æ‰€èƒ½è·å¾—çš„æœ€å¤§çš„æ”¶ç›Šï¼Œè®°å¾—å›æº¯çŠ¶æ€ï¼Œåé¢çš„èŠ‚ç‚¹è¿˜éœ€è¦éå†</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span>[][] grid,<span class="type">int</span> x,<span class="type">int</span> y,<span class="type">boolean</span>[][] visit)</span>&#123;</span><br><span class="line">    <span class="type">int</span> maxGlod=grid[x][y]; <span class="comment">//ä¸€å¼€å§‹è¿™é‡Œå†™çš„ 0... æ’äº†åŠå¤©çš„é”™</span></span><br><span class="line">    visit[x][y]=<span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>;i&lt;direction.length;i++) &#123;</span><br><span class="line">        <span class="type">int</span> nx=x+direction[i][<span class="number">0</span>];</span><br><span class="line">        <span class="type">int</span> ny=y+direction[i][<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">if</span> (isValid(grid,nx,ny) &amp;&amp; !visit[nx][ny] &amp;&amp; grid[nx][ny]&gt;<span class="number">0</span>) &#123;</span><br><span class="line">            <span class="comment">//æ±‚å‘ 4 ä¸ªæ–¹å‘æ‰©å±•çš„æœ€å¤§å€¼</span></span><br><span class="line">            maxGlod=Math.max(dfs(grid,nx,ny,visit)+grid[x][y],maxGlod);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    visit[x][y]=<span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">return</span> maxGlod;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isValid</span><span class="params">(<span class="keyword">final</span> <span class="type">int</span>[][] grid,<span class="type">int</span> x,<span class="type">int</span> y)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x&gt;=<span class="number">0</span> &amp;&amp; x&lt;grid.length &amp;&amp; y&gt;=<span class="number">0</span> &amp;&amp; y&lt;grid[<span class="number">0</span>].length;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ€è·¯å…¶å®ä¹Ÿå¾ˆç®€å•ï¼Œå¯¹æ¯ä¸ªæœ‰é‡‘çŸ¿çš„ç‚¹è¿›è¡Œ dfs è®¡ç®—è·¯å¾„ä¸Šçš„é‡‘çŸ¿å’Œå°± ok äº†ï¼Œä½†æ˜¯è¿™é¢˜æœ‰ä¸€ä¸ªå¾ˆå…³é”®çš„æ¡ä»¶ï¼Œä¸èƒ½å›å¤´ï¼Œä¸‹è¿‡çš„é‡‘çŸ¿æ˜¯ä¸èƒ½ç¬¬äºŒæ¬¡å†è¿›å…¥çš„ï¼Œä¸ç„¶è¿™é¢˜å°±å’Œå‰é¢çš„ [695. å²›å±¿æœ€å¤§é¢ç§¯](##695. å²›å±¿çš„æœ€å¤§é¢ç§¯)ä¸€æ ·äº†ï¼Œæ‰€ä»¥å¾ˆæ˜¾ç„¶è¿™é¢˜æ˜¯éœ€è¦çŠ¶æ€çš„å›æº¯çš„ï¼Œè®¿é—®è¿‡çš„èŠ‚ç‚¹ï¼Œåé¢çš„èŠ‚ç‚¹è¿˜æ˜¯å¯èƒ½éœ€è¦éå†çš„ï¼Œæœ€å¼€å§‹å†™çš„ä¸€ä¸ª bug å°±æ˜¯ä»£ç ä¸­æåˆ°çš„ï¼Œé‚£é‡Œä¸€å¼€å§‹å†™çš„ 0â€¦ ç„¶åæ’é”™æ’äº†å¥½é•¿æ—¶é—´ã€‚èœå•Š</p>
<h2 id="é¢è¯•é¢˜-13-æœºå™¨äººçš„è¿åŠ¨èŒƒå›´"><a href="#é¢è¯•é¢˜-13-æœºå™¨äººçš„è¿åŠ¨èŒƒå›´" class="headerlink" title="é¢è¯•é¢˜ 13. æœºå™¨äººçš„è¿åŠ¨èŒƒå›´"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/ji-qi-ren-de-yun-dong-fan-wei-lcof/">é¢è¯•é¢˜ 13. æœºå™¨äººçš„è¿åŠ¨èŒƒå›´</a></h2><p>åœ°ä¸Šæœ‰ä¸€ä¸ª m è¡Œ n åˆ—çš„æ–¹æ ¼ï¼Œä»åæ ‡ [0,0] åˆ°åæ ‡ [m-1,n-1] ã€‚ä¸€ä¸ªæœºå™¨äººä»åæ ‡ [0, 0] çš„æ ¼å­å¼€å§‹ç§»åŠ¨ï¼Œå®ƒæ¯æ¬¡å¯ä»¥å‘å·¦ã€å³ã€ä¸Šã€ä¸‹ç§»åŠ¨ä¸€æ ¼ï¼ˆä¸èƒ½ç§»åŠ¨åˆ°æ–¹æ ¼å¤–ï¼‰ï¼Œä¹Ÿä¸èƒ½è¿›å…¥è¡Œåæ ‡å’Œåˆ—åæ ‡çš„æ•°ä½ä¹‹å’Œå¤§äº k çš„æ ¼å­ã€‚ä¾‹å¦‚ï¼Œå½“ k ä¸º 18 æ—¶ï¼Œæœºå™¨äººèƒ½å¤Ÿè¿›å…¥æ–¹æ ¼ [35, 37] ï¼Œå› ä¸º 3+5+3+7=18ã€‚ä½†å®ƒä¸èƒ½è¿›å…¥æ–¹æ ¼ [35, 38]ï¼Œå› ä¸º 3+5+3+8=19ã€‚è¯·é—®è¯¥æœºå™¨äººèƒ½å¤Ÿåˆ°è¾¾å¤šå°‘ä¸ªæ ¼å­ï¼Ÿ</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šm = <span class="number">2</span>, n = <span class="number">3</span>, k = <span class="number">1</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">3</span></span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šm = <span class="number">3</span>, n = <span class="number">1</span>, k = <span class="number">0</span></span><br><span class="line">è¾“å‡ºï¼š<span class="number">1</span></span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li><code>1 &lt;= n,m &lt;= 100</code></li>
<li><code>0 &lt;= k &lt;= 20</code></li>
</ul>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>ä¸€å¼€å§‹æ²¡è®¤çœŸçœ‹ä¾‹å­ï¼Œä»¥ä¸ºæ˜¯æ±‚ä¸èƒ½å›å¤´ä¸€æ¬¡èƒ½èµ°çš„æœ€å¤šçš„æ ¼å­ï¼ŒåŸåŸºç¡€ä¸Šç¨å¾®æ”¹ä¸€ä¸‹å°±å¯ä»¥äº†</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="type">int</span>[][] direction=&#123;&#123;<span class="number">1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">0</span>,<span class="number">1</span>&#125;,&#123;<span class="number">0</span>,-<span class="number">1</span>&#125;,&#123;-<span class="number">1</span>,<span class="number">0</span>&#125;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">movingCount</span><span class="params">(<span class="type">int</span> m, <span class="type">int</span> n, <span class="type">int</span> k)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> dfs(m,n,<span class="number">0</span>,<span class="number">0</span>,k,<span class="keyword">new</span> <span class="title class_">boolean</span>[m][n]);   </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span> m,<span class="type">int</span> n,<span class="type">int</span> x,<span class="type">int</span> y,<span class="type">int</span> k,<span class="type">boolean</span>[][] visit)</span>&#123;</span><br><span class="line">    visit[x][y]=<span class="literal">true</span>;</span><br><span class="line">    <span class="type">int</span> res=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>;i&lt;direction.length;i++) &#123;</span><br><span class="line">        <span class="type">int</span> nx=x+direction[i][<span class="number">0</span>];</span><br><span class="line">        <span class="type">int</span> ny=y+direction[i][<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">if</span>(valid(m,n,nx,ny,k) &amp;&amp; !visit[nx][ny])&#123;</span><br><span class="line">            <span class="comment">//ä»¥ä¸ºæ˜¯æ±‚æœ€é•¿çš„è·ç¦»ã€‚....</span></span><br><span class="line">            <span class="comment">//res=Math.max(dfs(m,n,nx,ny,k,visit)+1,res);</span></span><br><span class="line">            res+=dfs(m,n,nx,ny,k,visit);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//visit[x][y]=false;</span></span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">valid</span><span class="params">(<span class="type">int</span> m,<span class="type">int</span> n,<span class="type">int</span> x,<span class="type">int</span> y,<span class="type">int</span> k)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(x&lt;<span class="number">0</span> || x&gt;=m || y&lt;<span class="number">0</span> || y&gt;=n)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> res=<span class="number">0</span>;</span><br><span class="line">    <span class="comment">//35 37</span></span><br><span class="line">    <span class="keyword">while</span>(x!=<span class="number">0</span>)&#123;</span><br><span class="line">        res+=(x%<span class="number">10</span>);</span><br><span class="line">        x/=<span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(y!=<span class="number">0</span>)&#123;</span><br><span class="line">        res+=(y%<span class="number">10</span>);</span><br><span class="line">        y/=<span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res&lt;=k;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="1020-é£åœ°çš„æ•°é‡"><a href="#1020-é£åœ°çš„æ•°é‡" class="headerlink" title="1020. é£åœ°çš„æ•°é‡"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/number-of-enclaves/">1020. é£åœ°çš„æ•°é‡</a></h2><p>ç»™å‡ºä¸€ä¸ªäºŒç»´æ•°ç»„ <code>A</code>ï¼Œæ¯ä¸ªå•å…ƒæ ¼ä¸º 0ï¼ˆä»£è¡¨æµ·ï¼‰æˆ– 1ï¼ˆä»£è¡¨é™†åœ°ï¼‰ã€‚</p>
<p>ç§»åŠ¨æ˜¯æŒ‡åœ¨é™†åœ°ä¸Šä»ä¸€ä¸ªåœ°æ–¹èµ°åˆ°å¦ä¸€ä¸ªåœ°æ–¹ï¼ˆæœå››ä¸ªæ–¹å‘ä¹‹ä¸€ï¼‰æˆ–ç¦»å¼€ç½‘æ ¼çš„è¾¹ç•Œã€‚</p>
<p>è¿”å›ç½‘æ ¼ä¸­<strong>æ— æ³•</strong>åœ¨ä»»æ„æ¬¡æ•°çš„ç§»åŠ¨ä¸­ç¦»å¼€ç½‘æ ¼è¾¹ç•Œçš„é™†åœ°å•å…ƒæ ¼çš„æ•°é‡ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š[[<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>],[<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>],[<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>],[<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>]]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">3</span></span><br><span class="line">è§£é‡Šï¼š </span><br><span class="line">æœ‰ä¸‰ä¸ª <span class="number">1</span> è¢« <span class="number">0</span> åŒ…å›´ã€‚ä¸€ä¸ª <span class="number">1</span> æ²¡æœ‰è¢«åŒ…å›´ï¼Œå› ä¸ºå®ƒåœ¨è¾¹ç•Œä¸Šã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š[[<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>],[<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>],[<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>],[<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>]]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">0</span></span><br><span class="line">è§£é‡Šï¼š</span><br><span class="line">æ‰€æœ‰ <span class="number">1</span> éƒ½åœ¨è¾¹ç•Œä¸Šæˆ–å¯ä»¥åˆ°è¾¾è¾¹ç•Œã€‚</span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ol>
<li><code>1 &lt;= A.length &lt;= 500</code></li>
<li><code>1 &lt;= A[i].length &lt;= 500</code></li>
<li><code>0 &lt;= A[i][j] &lt;= 1</code></li>
<li>æ‰€æœ‰è¡Œçš„å¤§å°éƒ½ç›¸åŒ</li>
</ol>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>dfs æœç´¢å°±å®Œäº‹å„¿äº†ï¼Œæ°´é¢˜</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//DFS</span></span><br><span class="line"><span class="type">int</span>[][] dir=&#123;&#123;<span class="number">1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">0</span>,<span class="number">1</span>&#125;,&#123;-<span class="number">1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">0</span>,-<span class="number">1</span>&#125;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">numEnclaves</span><span class="params">(<span class="type">int</span>[][] A)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span>(A==<span class="literal">null</span> || A.length&lt;=<span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> N=A.length;</span><br><span class="line">    <span class="type">int</span> M=A[<span class="number">0</span>].length;</span><br><span class="line">    <span class="type">boolean</span>[][] visit=<span class="keyword">new</span> <span class="title class_">boolean</span>[N][M];</span><br><span class="line">    <span class="type">int</span> a=<span class="number">0</span>,b=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(a&lt;N)&#123; <span class="comment">//å·¦å³è¾¹ç•Œ</span></span><br><span class="line">        <span class="keyword">if</span>(A[a][<span class="number">0</span>]==<span class="number">1</span> &amp;&amp; !visit[a][<span class="number">0</span>]) dfs(A,a,<span class="number">0</span>,visit);</span><br><span class="line">        <span class="keyword">if</span>(A[a][M-<span class="number">1</span>]==<span class="number">1</span> &amp;&amp; !visit[a][M-<span class="number">1</span>]) dfs(A,a,M-<span class="number">1</span>,visit);</span><br><span class="line">        a++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span>(b&lt;M)&#123; <span class="comment">//ä¸Šä¸‹è¾¹ç•Œ</span></span><br><span class="line">        <span class="keyword">if</span>(A[<span class="number">0</span>][b]==<span class="number">1</span>&amp;&amp; !visit[<span class="number">0</span>][b]) dfs(A,<span class="number">0</span>,b,visit);</span><br><span class="line">        <span class="keyword">if</span>(A[N-<span class="number">1</span>][b]==<span class="number">1</span>&amp;&amp; !visit[N-<span class="number">1</span>][b]) dfs(A,N-<span class="number">1</span>,b,visit);</span><br><span class="line">        b++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> res=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>;i&lt;N;i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j=<span class="number">0</span>;j&lt;M;j++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(A[i][j]==<span class="number">1</span> &amp;&amp; !visit[i][j])&#123;</span><br><span class="line">                res++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span>[][] A,<span class="type">int</span> x,<span class="type">int</span> y,<span class="type">boolean</span>[][] visit)</span>&#123;</span><br><span class="line">    visit[x][y]=<span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=<span class="number">0</span>;i&lt;dir.length;i++) &#123;</span><br><span class="line">        <span class="type">int</span> nx=x+dir[i][<span class="number">0</span>];</span><br><span class="line">        <span class="type">int</span> ny=y+dir[i][<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">if</span>(valid(A,nx,ny) &amp;&amp; !visit[nx][ny] &amp;&amp; A[nx][ny]==<span class="number">1</span>)&#123;</span><br><span class="line">            dfs(A,nx,ny,visit);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">valid</span><span class="params">(<span class="keyword">final</span> <span class="type">int</span>[][] A,<span class="type">int</span> x,<span class="type">int</span> y)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x&gt;=<span class="number">0</span> &amp;&amp; x&lt;A.length &amp;&amp; y&gt;=<span class="number">0</span> &amp;&amp; y&lt;A[<span class="number">0</span>].length;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¹¶æŸ¥é›†çš„è§£æ³•æ”¾åœ¨ <a href="http://imlgw.top/2020/02/02/bing-cha-ji/">å¹¶æŸ¥é›†ä¸“é¢˜</a> ä¸­</p>
<h2 id="934-æœ€çŸ­çš„æ¡¥"><a href="#934-æœ€çŸ­çš„æ¡¥" class="headerlink" title="934. æœ€çŸ­çš„æ¡¥"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/shortest-bridge/">934. æœ€çŸ­çš„æ¡¥</a></h2><p>åœ¨ç»™å®šçš„äºŒç»´äºŒè¿›åˆ¶æ•°ç»„ <code>A</code> ä¸­ï¼Œå­˜åœ¨ä¸¤åº§å²›ã€‚ï¼ˆå²›æ˜¯ç”±å››é¢ç›¸è¿çš„ <code>1</code> å½¢æˆçš„ä¸€ä¸ªæœ€å¤§ç»„ã€‚ï¼‰</p>
<p>ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥å°† <code>0</code> å˜ä¸º <code>1</code>ï¼Œä»¥ä½¿ä¸¤åº§å²›è¿æ¥èµ·æ¥ï¼Œå˜æˆä¸€åº§å²›ã€‚</p>
<p>è¿”å›å¿…é¡»ç¿»è½¬çš„ <code>0</code> çš„æœ€å°æ•°ç›®ã€‚ï¼ˆå¯ä»¥ä¿è¯ç­”æ¡ˆè‡³å°‘æ˜¯ 1ã€‚ï¼‰</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š[[<span class="number">0</span>,<span class="number">1</span>],[<span class="number">1</span>,<span class="number">0</span>]]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">1</span></span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š[[<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>],[<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>],[<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>]]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">2</span></span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š[[<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>],[<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>],[<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>],[<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>],[<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>]]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">1</span></span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ol>
<li><code>1 &lt;= A.length = A[0].length &lt;= 100</code></li>
<li><code>A[i][j] == 0</code> æˆ– <code>A[i][j] == 1</code></li>
</ol>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>è¿™é¢˜è¿˜æŒºæœ‰æ„æ€çš„ï¼Œdfs+bfs éƒ½è¦ç”¨ï¼Œå•çº¯çš„æ·±æœå’Œå¹¿æœå¾ˆéš¾æï¼Œå…ˆ dfs ç»™ä¸€ä¸ªå²›åšæ ‡è®°ï¼Œç„¶åå¤šæº bfs æ‰¾è·ç¦»æœ€è¿‘çš„å¦ä¸€ä¸ªå²›</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span>[] dir = &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, -<span class="number">1</span>, <span class="number">0</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">shortestBridge</span><span class="params">(<span class="type">int</span>[][] A)</span> &#123;</span><br><span class="line">    <span class="type">boolean</span>[][] mark = <span class="keyword">new</span> <span class="title class_">boolean</span>[A.length][A[<span class="number">0</span>].length];</span><br><span class="line">    lable:</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; A.length; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; A[<span class="number">0</span>].length; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (A[i][j] == <span class="number">1</span>) &#123;</span><br><span class="line">                dfs(A, i, j, mark);</span><br><span class="line">                <span class="keyword">break</span> lable;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    Queue&lt;Pair&gt; queue = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; A.length; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; A[<span class="number">0</span>].length; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (A[i][j] == <span class="number">1</span> &amp;&amp; mark[i][j]) &#123;</span><br><span class="line">                queue.add(<span class="keyword">new</span> <span class="title class_">Pair</span>(i, j, <span class="number">0</span>));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (!queue.isEmpty()) &#123;</span><br><span class="line">        <span class="type">Pair</span> <span class="variable">pair</span> <span class="operator">=</span> queue.poll();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">4</span>; i++) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">nx</span> <span class="operator">=</span> pair.x + dir[i];</span><br><span class="line">            <span class="type">int</span> <span class="variable">ny</span> <span class="operator">=</span> pair.y + dir[i + <span class="number">1</span>];</span><br><span class="line">            <span class="keyword">if</span> (valid(A, nx, ny) &amp;&amp; !mark[nx][ny]) &#123;</span><br><span class="line">                <span class="keyword">if</span> (A[nx][ny] == <span class="number">1</span>) &#123;</span><br><span class="line">                    <span class="keyword">return</span> pair.step;</span><br><span class="line">                &#125;</span><br><span class="line">                mark[nx][ny] = <span class="literal">true</span>;</span><br><span class="line">                queue.add(<span class="keyword">new</span> <span class="title class_">Pair</span>(nx, ny, pair.step + <span class="number">1</span>));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span>[][] A, <span class="type">int</span> x, <span class="type">int</span> y, <span class="type">boolean</span>[][] mark)</span> &#123;</span><br><span class="line">    mark[x][y] = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">4</span>; i++) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">nx</span> <span class="operator">=</span> x + dir[i];</span><br><span class="line">        <span class="type">int</span> <span class="variable">ny</span> <span class="operator">=</span> y + dir[i + <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">if</span> (valid(A, nx, ny) &amp;&amp; A[nx][ny] == <span class="number">1</span> &amp;&amp; !mark[nx][ny]) &#123;</span><br><span class="line">            dfs(A, nx, ny, mark);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">valid</span><span class="params">(<span class="type">int</span>[][] A, <span class="type">int</span> x, <span class="type">int</span> y)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> x &gt;= <span class="number">0</span> &amp;&amp; x &lt; A.length &amp;&amp; y &gt;= <span class="number">0</span> &amp;&amp; y &lt; A[<span class="number">0</span>].length;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Pair</span> &#123;</span><br><span class="line">    <span class="type">int</span> x, y;</span><br><span class="line">    <span class="type">int</span> step;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Pair</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y, <span class="type">int</span> step)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.x = x;</span><br><span class="line">        <span class="built_in">this</span>.y = y;</span><br><span class="line">        <span class="built_in">this</span>.step = step;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="733-å›¾åƒæ¸²æŸ“"><a href="#733-å›¾åƒæ¸²æŸ“" class="headerlink" title="733. å›¾åƒæ¸²æŸ“"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/flood-fill/">733. å›¾åƒæ¸²æŸ“</a></h2><p>Difficulty: <strong>ç®€å•</strong></p>
<p>æœ‰ä¸€å¹…ä»¥äºŒç»´æ•´æ•°æ•°ç»„è¡¨ç¤ºçš„å›¾ç”»ï¼Œæ¯ä¸€ä¸ªæ•´æ•°è¡¨ç¤ºè¯¥å›¾ç”»çš„åƒç´ å€¼å¤§å°ï¼Œæ•°å€¼åœ¨ 0 åˆ° 65535 ä¹‹é—´ã€‚</p>
<p>ç»™ä½ ä¸€ä¸ªåæ ‡Â <code>(sr, sc)</code>Â è¡¨ç¤ºå›¾åƒæ¸²æŸ“å¼€å§‹çš„åƒç´ å€¼ï¼ˆè¡Œ ï¼Œåˆ—ï¼‰å’Œä¸€ä¸ªæ–°çš„é¢œè‰²å€¼Â <code>newColor</code>ï¼Œè®©ä½ é‡æ–°ä¸Šè‰²è¿™å¹…å›¾åƒã€‚</p>
<p>ä¸ºäº†å®Œæˆä¸Šè‰²å·¥ä½œï¼Œä»åˆå§‹åæ ‡å¼€å§‹ï¼Œè®°å½•åˆå§‹åæ ‡çš„ä¸Šä¸‹å·¦å³å››ä¸ªæ–¹å‘ä¸Šåƒç´ å€¼ä¸åˆå§‹åæ ‡ç›¸åŒçš„ç›¸è¿åƒç´ ç‚¹ï¼Œæ¥ç€å†è®°å½•è¿™å››ä¸ªæ–¹å‘ä¸Šç¬¦åˆæ¡ä»¶çš„åƒç´ ç‚¹ä¸ä»–ä»¬å¯¹åº”å››ä¸ªæ–¹å‘ä¸Šåƒç´ å€¼ä¸åˆå§‹åæ ‡ç›¸åŒçš„ç›¸è¿åƒç´ ç‚¹ï¼Œâ€¦â€¦ï¼Œé‡å¤è¯¥è¿‡ç¨‹ã€‚å°†æ‰€æœ‰æœ‰è®°å½•çš„åƒç´ ç‚¹çš„é¢œè‰²å€¼æ”¹ä¸ºæ–°çš„é¢œè‰²å€¼ã€‚</p>
<p>æœ€åè¿”å›ç»è¿‡ä¸Šè‰²æ¸²æŸ“åçš„å›¾åƒã€‚</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š</span><br><span class="line">image = [[<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>],[<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>],[<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>]]</span><br><span class="line">sr = <span class="number">1</span>, sc = <span class="number">1</span>, newColor = <span class="number">2</span></span><br><span class="line">è¾“å‡ºï¼š[[<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>],[<span class="number">2</span>,<span class="number">2</span>,<span class="number">0</span>],[<span class="number">2</span>,<span class="number">0</span>,<span class="number">1</span>]]</span><br><span class="line">è§£æï¼š</span><br><span class="line">åœ¨å›¾åƒçš„æ­£ä¸­é—´ï¼Œï¼ˆåæ ‡ (sr,sc)=(<span class="number">1</span>,<span class="number">1</span>)),</span><br><span class="line">åœ¨è·¯å¾„ä¸Šæ‰€æœ‰ç¬¦åˆæ¡ä»¶çš„åƒç´ ç‚¹çš„é¢œè‰²éƒ½è¢«æ›´æ”¹æˆ <span class="number">2</span>ã€‚</span><br><span class="line">æ³¨æ„ï¼Œå³ä¸‹è§’çš„åƒç´ æ²¡æœ‰æ›´æ”¹ä¸º <span class="number">2</span>ï¼Œ</span><br><span class="line">å› ä¸ºå®ƒä¸æ˜¯åœ¨ä¸Šä¸‹å·¦å³å››ä¸ªæ–¹å‘ä¸Šä¸åˆå§‹ç‚¹ç›¸è¿çš„åƒç´ ç‚¹ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„ï¼š</strong></p>
<ul>
<li>  <code>image</code> å’ŒÂ <code>image[0]</code>Â çš„é•¿åº¦åœ¨èŒƒå›´Â <code>[1, 50]</code> å†…ã€‚</li>
<li>  ç»™å‡ºçš„åˆå§‹ç‚¹å°†æ»¡è¶³Â <code>0 &lt;= sr &lt; image.length</code> å’ŒÂ <code>0 &lt;= sc &lt; image[0].length</code>ã€‚</li>
<li>  <code>image[i][j]</code> å’ŒÂ <code>newColor</code>Â è¡¨ç¤ºçš„é¢œè‰²å€¼åœ¨èŒƒå›´Â <code>[0, 65535]</code>å†…ã€‚</li>
</ul>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>ç»å…¸æœç´¢ï¼Œæ²¡å•¥å¥½è¯´çš„</p>
<figure class="highlight golang"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">floodFill</span><span class="params">(image [][]<span class="type">int</span>, sr <span class="type">int</span>, sc <span class="type">int</span>, newColor <span class="type">int</span>)</span></span> [][]<span class="type">int</span> &#123;</span><br><span class="line"> Â  Â <span class="keyword">var</span> m = <span class="built_in">len</span>(image)</span><br><span class="line"> Â  Â <span class="keyword">var</span> n = <span class="built_in">len</span>(image[<span class="number">0</span>])</span><br><span class="line"> Â  Â <span class="keyword">var</span> dir = []<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">0</span>, <span class="number">-1</span>, <span class="number">0</span>, <span class="number">1</span>&#125;</span><br><span class="line"> Â  Â <span class="keyword">var</span> visit = <span class="built_in">make</span>([][]<span class="type">bool</span>, m)</span><br><span class="line"> Â  Â <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; m; i++ &#123;</span><br><span class="line"> Â  Â  Â  Â visit[i] = <span class="built_in">make</span>([]<span class="type">bool</span>, n)</span><br><span class="line"> Â   &#125;</span><br><span class="line"> Â  Â <span class="keyword">var</span> src = image[sr][sc]</span><br><span class="line"> Â  Â <span class="keyword">var</span> valid = <span class="function"><span class="keyword">func</span><span class="params">(x <span class="type">int</span>, y <span class="type">int</span>)</span></span> <span class="type">bool</span> &#123;</span><br><span class="line"> Â  Â  Â  Â <span class="keyword">return</span> x &gt;= <span class="number">0</span> &amp;&amp; x &lt; m &amp;&amp; y &gt;= <span class="number">0</span> &amp;&amp; y &lt; n</span><br><span class="line"> Â   &#125;</span><br><span class="line"> Â  Â <span class="keyword">var</span> dfs <span class="function"><span class="keyword">func</span><span class="params">(x <span class="type">int</span>, y <span class="type">int</span>)</span></span></span><br><span class="line"> Â  Â dfs = <span class="function"><span class="keyword">func</span><span class="params">(x <span class="type">int</span>, y <span class="type">int</span>)</span></span> &#123;</span><br><span class="line"> Â  Â  Â  Â visit[x][y] = <span class="literal">true</span></span><br><span class="line"> Â  Â  Â  Â image[x][y] = newColor</span><br><span class="line"> Â  Â  Â  Â <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">4</span>; i++ &#123;</span><br><span class="line"> Â  Â  Â  Â  Â  Â <span class="keyword">var</span> nx = x + dir[i]</span><br><span class="line"> Â  Â  Â  Â  Â  Â <span class="keyword">var</span> ny = y + dir[i+<span class="number">1</span>]</span><br><span class="line"> Â  Â  Â  Â  Â  Â <span class="keyword">if</span> valid(nx, ny) &amp;&amp; !visit[nx][ny] &amp;&amp; image[nx][ny] == src &#123;</span><br><span class="line"> Â  Â  Â  Â  Â  Â  Â  Â dfs(nx, ny)</span><br><span class="line"> Â  Â  Â  Â  Â   &#125; </span><br><span class="line"> Â  Â  Â   &#125;</span><br><span class="line"> Â   &#125;</span><br><span class="line"> Â  Â dfs(sr, sc)</span><br><span class="line"> Â  Â <span class="keyword">return</span> image</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>é€šè¿‡æŸ“è‰²çš„æƒ…å†µåˆ¤æ–­æ˜¯å¦éå†è¿‡èŠ‚ç‚¹ï¼ŒèŠ‚çœ visit æ•°ç»„</p>
<figure class="highlight golang"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">floodFill</span><span class="params">(image [][]<span class="type">int</span>, sr <span class="type">int</span>, sc <span class="type">int</span>, newColor <span class="type">int</span>)</span></span> [][]<span class="type">int</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> m = <span class="built_in">len</span>(image)</span><br><span class="line">    <span class="keyword">var</span> n = <span class="built_in">len</span>(image[<span class="number">0</span>])</span><br><span class="line">    <span class="keyword">var</span> dir = []<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">0</span>, <span class="number">-1</span>, <span class="number">0</span>, <span class="number">1</span>&#125;</span><br><span class="line">    <span class="keyword">var</span> src = image[sr][sc]</span><br><span class="line">    <span class="keyword">var</span> valid = <span class="function"><span class="keyword">func</span><span class="params">(x <span class="type">int</span>, y <span class="type">int</span>)</span></span> <span class="type">bool</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> x &gt;= <span class="number">0</span> &amp;&amp; x &lt; m &amp;&amp; y &gt;= <span class="number">0</span> &amp;&amp; y &lt; n</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> dfs <span class="function"><span class="keyword">func</span><span class="params">(x <span class="type">int</span>, y <span class="type">int</span>)</span></span></span><br><span class="line">    dfs = <span class="function"><span class="keyword">func</span><span class="params">(x <span class="type">int</span>, y <span class="type">int</span>)</span></span> &#123;</span><br><span class="line">        image[x][y] = newColor</span><br><span class="line">        <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">4</span>; i++ &#123;</span><br><span class="line">            <span class="keyword">var</span> nx = x + dir[i]</span><br><span class="line">            <span class="keyword">var</span> ny = y + dir[i+<span class="number">1</span>]</span><br><span class="line">            <span class="keyword">if</span> valid(nx, ny) &amp;&amp; image[nx][ny]!=newColor &amp;&amp; image[nx][ny] == src &#123;</span><br><span class="line">                dfs(nx, ny)</span><br><span class="line">            &#125; </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    dfs(sr, sc)</span><br><span class="line">    <span class="keyword">return</span> image</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="1559-äºŒç»´ç½‘æ ¼å›¾ä¸­æ¢æµ‹ç¯"><a href="#1559-äºŒç»´ç½‘æ ¼å›¾ä¸­æ¢æµ‹ç¯" class="headerlink" title="1559. äºŒç»´ç½‘æ ¼å›¾ä¸­æ¢æµ‹ç¯"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/detect-cycles-in-2d-grid/">1559. äºŒç»´ç½‘æ ¼å›¾ä¸­æ¢æµ‹ç¯</a></h2><p>Difficulty: <strong>å›°éš¾</strong></p>
<p>ç»™ä½ ä¸€ä¸ªäºŒç»´å­—ç¬¦ç½‘æ ¼æ•°ç»„Â <code>grid</code>Â ï¼Œå¤§å°ä¸ºÂ <code>m x n</code>Â ï¼Œä½ éœ€è¦æ£€æŸ¥Â <code>grid</code>Â ä¸­æ˜¯å¦å­˜åœ¨ <strong>ç›¸åŒå€¼</strong> å½¢æˆçš„ç¯ã€‚</p>
<p>ä¸€ä¸ªç¯æ˜¯ä¸€æ¡å¼€å§‹å’Œç»“æŸäºåŒä¸€ä¸ªæ ¼å­çš„é•¿åº¦ <strong>å¤§äºç­‰äº 4</strong>Â çš„è·¯å¾„ã€‚å¯¹äºä¸€ä¸ªç»™å®šçš„æ ¼å­ï¼Œä½ å¯ä»¥ç§»åŠ¨åˆ°å®ƒä¸Šã€ä¸‹ã€å·¦ã€å³å››ä¸ªæ–¹å‘ç›¸é‚»çš„æ ¼å­ä¹‹ä¸€ï¼Œå¯ä»¥ç§»åŠ¨çš„å‰ææ˜¯è¿™ä¸¤ä¸ªæ ¼å­æœ‰ **ç›¸åŒçš„å€¼Â **ã€‚</p>
<p>åŒæ—¶ï¼Œä½ ä¹Ÿä¸èƒ½å›åˆ°ä¸Šä¸€æ¬¡ç§»åŠ¨æ—¶æ‰€åœ¨çš„æ ¼å­ã€‚æ¯”æ–¹è¯´ï¼Œç¯Â Â <code>(1, 1) -&gt; (1, 2) -&gt; (1, 1)</code>Â æ˜¯ä¸åˆæ³•çš„ï¼Œå› ä¸ºä» <code>(1, 2)</code>Â ç§»åŠ¨åˆ° <code>(1, 1)</code> å›åˆ°äº†ä¸Šä¸€æ¬¡ç§»åŠ¨æ—¶çš„æ ¼å­ã€‚</p>
<p>å¦‚æœ <code>grid</code>Â ä¸­æœ‰ç›¸åŒå€¼å½¢æˆçš„ç¯ï¼Œè¯·ä½ è¿”å› <code>true</code>Â ï¼Œå¦åˆ™è¿”å› <code>false</code>Â ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<p><img src="https://i.loli.net/2020/12/16/IF9PVSHoOXtZwRr.png"></p>
<figure class="highlight golang"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šgrid = [[<span class="string">&quot;a&quot;</span>,<span class="string">&quot;a&quot;</span>,<span class="string">&quot;a&quot;</span>,<span class="string">&quot;a&quot;</span>],[<span class="string">&quot;a&quot;</span>,<span class="string">&quot;b&quot;</span>,<span class="string">&quot;b&quot;</span>,<span class="string">&quot;a&quot;</span>],[<span class="string">&quot;a&quot;</span>,<span class="string">&quot;b&quot;</span>,<span class="string">&quot;b&quot;</span>,<span class="string">&quot;a&quot;</span>],[<span class="string">&quot;a&quot;</span>,<span class="string">&quot;a&quot;</span>,<span class="string">&quot;a&quot;</span>,<span class="string">&quot;a&quot;</span>]]</span><br><span class="line">è¾“å‡ºï¼š<span class="literal">true</span></span><br><span class="line">è§£é‡Šï¼šå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæœ‰ <span class="number">2</span> ä¸ªç”¨ä¸åŒé¢œè‰²æ ‡å‡ºæ¥çš„ç¯ï¼š</span><br></pre></td></tr></table></figure>
<p><img src="https://i.loli.net/2020/12/16/8EJDuUPc2xMilBm.png"></p>
<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<p><img src="https://i.loli.net/2020/12/16/eljrFPCzf4pgd6s.png"></p>
<figure class="highlight golang"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šgrid = [[<span class="string">&quot;c&quot;</span>,<span class="string">&quot;c&quot;</span>,<span class="string">&quot;c&quot;</span>,<span class="string">&quot;a&quot;</span>],[<span class="string">&quot;c&quot;</span>,<span class="string">&quot;d&quot;</span>,<span class="string">&quot;c&quot;</span>,<span class="string">&quot;c&quot;</span>],[<span class="string">&quot;c&quot;</span>,<span class="string">&quot;c&quot;</span>,<span class="string">&quot;e&quot;</span>,<span class="string">&quot;c&quot;</span>],[<span class="string">&quot;f&quot;</span>,<span class="string">&quot;c&quot;</span>,<span class="string">&quot;c&quot;</span>,<span class="string">&quot;c&quot;</span>]]</span><br><span class="line">è¾“å‡ºï¼š<span class="literal">true</span></span><br><span class="line">è§£é‡Šï¼šå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œåªæœ‰é«˜äº®æ‰€ç¤ºçš„ä¸€ä¸ªåˆæ³•ç¯ï¼š</span><br></pre></td></tr></table></figure>
<p><img src="https://i.loli.net/2020/12/16/9FfYxP7DSUBXEaG.png"></p>
<p><strong>ç¤ºä¾‹ 3ï¼š</strong></p>
<p><img src="https://i.loli.net/2020/12/16/fAr1TEQNpumaXck.png"></p>
<figure class="highlight golang"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼šgrid = [[<span class="string">&quot;a&quot;</span>,<span class="string">&quot;b&quot;</span>,<span class="string">&quot;b&quot;</span>],[<span class="string">&quot;b&quot;</span>,<span class="string">&quot;z&quot;</span>,<span class="string">&quot;b&quot;</span>],[<span class="string">&quot;b&quot;</span>,<span class="string">&quot;b&quot;</span>,<span class="string">&quot;a&quot;</span>]]</span><br><span class="line">è¾“å‡ºï¼š<span class="literal">false</span></span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ul>
<li>  <code>m == grid.length</code></li>
<li>  <code>n == grid[i].length</code></li>
<li>  <code>1 &lt;= m &lt;= 500</code></li>
<li>  <code>1 &lt;= n &lt;= 500</code></li>
<li>  <code>grid</code>Â åªåŒ…å«å°å†™è‹±æ–‡å­—æ¯ã€‚</li>
</ul>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>33 åŒå‘¨èµ›çš„ T4ï¼Œæ€»ä½“ä¸æ˜¯å¾ˆéš¾ï¼Œdfs æˆ–è€…å¹¶æŸ¥é›†éƒ½å¯ä»¥</p>
<figure class="highlight golang"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">containsCycle</span><span class="params">(grid [][]<span class="type">byte</span>)</span></span> <span class="type">bool</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> m, n = <span class="built_in">len</span>(grid), <span class="built_in">len</span>(grid[<span class="number">0</span>])</span><br><span class="line">    <span class="keyword">var</span> dir = [<span class="number">4</span>][<span class="number">2</span>]<span class="type">int</span>&#123;&#123;<span class="number">0</span>,<span class="number">1</span>&#125;,&#123;<span class="number">1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">-1</span>,<span class="number">0</span>&#125;,&#123;<span class="number">0</span>,<span class="number">-1</span>&#125;&#125;</span><br><span class="line">    <span class="keyword">var</span> visit = <span class="built_in">make</span>([][]<span class="type">bool</span>, m)</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; m; i++ &#123;</span><br><span class="line">        visit[i] = <span class="built_in">make</span>([]<span class="type">bool</span>, n)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> valid = <span class="function"><span class="keyword">func</span><span class="params">(x, y <span class="type">int</span>)</span></span> <span class="type">bool</span> &#123; <span class="keyword">return</span> x &gt;= <span class="number">0</span> &amp;&amp; x &lt; m &amp;&amp; y &gt;= <span class="number">0</span> &amp;&amp; y &lt; n&#125;</span><br><span class="line">    <span class="keyword">var</span> dfs <span class="function"><span class="keyword">func</span> <span class="params">(<span class="type">int</span>, <span class="type">int</span>, <span class="type">int</span>, <span class="type">int</span>)</span></span></span><br><span class="line">    <span class="keyword">var</span> res = <span class="literal">false</span></span><br><span class="line">    dfs = <span class="function"><span class="keyword">func</span><span class="params">(preX <span class="type">int</span>, preY <span class="type">int</span>, x <span class="type">int</span>, y <span class="type">int</span>)</span></span> &#123;</span><br><span class="line">        <span class="keyword">if</span> visit[x][y] || res&#123;</span><br><span class="line">            res = <span class="literal">true</span></span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        &#125;</span><br><span class="line">        visit[x][y] = <span class="literal">true</span></span><br><span class="line">        <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(dir); i++ &#123;</span><br><span class="line">            nx := x + dir[i][<span class="number">0</span>]</span><br><span class="line">            ny := y + dir[i][<span class="number">1</span>]</span><br><span class="line">            <span class="comment">//ä¸èµ°å›å¤´è·¯</span></span><br><span class="line">            <span class="keyword">if</span> nx == preX &amp;&amp; ny == preY &#123;</span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> valid(nx, ny) &amp;&amp; grid[nx][ny] == grid[x][y] &#123;</span><br><span class="line">                dfs(x, y, nx, ny)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; m; i++ &#123;</span><br><span class="line">        <span class="keyword">for</span> j := <span class="number">0</span>; j &lt; n; j++ &#123;</span><br><span class="line">            <span class="keyword">if</span> !visit[i][j] &#123;</span><br><span class="line">                dfs(i,j,i,j)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>è§£æ³•äºŒ</strong></p>
<p>å¹¶æŸ¥é›†çš„è§£æ³•ï¼Œç•™ç€ä»¥åå†æ¥å†™</p>
<h2 id="332-é‡æ–°å®‰æ’è¡Œç¨‹"><a href="#332-é‡æ–°å®‰æ’è¡Œç¨‹" class="headerlink" title="332. é‡æ–°å®‰æ’è¡Œç¨‹"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/reconstruct-itinerary/">332. é‡æ–°å®‰æ’è¡Œç¨‹</a></h2><p>Difficulty: <strong>ä¸­ç­‰</strong></p>
<p>ç»™å®šä¸€ä¸ªæœºç¥¨çš„å­—ç¬¦ä¸²äºŒç»´æ•°ç»„ <code>[from, to]</code>ï¼Œå­æ•°ç»„ä¸­çš„ä¸¤ä¸ªæˆå‘˜åˆ†åˆ«è¡¨ç¤ºé£æœºå‡ºå‘å’Œé™è½çš„æœºåœºåœ°ç‚¹ï¼Œå¯¹è¯¥è¡Œç¨‹è¿›è¡Œé‡æ–°è§„åˆ’æ’åºã€‚æ‰€æœ‰è¿™äº›æœºç¥¨éƒ½å±äºä¸€ä¸ªä» JFKï¼ˆè‚¯å°¼è¿ªå›½é™…æœºåœºï¼‰å‡ºå‘çš„å…ˆç”Ÿï¼Œæ‰€ä»¥è¯¥è¡Œç¨‹å¿…é¡»ä» JFK å¼€å§‹ã€‚</p>
<p><strong>æç¤ºï¼š</strong></p>
<ol>
<li> å¦‚æœå­˜åœ¨å¤šç§æœ‰æ•ˆçš„è¡Œç¨‹ï¼Œè¯·ä½ æŒ‰å­—ç¬¦è‡ªç„¶æ’åºè¿”å›æœ€å°çš„è¡Œç¨‹ç»„åˆã€‚ä¾‹å¦‚ï¼Œè¡Œç¨‹ [â€œJFKâ€, â€œLGAâ€] ä¸ [â€œJFKâ€, â€œLGBâ€] ç›¸æ¯”å°±æ›´å°ï¼Œæ’åºæ›´é å‰</li>
<li> æ‰€æœ‰çš„æœºåœºéƒ½ç”¨ä¸‰ä¸ªå¤§å†™å­—æ¯è¡¨ç¤ºï¼ˆæœºåœºä»£ç ï¼‰ã€‚</li>
<li> å‡å®šæ‰€æœ‰æœºç¥¨è‡³å°‘å­˜åœ¨ä¸€ç§åˆç†çš„è¡Œç¨‹ã€‚</li>
<li> æ‰€æœ‰çš„æœºç¥¨å¿…é¡»éƒ½ç”¨ä¸€æ¬¡ ä¸” åªèƒ½ç”¨ä¸€æ¬¡ã€‚</li>
</ol>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š[[<span class="string">&quot;MUC&quot;</span>, <span class="string">&quot;LHR&quot;</span>], [<span class="string">&quot;JFK&quot;</span>, <span class="string">&quot;MUC&quot;</span>], [<span class="string">&quot;SFO&quot;</span>, <span class="string">&quot;SJC&quot;</span>], [<span class="string">&quot;LHR&quot;</span>, <span class="string">&quot;SFO&quot;</span>]]</span><br><span class="line">è¾“å‡ºï¼š[<span class="string">&quot;JFK&quot;</span>, <span class="string">&quot;MUC&quot;</span>, <span class="string">&quot;LHR&quot;</span>, <span class="string">&quot;SFO&quot;</span>, <span class="string">&quot;SJC&quot;</span>]</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š[[<span class="string">&quot;JFK&quot;</span>,<span class="string">&quot;SFO&quot;</span>],[<span class="string">&quot;JFK&quot;</span>,<span class="string">&quot;ATL&quot;</span>],[<span class="string">&quot;SFO&quot;</span>,<span class="string">&quot;ATL&quot;</span>],[<span class="string">&quot;ATL&quot;</span>,<span class="string">&quot;JFK&quot;</span>],[<span class="string">&quot;ATL&quot;</span>,<span class="string">&quot;SFO&quot;</span>]]</span><br><span class="line">è¾“å‡ºï¼š[<span class="string">&quot;JFK&quot;</span>,<span class="string">&quot;ATL&quot;</span>,<span class="string">&quot;JFK&quot;</span>,<span class="string">&quot;SFO&quot;</span>,<span class="string">&quot;ATL&quot;</span>,<span class="string">&quot;SFO&quot;</span>]</span><br><span class="line">è§£é‡Šï¼šå¦ä¸€ç§æœ‰æ•ˆçš„è¡Œç¨‹æ˜¯Â [<span class="string">&quot;JFK&quot;</span>,<span class="string">&quot;SFO&quot;</span>,<span class="string">&quot;ATL&quot;</span>,<span class="string">&quot;JFK&quot;</span>,<span class="string">&quot;ATL&quot;</span>,<span class="string">&quot;SFO&quot;</span>]ã€‚ä½†æ˜¯å®ƒè‡ªç„¶æ’åºæ›´å¤§æ›´é åã€‚</span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•ä¸€</strong></p>
<p>æ¬§æ‹‰å›è·¯ï¼Œä¸€ç¬”ç”»ï¼Œååºéå†ï¼Œå…ˆå°è¯•å®Œæ‰€æœ‰çš„å­èŠ‚ç‚¹æœ€ååœ¨æ·»åŠ å½“å‰èŠ‚ç‚¹ï¼Œç¡®ä¿æ­»èƒ¡åŒä¼šè¢«é¦–å…ˆåŠ å…¥ï¼Œè¿™æ · res ä¸­å°±ä¿æŒäº†ç­”æ¡ˆçš„é€†åº</p>
<figure class="highlight golang"><table><tr><td class="code"><pre><span class="line"><span class="comment">//æ¬§æ‹‰å›è·¯ï¼Œä¸€ç¬”ç”»é—®é¢˜</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">findItinerary</span><span class="params">(tickets [][]<span class="type">string</span>)</span></span> []<span class="type">string</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> adj = <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">string</span>][]<span class="type">string</span>)</span><br><span class="line">    <span class="keyword">for</span> _, tick := <span class="keyword">range</span> tickets &#123;</span><br><span class="line">        adj[tick[<span class="number">0</span>]] = <span class="built_in">append</span>(adj[tick[<span class="number">0</span>]], tick[<span class="number">1</span>])</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> _, toList := <span class="keyword">range</span> adj &#123;</span><br><span class="line">        sort.Strings(toList)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> res []<span class="type">string</span></span><br><span class="line">    <span class="keyword">var</span> dfs <span class="function"><span class="keyword">func</span> <span class="params">(cur <span class="type">string</span>)</span></span> </span><br><span class="line">    dfs = <span class="function"><span class="keyword">func</span> <span class="params">(cur <span class="type">string</span>)</span></span> &#123;</span><br><span class="line">        <span class="keyword">for</span> <span class="built_in">len</span>(adj[cur]) != <span class="number">0</span> &#123;</span><br><span class="line">            <span class="comment">//åˆ é™¤èŠ‚ç‚¹ï¼Œé¿å…é‡å¤è®¿é—®</span></span><br><span class="line">            to := adj[cur][<span class="number">0</span>]</span><br><span class="line">            adj[cur] = adj[cur][<span class="number">1</span>:]</span><br><span class="line">            dfs(to)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//ååºéå†ï¼Œæœ€åå°†è·¯å¾„æ·»åŠ è¿›å»ï¼Œä¿è¯æ­»èƒ¡åŒä¼šé¦–å…ˆåŠ å…¥</span></span><br><span class="line">        res = <span class="built_in">append</span>(res, cur)</span><br><span class="line">    &#125;</span><br><span class="line">    dfs(<span class="string">&quot;JFK&quot;</span>)</span><br><span class="line">    <span class="comment">//ç¿»è½¬ä¸‹</span></span><br><span class="line">    <span class="keyword">for</span> i, j := <span class="number">0</span>, <span class="built_in">len</span>(res)<span class="number">-1</span>; i &lt; j; i, j = i+<span class="number">1</span>, j<span class="number">-1</span> &#123;</span><br><span class="line">        res[i], res[j] = res[j], res[i]</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="841-é’¥åŒ™å’Œæˆ¿é—´"><a href="#841-é’¥åŒ™å’Œæˆ¿é—´" class="headerlink" title="841. é’¥åŒ™å’Œæˆ¿é—´"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/keys-and-rooms/">841. é’¥åŒ™å’Œæˆ¿é—´</a></h2><p>Difficulty: <strong>ä¸­ç­‰</strong></p>
<p>æœ‰ <code>N</code> ä¸ªæˆ¿é—´ï¼Œå¼€å§‹æ—¶ä½ ä½äº <code>0</code> å·æˆ¿é—´ã€‚æ¯ä¸ªæˆ¿é—´æœ‰ä¸åŒçš„å·ç ï¼š<code>0ï¼Œ1ï¼Œ2ï¼Œ...ï¼ŒN-1</code>ï¼Œå¹¶ä¸”æˆ¿é—´é‡Œå¯èƒ½æœ‰ä¸€äº›é’¥åŒ™èƒ½ä½¿ä½ è¿›å…¥ä¸‹ä¸€ä¸ªæˆ¿é—´ã€‚</p>
<p>åœ¨å½¢å¼ä¸Šï¼Œå¯¹äºæ¯ä¸ªæˆ¿é—´ <code>i</code> éƒ½æœ‰ä¸€ä¸ªé’¥åŒ™åˆ—è¡¨ <code>rooms[i]</code>ï¼Œæ¯ä¸ªé’¥åŒ™ <code>rooms[i][j]</code> ç”± <code>[0,1ï¼Œ...ï¼ŒN-1]</code> ä¸­çš„ä¸€ä¸ªæ•´æ•°è¡¨ç¤ºï¼Œå…¶ä¸­ <code>N = rooms.length</code>ã€‚ é’¥åŒ™ <code>rooms[i][j] = v</code> å¯ä»¥æ‰“å¼€ç¼–å·ä¸º <code>v</code> çš„æˆ¿é—´ã€‚</p>
<p>æœ€åˆï¼Œé™¤ <code>0</code> å·æˆ¿é—´å¤–çš„å…¶ä½™æ‰€æœ‰æˆ¿é—´éƒ½è¢«é”ä½ã€‚</p>
<p>ä½ å¯ä»¥è‡ªç”±åœ°åœ¨æˆ¿é—´ä¹‹é—´æ¥å›èµ°åŠ¨ã€‚</p>
<p>å¦‚æœèƒ½è¿›å…¥æ¯ä¸ªæˆ¿é—´è¿”å› <code>true</code>ï¼Œå¦åˆ™è¿”å› <code>false</code>ã€‚</p>
<p><strong>ç¤ºä¾‹ 1ï¼š</strong></p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š[[<span class="number">1</span>],[<span class="number">2</span>],[<span class="number">3</span>],[]]</span><br><span class="line">è¾“å‡ºï¼š<span class="literal">true</span></span><br><span class="line">è§£é‡Šï¼š</span><br><span class="line">æˆ‘ä»¬ä» <span class="number">0</span> å·æˆ¿é—´å¼€å§‹ï¼Œæ‹¿åˆ°é’¥åŒ™ <span class="number">1</span>ã€‚</span><br><span class="line">ä¹‹åæˆ‘ä»¬å» <span class="number">1</span> å·æˆ¿é—´ï¼Œæ‹¿åˆ°é’¥åŒ™ <span class="number">2</span>ã€‚</span><br><span class="line">ç„¶åæˆ‘ä»¬å» <span class="number">2</span> å·æˆ¿é—´ï¼Œæ‹¿åˆ°é’¥åŒ™ <span class="number">3</span>ã€‚</span><br><span class="line">æœ€åæˆ‘ä»¬å»äº† <span class="number">3</span> å·æˆ¿é—´ã€‚</span><br><span class="line">ç”±äºæˆ‘ä»¬èƒ½å¤Ÿè¿›å…¥æ¯ä¸ªæˆ¿é—´ï¼Œæˆ‘ä»¬è¿”å› <span class="literal">true</span>ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2ï¼š</strong></p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š[[<span class="number">1</span>,<span class="number">3</span>],[<span class="number">3</span>,<span class="number">0</span>,<span class="number">1</span>],[<span class="number">2</span>],[<span class="number">0</span>]]</span><br><span class="line">è¾“å‡ºï¼š<span class="literal">false</span></span><br><span class="line">è§£é‡Šï¼šæˆ‘ä»¬ä¸èƒ½è¿›å…¥ <span class="number">2</span> å·æˆ¿é—´ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>æç¤ºï¼š</strong></p>
<ol>
<li> <code>1 &lt;= rooms.length &lt;=Â 1000</code></li>
<li> <code>0 &lt;= rooms[i].length &lt;= 1000</code></li>
<li> æ‰€æœ‰æˆ¿é—´ä¸­çš„é’¥åŒ™æ•°é‡æ€»è®¡ä¸è¶…è¿‡Â <code>3000</code>ã€‚</li>
</ol>
<p><strong>è§£æ³•ä¸€</strong></p>
<p>æ²¡å•¥å¥½è¯´çš„</p>
<figure class="highlight golang"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">canVisitAllRooms</span><span class="params">(rooms [][]<span class="type">int</span>)</span></span> <span class="type">bool</span> &#123;</span><br><span class="line"> Â  Â <span class="keyword">var</span> n = <span class="built_in">len</span>(rooms)</span><br><span class="line"> Â  Â <span class="keyword">var</span> visit = <span class="built_in">make</span>([]<span class="type">bool</span>, n)</span><br><span class="line"> Â  Â <span class="keyword">var</span> dfs <span class="function"><span class="keyword">func</span><span class="params">(<span class="type">int</span>)</span></span></span><br><span class="line"> Â  Â <span class="keyword">var</span> count = <span class="number">0</span></span><br><span class="line"> Â  Â dfs = <span class="function"><span class="keyword">func</span><span class="params">(idx <span class="type">int</span>)</span></span> &#123;</span><br><span class="line"> Â  Â  Â  Â visit[idx] = <span class="literal">true</span></span><br><span class="line"> Â  Â  Â  Â count++</span><br><span class="line"> Â  Â  Â  Â <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(rooms[idx]); i++ &#123;</span><br><span class="line"> Â  Â  Â  Â  Â  Â <span class="keyword">if</span> !visit[rooms[idx][i]] &#123;</span><br><span class="line"> Â  Â  Â  Â  Â  Â  Â  Â dfs(rooms[idx][i]) Â  </span><br><span class="line"> Â  Â  Â  Â  Â   &#125;</span><br><span class="line"> Â  Â  Â   &#125;</span><br><span class="line"> Â   &#125;</span><br><span class="line"> Â  Â dfs(<span class="number">0</span>)</span><br><span class="line"> Â  Â <span class="keyword">return</span> count == n</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="åˆ†æ²»"><a href="#åˆ†æ²»" class="headerlink" title="åˆ†æ²»"></a><em>åˆ†æ²»</em></h2><p>å¼€ä¸ªæ–°å‘ï¼Œå…¶å®åˆ†æ²»è¿™ä¸ª tag æŒºå¤§çš„ï¼Œå¾ˆå¤šé¢˜çš„åšæ³•éƒ½å±äºåˆ†æ²»ï¼Œè€Œä¸”æ¶‰åŠåˆ°åˆ†æ²»çš„é¢˜ç›®ä¸€èˆ¬éƒ½è¿˜æ˜¯æœ‰ç‚¹éš¾åº¦çš„ï¼Œä¸å®¹æ˜“ç›´æ¥æƒ³å‡ºæ¥</p>
<h2 id="241-ä¸ºè¿ç®—è¡¨è¾¾å¼è®¾è®¡ä¼˜å…ˆçº§"><a href="#241-ä¸ºè¿ç®—è¡¨è¾¾å¼è®¾è®¡ä¼˜å…ˆçº§" class="headerlink" title="241. ä¸ºè¿ç®—è¡¨è¾¾å¼è®¾è®¡ä¼˜å…ˆçº§"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/different-ways-to-add-parentheses/">241. ä¸ºè¿ç®—è¡¨è¾¾å¼è®¾è®¡ä¼˜å…ˆçº§</a></h2><p>ç»™å®šä¸€ä¸ªå«æœ‰æ•°å­—å’Œè¿ç®—ç¬¦çš„å­—ç¬¦ä¸²ï¼Œä¸ºè¡¨è¾¾å¼æ·»åŠ æ‹¬å·ï¼Œæ”¹å˜å…¶è¿ç®—ä¼˜å…ˆçº§ä»¥æ±‚å‡ºä¸åŒçš„ç»“æœã€‚ä½ éœ€è¦ç»™å‡ºæ‰€æœ‰å¯èƒ½çš„ç»„åˆçš„ç»“æœã€‚æœ‰æ•ˆçš„è¿ç®—ç¬¦å·åŒ…å« +, - ä»¥åŠ * ã€‚</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š<span class="string">&quot;2-1-1&quot;</span></span><br><span class="line">è¾“å‡ºï¼š[<span class="number">0</span>, <span class="number">2</span>]</span><br><span class="line">è§£é‡Šï¼š</span><br><span class="line">((<span class="number">2</span>-<span class="number">1</span>)-<span class="number">1</span>) = <span class="number">0</span> </span><br><span class="line">(<span class="number">2</span>-(<span class="number">1</span>-<span class="number">1</span>)) = <span class="number">2</span></span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š<span class="string">&quot;2*3-4*5&quot;</span></span><br><span class="line">è¾“å‡ºï¼š[-<span class="number">34</span>, -<span class="number">14</span>, -<span class="number">10</span>, -<span class="number">10</span>, <span class="number">10</span>]</span><br><span class="line">è§£é‡Šï¼š</span><br><span class="line">(<span class="number">2</span>*(<span class="number">3</span>-(<span class="number">4</span>*<span class="number">5</span>))) = -<span class="number">34</span> </span><br><span class="line">((<span class="number">2</span>*<span class="number">3</span>)-(<span class="number">4</span>*<span class="number">5</span>)) = -<span class="number">14</span> </span><br><span class="line">((<span class="number">2</span>*(<span class="number">3</span>-<span class="number">4</span>))*<span class="number">5</span>) = -<span class="number">10</span> </span><br><span class="line">(<span class="number">2</span>*((<span class="number">3</span>-<span class="number">4</span>)*<span class="number">5</span>)) = -<span class="number">10</span> </span><br><span class="line">(((<span class="number">2</span>*<span class="number">3</span>)-<span class="number">4</span>)*<span class="number">5</span>) = <span class="number">10</span></span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•ä¸€</strong></p>
<p>è¿™é¢˜å’‹è¯´å‘¢ï¼Œåº”è¯¥ä¸ç®—æ˜¯å›æº¯ï¼Œæ˜¯åœ¨åˆ†æ²» tag ä¸­æ‰¾çš„ä¸€é¢˜ï¼Œè¿˜æ˜¯æŒºæœ‰æ„æ€çš„</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> Map&lt;String,List&lt;Integer&gt;&gt; map=<span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ†æ²»</span></span><br><span class="line"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title function_">diffWaysToCompute</span><span class="params">(String input)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (input==<span class="literal">null</span> || input.length()&lt;=<span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> diffWaysToCompute(input,<span class="number">0</span>,input.length()-<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title function_">diffWaysToCompute</span><span class="params">(String input,<span class="type">int</span> left,<span class="type">int</span> right)</span> &#123;</span><br><span class="line">    List&lt;Integer&gt; res=<span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    <span class="comment">/*if (left==right) &#123; //è¿™ä¸€æ­¥å¯ä»¥å»æ‰ï¼Œæœ€å¼€å§‹æ²¡è€ƒè™‘å¤šä½æ•°çš„æƒ…å†µï¼ˆè€ƒè™‘åˆ°äº†ä¸çŸ¥é“æ€ä¹ˆå¤„ç†ï¼‰</span></span><br><span class="line"><span class="comment">            res.add(Integer.valueOf(input.charAt(left))-48);</span></span><br><span class="line"><span class="comment">            return res;</span></span><br><span class="line"><span class="comment">        &#125;*/</span></span><br><span class="line">    String key=input.substring(left,right+<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">if</span> (map.containsKey(key)) &#123;</span><br><span class="line">        <span class="keyword">return</span> map.get(key);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i=left;i&lt;=right;i++) &#123; <span class="comment">//å¤§æ„äº†ï¼Œè¿™é‡Œä¸€å¼€å§‹å†™æˆäº† input.length...</span></span><br><span class="line">        <span class="type">char</span> c=input.charAt(i);</span><br><span class="line">        <span class="keyword">if</span> (c&lt;<span class="string">&#x27;0&#x27;</span>) &#123;</span><br><span class="line">            List&lt;Integer&gt; leftCompute=diffWaysToCompute(input,left,i-<span class="number">1</span>);</span><br><span class="line">            List&lt;Integer&gt; rightCompute=diffWaysToCompute(input,i+<span class="number">1</span>,right);</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> lc:leftCompute) &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> rc:rightCompute) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (c==<span class="string">&#x27;+&#x27;</span>) </span><br><span class="line">                        res.add(lc+rc);</span><br><span class="line">                    <span class="keyword">if</span> (c==<span class="string">&#x27;-&#x27;</span>) </span><br><span class="line">                        res.add(lc-rc);</span><br><span class="line">                    <span class="keyword">if</span> (c==<span class="string">&#x27;*&#x27;</span>) </span><br><span class="line">                        res.add(lc*rc);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (res.isEmpty()) &#123;</span><br><span class="line">        res.add(Integer.valueOf(key));</span><br><span class="line">    &#125;</span><br><span class="line">    map.put(key,res);</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç¬¬ä¸€å¤©çœ‹äº†è¿™é“é¢˜ï¼Œæ²¡æƒ³åˆ°æ€è·¯ï¼Œç„¶åç„äº†ä¸€çœ¼è¯„è®ºåŒºï¼Œçœ‹åˆ°äº†å…³é”®ç‚¹ï¼Œæ‰¾åˆ°è¿ç®—ç¬¦ï¼Œç„¶åå·¦å³åˆ†åˆ«é€’å½’ï¼Œæ²¡çœ‹åˆ°ç»†èŠ‚ï¼Œç¬¬äºŒå¤©å›å¿†äº†ä¸‹æ€è·¯å†™å‡ºäº†è§£ï¼Œå…¶å®è¿™é¢˜å¯ä»¥å‚è€ƒ <a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/unique-binary-search-trees-ii/">95. ä¸åŒçš„äºŒå‰æœç´¢æ ‘ II</a> æˆ‘åœ¨æˆ‘çš„ <a href="http://imlgw.top/2019/11/06/leetcode-er-cha-shu/">äºŒå‰æ ‘ä¸“é¢˜</a> ä¸­ä¹ŸåŠ äº†è¿™é“é¢˜ï¼Œä¸¤è€…è§£æ³•æä¸ºç›¸ä¼¼</p>
<h2 id="395-è‡³å°‘æœ‰-K-ä¸ªé‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²"><a href="#395-è‡³å°‘æœ‰-K-ä¸ªé‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²" class="headerlink" title="395. è‡³å°‘æœ‰ K ä¸ªé‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/longest-substring-with-at-least-k-repeating-characters/">395. è‡³å°‘æœ‰ K ä¸ªé‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²</a></h2><p>Difficulty: <strong>ä¸­ç­‰</strong></p>
<p>æ‰¾åˆ°ç»™å®šå­—ç¬¦ä¸²ï¼ˆç”±å°å†™å­—ç¬¦ç»„æˆï¼‰ä¸­çš„æœ€é•¿å­ä¸²<code>T</code>ï¼ŒÂ è¦æ±‚Â <code>T</code>Â ä¸­çš„æ¯ä¸€å­—ç¬¦å‡ºç°æ¬¡æ•°éƒ½ä¸å°‘äº <code>k</code> ã€‚è¾“å‡º <code>T</code>çš„é•¿åº¦ã€‚</p>
<p><strong>ç¤ºä¾‹ 1:</strong></p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š</span><br><span class="line">s = <span class="string">&quot;aaabb&quot;</span>, k = <span class="number">3</span></span><br><span class="line"></span><br><span class="line">è¾“å‡ºï¼š</span><br><span class="line"><span class="number">3</span></span><br><span class="line"></span><br><span class="line">æœ€é•¿å­ä¸²ä¸º <span class="string">&quot;aaa&quot;</span> ï¼Œå…¶ä¸­ <span class="string">&#x27;a&#x27;</span> é‡å¤äº† <span class="number">3</span> æ¬¡ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>ç¤ºä¾‹ 2:</strong></p>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">è¾“å…¥ï¼š</span><br><span class="line">s = <span class="string">&quot;ababbc&quot;</span>, k = <span class="number">2</span></span><br><span class="line"></span><br><span class="line">è¾“å‡ºï¼š</span><br><span class="line"><span class="number">5</span></span><br><span class="line"></span><br><span class="line">æœ€é•¿å­ä¸²ä¸º <span class="string">&quot;ababb&quot;</span> ï¼Œå…¶ä¸­ <span class="string">&#x27;a&#x27;</span> é‡å¤äº† <span class="number">2</span> æ¬¡ï¼Œ <span class="string">&#x27;b&#x27;</span> é‡å¤äº† <span class="number">3</span> æ¬¡ã€‚</span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•ä¸€</strong></p>
<p>ä»¥å‡ºç°æ¬¡æ•°æœ€å°‘çš„å­—ç¬¦ä¸ºä¸­ç‚¹åˆ†æ²»ï¼Œä½†æ˜¯æ•ˆç‡æ„Ÿäººï¼Œ380ms+</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">longestSubstring</span><span class="params">(String s, <span class="type">int</span> k)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (s == <span class="literal">null</span> || s.length() == <span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span>[] count = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">26</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; s.length(); i++)&#123;</span><br><span class="line">        count[s.charAt(i)-<span class="string">&#x27;a&#x27;</span>]++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> <span class="variable">min</span> <span class="operator">=</span> <span class="number">0</span>; <span class="comment">//è®°å½• count æœ€å°çš„ index</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;i &lt; s.length(); i++)&#123;</span><br><span class="line">        min = count[s.charAt(i)-<span class="string">&#x27;a&#x27;</span>] &lt; count[s.charAt(min)-<span class="string">&#x27;a&#x27;</span>] ? i : min;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (count[s.charAt(min)-<span class="string">&#x27;a&#x27;</span>] &gt;= k) &#123;</span><br><span class="line">        <span class="keyword">return</span> s.length();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> Math.max(longestSubstring(s.substring(<span class="number">0</span>,min),k),longestSubstring(s.substring(min+<span class="number">1</span>),k));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>è§£æ³•äºŒ</strong></p>
<p>å‚è€ƒäº†é¢˜è§£åŒºå¤§ä½¬ä»¬çš„å‰ªæå’Œä¼˜åŒ–æ–¹æ³•ï¼Œå¾ªç¯ä»¥æ¯ä¸ªå°äº k çš„å­—ç¬¦ä¸ºç»“å°¾ï¼Œåˆ†å‰²å­—ç¬¦ï¼Œå¤šè·¯åˆ†æ²»ï¼Œå¤§å¤§é™ä½åˆ†æ²»é€’å½’æ ‘çš„é«˜åº¦</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//1ms å¤šè·¯åˆ†æ²»ï¼Œè™½ç„¶è¿‡äº†ï¼Œä½†æ˜¯æ„Ÿè§‰è¿˜æ˜¯æœ‰ç‚¹ä¸æµç•…</span></span><br><span class="line"><span class="comment">//ä¸»è¦å°±æ˜¯æœ€åé‚£ä¸ªå½“ä»¥å¤§äº k çš„å­—ç¬¦ç»“å°¾çš„æ—¶å€™çš„é¢å¤–å¤„ç†ï¼Œå¦‚æœä¸ wa ä¸€å‘ä¸å®¹æ˜“å‘ç°</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">longestSubstring</span><span class="params">(String s, <span class="type">int</span> k)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (s == <span class="literal">null</span> || s.length() == <span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span>[] count = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">26</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; s.length(); i++)&#123;</span><br><span class="line">        count[s.charAt(i)-<span class="string">&#x27;a&#x27;</span>]++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> <span class="variable">res</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> <span class="number">0</span>; <span class="comment">//åˆ†æ²»å·¦ç«¯ç‚¹</span></span><br><span class="line">    <span class="type">boolean</span> <span class="variable">flag</span> <span class="operator">=</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; s.length(); i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(count[s.charAt(i)-<span class="string">&#x27;a&#x27;</span>] &lt; k)&#123;</span><br><span class="line">            flag = <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">if</span>(i - left &gt;= res)&#123; <span class="comment">//å‰ªæä¼˜åŒ–</span></span><br><span class="line">                res = Math.max(longestSubstring(s.substring(left,i),k),res);</span><br><span class="line">            &#125;</span><br><span class="line">            left = i+<span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(!flag) <span class="keyword">return</span> s.length();</span><br><span class="line">    <span class="comment">//ä¸Šé¢åˆ†æ²»çš„é€»è¾‘æ˜¯ä»¥ left åˆ°å°äº k çš„å­—æ¯ i è¿›è¡Œåˆ†æ²»ï¼Œä½†æ˜¯å¦‚æœå­—ç¬¦ä¸æ˜¯ä»¥å°äº k çš„å­—æ¯ç»“å°¾å°±æ— æ³•è®¡ç®—</span></span><br><span class="line">    <span class="comment">//eg: aabbb k=3</span></span><br><span class="line">    <span class="keyword">return</span> Math.max(res,longestSubstring(s.substring(left),k));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å…¶å®è¿˜è¦å¾ˆå¤šåˆ†æ²»çš„æ–¹æ³•ï¼Œä½†æ˜¯æ„Ÿè§‰éƒ½å¤§åŒå°å¼‚</p>

        
            <div class="donate-container">
    <div class="donate-button">
        <button id="donate-button">èµèµ</button>
    </div>
    <div class="donate-img-container hide" id="donate-img-container">
        <img id="donate-img" src="" data-src="">
        <p> æ„Ÿè°¢é¼“åŠ± </p>
    </div>
</div>
        
        <br />
        <div id="comment-container">
        </div>
        <div id="disqus_thread"></div>
        <div id="lv-container"></div>
        <div class="giscus"></div>
    </div>
</div>

    </div>
</div>


<footer class="footer">
    <ul class="list-inline text-center">
        
        

        

        

        
        <li>
            <a target="_blank"  href="https://github.com/imlgw">
                            <span class="fa-stack fa-lg">
                                <i class="iconfont icon-github"></i>
                            </span>
            </a>
        </li>
        

        

    </ul>
    
    <p>
        <span>/</span>
        
        <span><a href="https://imlgw.top">Tadow</a></span>
        <span>/</span>
        
        <span><a target="_blank" rel="noopener" href="http://beian.miit.gov.cn/publish/query/indexFirst.action">é„‚ICPå¤‡18011208å·</a></span>
        <span>/</span>
        
    </p>
    
    <p>
        <span id="busuanzi_container_site_pv">
            <span id="busuanzi_value_site_pv"></span>PV
        </span>
        <span id="busuanzi_container_site_uv">
            <span id="busuanzi_value_site_uv"></span>UV
        </span>
        Created By <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>  Theme <a target="_blank" rel="noopener" href="https://github.com/aircloud/hexo-theme-aircloud">AirCloud</a></p>
</footer>




<script src="https://cdn.jsdelivr.net/npm/live2d-widget@3.x/lib/L2Dwidget.min.js"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"https://cdn.jsdelivr.net/npm/live2d-widget-model-hijiki@1.0.5/assets/hijiki.model.json"},"display":{"superSample":2,"width":160,"height":320,"position":"right","hOffset":0,"vOffset":-70},"mobile":{"show":false,"scale":0.2},"log":false});</script></body>

<script>
    // We expose some of the variables needed by the front end
    window.hexo_search_path = "search.json"
    window.hexo_root = "/"
    window.isPost = true
</script>
<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>

<script src="/js/index.js"></script>

<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>




    <script src="https://giscus.app/client.js"
  data-repo="imlgw/imlgw.github.io"
  data-repo-id="MDEwOlJlcG9zaXRvcnkxMzMyMDY4NDg="
  data-category="Announcements"
  data-category-id="DIC_kwDOB_CTQM4CQ7v8"
  data-mapping="pathname"
  data-strict="0"
  data-reactions-enabled="1"
  data-emit-metadata="0"
  data-input-position="top"
  data-theme="light"
  data-lang="zh-CN"
  data-loading="lazy"
  crossorigin="anonymous"
  async>
</script>



</html>
